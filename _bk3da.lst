       1                                	.TITLE MAIN
       2                                	.LIST MEB
       3                                	.ENABL LC
       4                                
       5                                	.ASECT
       6 001000                         	.=1000
       7                                
       8                                .MACRO RET
       9                                	RETURN
      10                                .ENDM
      11 040020                         C_VADDR=40020
      12 110020                         C_MADDR=110020
      13 122260                         C_XADDR=122260
      14 100010                         C_TADDR=100010
      15 000240                         C_SCRWID=160.
      16 000120                         C_SCRWIH=80.
      17 100064                         SCOREP=C_TADDR+54
      18 100050                         AMMOP=C_TADDR+40
      19 103230                         MSGLN=C_TADDR+3220
      20 117430                         FNT=117430
      21 000000                         V_SC0=0.
      22 000001                         V_SC1=1.
      23 000002                         H_SND=2.
      24 000003                         A_SND=3.
      25 000004                         F_SND=4.
      26 000005                         F_IVTS=5.
      27 000006                         F_EXIT=6.
      28 000007                         F_PCHR=7.
      29 000010                         F_PMSG=8.
      30 000011                         F_TMR=9.
      31 000012                         V_SC2=10.
      32 000013                         M_STA=11.
      33 000014                         MNRS=12.
      34 000023                         HITRAD=19.
      35 000031                         SCLIM=25.
      36 000000                         GSEXIT=0.
      37 000001                         GSGAME=1.
      38 000002                         GSPAUS=2.
      39 000004                         GSPLWN=4.
      40 000010                         GSHTWN=8.
      41                                
      42 001000 106427  000200          START:	MTPS #200
      43                                
      44 001004 004767  007132'         	CALL CLMAPS
      45                                
      46 001010 012737  000001  035450  	MOV #1,@#PpuComm
      47                                
      48 001016 012704  035710          	MOV #PPUBEG,R4
      49 001022 012705  006462          	MOV #PPUEND-PPUBEG/2,R5
      50 001026 004767  035570'         	CALL PPRUN
      51 001032 005737  035450          	TST @#PpuComm
      52 001036 001375                  	BNE .-4
      53                                
      54 001040 005067  001364'         	CLR BITFLD
      55 001044 005067  004070'         	CLR AMAP
      56 001050 004767  001320'         	CALL CLWHLE
      57 001054 013727  000100          	MOV @#100,(PC)+
      58 001060 000000                  OLDTMI:	.WORD 0
      59 001062 013727  000102          	MOV @#102,(PC)+
      60 001066 000000                  OLDTMM:	.WORD 0
      61 001070 012737  001132  000100  	MOV #NEWTMI,@#100
      62 001076 012737  000200  000102  	MOV #200,@#102
      63 001104 012700  000011          	MOV #F_TMR,R0
      64 001110 004767  001246'         	CALL SCH2
      65 001114 005737  035450          	TST @#PpuComm
      66 001120 001375                  	BNE .-4
      67 001122 106427  000000          	MTPS #0
      68 001126 000167  027524'         	JMP GOTIT
      69 001132 036727  001364' 000010  NEWTMI:	BIT BITFLD,#8.
      70 001140 001426                  	BEQ 1$
      71 001142 036727  001220' 000001  	BIT SKIP,#1
      72 001150 001022                  	BNE 1$
      73 001152 010046                  	MOV R0,-(SP)
      74 001154 010146                  	MOV R1,-(SP)
      75 001156 010246                  	MOV R2,-(SP)
      76 001160 010346                  	MOV R3,-(SP)
      77 001162 010446                  	MOV R4,-(SP)
      78 001164 010546                  	MOV R5,-(SP)
      79 001166 013746  176640          	MOV @#176640,-(SP)
      80 001172 004767  002432'         	CALL GLOGIC
      81 001176 012637  176640          	MOV (SP)+,@#176640
      82 001202 012605                  	MOV (SP)+,R5
      83 001204 012604                  	MOV (SP)+,R4
      84 001206 012603                  	MOV (SP)+,R3
      85 001210 012602                  	MOV (SP)+,R2
      86 001212 012601                  	MOV (SP)+,R1
      87 001214 012600                  	MOV (SP)+,R0
      88 001216 005227                  1$:	INC (PC)+
      89 001220 000000                  SKIP:	.WORD 0
      90 001222 026727  001220' 000062  	CMP SKIP,#50.
      91 001230 103405                  	BLO 2$
      92 001232 005067  001220'         	CLR SKIP
      93 001236 052767  000200  001364' 	BIS #128.,BITFLD
      94 001244 000002                  2$:	RTI
      95 001246 106746                  SCH2:	MFPS -(SP)
      96 001250 106427  000200          	MTPS #200
      97 001254 005737  035450          	TST @#PpuComm
      98 001260 001375                  	BNE .-4
      99 001262 012737  000001  035450  	MOV #1,@#PpuComm
     100 001270 032737  000200  176674  	BIT #128.,@#176674
     101 001276 001774                  	BEQ .-6
     102 001300 110037  176676          	MOVB R0,@#176676
     103 001304 032737  000200  176674  	BIT #128.,@#176674
     104 001312 001774                  	BEQ .-6
     105 001314 106426                  	MTPS (SP)+
     106                                	RET
       1 001316 000207                  	RETURN
     107 001320 012700  040000          CLWHLE:	MOV #40000,R0
     108 001324 012703  036120          	MOV #15440.,R3
     109 001330 005020                  	CLR (R0)+
     110 001332 077302                  	SOB R3,.-2
     111 001334 012737  100000  176640  CLVRAM:	MOV #100000,@#176640
     112 001342 012703  050000          	MOV #20480.,R3
     113 001346 005037  176642          1$:	CLR @#176642
     114 001352 005237  176640          	INC @#176640
     115 001356 077305                  	SOB R3,1$
     116                                	RET
       1 001360 000207                  	RETURN
     117 001362 000000                  GSTATE:	.WORD 0
     118 001364 000000                  BITFLD:	.WORD 0
     119 001366    012                  AMMO:	.BYTE 10.
     120 001367    001                  OLDAM:	.BYTE 1.
     121 001370    000     000          SCORE:	.BYTE 0.,0.
     122 001372    001     000          OLDSCR:	.BYTE 1.,0.
     123 001374    000                  FRCNTR:	.BYTE 0
     124 001375    000                  	.EVEN
     125 001376 000000                  PLX:	.WORD 0
     126 001400 000000                  PLY:	.WORD 0
     127 001402 000000                  PLA:	.WORD 0
     128 001404 000000                  SPLX:	.WORD 0
     129 001406 000000                  SPLY:	.WORD 0
     130 001410 000000                  SPLA:	.WORD 0
     131 001412 035426  035424  035432  PROCSK:	.WORD KeyLeft,KeyRight,KeyUp,KeyDown,KeySpace
         001420 035430  035422          
     132 001424 035346  035352  035350  	.WORD KeyJ,KeyF,KeyC,KeyW,KeyY
         001432 035356  035354          
     133 001436 035410  035406  035404  	.WORD KeyK1,KeyK2,KeyK3,KeyK5,KeyEnter,KeyStop
         001444 035400  035420  035412  
     134 001452 003664  003712  003454  PROCSP:	.WORD DLFT,DRGHT,DUP,DDWN,DSPC
         001460 003442  003410          
     135 001464 003740  003546  003454  	.WORD DROT,DSL,DUP,DSR,DDWN
         001472 003566  003442          
     136 001476 003274  003756  003740  	.WORD DTAB,DPAUS,DROT,DEXIT,DREST,DFPS
         001504 003266  004030  003322  
     137 001512 177772  177772  177772  PROCSR:	.WORD 177772,177772,177772,177772,177772
         001520 177772  177772          
     138 001524 177772  177772  177772  	.WORD 177772,177772,177772,177772,177772
         001532 177772  177772          
     139 001536 177760  177774  177772  	.WORD 177760,177774,177772,177760,177763,177772
         001544 177760  177763  177772  
     140 001552 000000  000000  000000  PROCSC:	.WORD 0,0,0,0,1
         001560 000000  000001          
     141 001564 000001  000000  000000  	.WORD 1,0,0,0,0
         001572 000000  000000          
     142 001576 000001  000001  000001  	.WORD 1,1,1,1,1,1
         001604 000001  000001  000001  
     143 001612 000002  000002  000010  PROCST:	.WORD 2,2,10,10,0
         001620 000010  000000          
     144 001624 000000  000004  000010  	.WORD 0,4,10,4,10
         001632 000004  000010          
     145 001636 000000  000000  000000  	.WORD 0,0,0,0,0,0
         001644 000000  000000  000000  
     146 001652 000000                  WASP:	.WORD 0
     147 001654 000000                  ANGV:	.WORD 0
     148 001656 005000                  JKB:	CLR R0
     149 001660 016001  001412          1$:	MOV PROCSK(R0),R1
     150 001664 005711                  	TST (R1)
     151 001666 001421                  	BEQ 2$
     152 001670 005760  001552          	TST PROCSC(R0)
     153 001674 001401                  	BEQ 3$
     154 001676 005011                  	CLR (R1)
     155 001700 016701  001362'         3$:	MOV GSTATE,R1
     156 001704 046001  001512          	BIC PROCSR(R0),R1
     157 001710 001410                  	BEQ 2$
     158 001712 056067  001612  001652' 	BIS PROCST(R0),WASP
     159 001720 016001  001452          	MOV PROCSP(R0),R1
     160 001724 010046                  	MOV R0,-(SP)
     161 001726 004711                  	CALL (R1)
     162 001730 012600                  	MOV (SP)+,R0
     163 001732 005720                  2$:	TST (R0)+
     164 001734 020027  000040          	CMP R0,#32.
     165 001740 001347                  	BNE 1$
     166                                	RET
       1 001742 000207                  	RETURN
     167 001744 016702  002036'         FMS:	MOV FMSP,R2
     168 001750 005202                  	INC R2
     169 001752 042702  177774          	BIC #177774,R2
     170 001756 010267  002036'         	MOV R2,FMSP
     171 001762 110062  002040          	MOVB R0,FMSD1(R2)
     172 001766 110162  002044          	MOVB R1,FMSD2(R2)
     173 001772 005000                  	CLR R0
     174 001774 005001                  	CLR R1
     175 001776 012702  000004          	MOV #4.,R2
     176 002002 116203  002037          1$:	MOVB FMSD1-1(R2),R3
     177 002006 060300                  	ADD R3,R0
     178 002010 116203  002043          	MOVB FMSD2-1(R2),R3
     179 002014 060301                  	ADD R3,R1
     180 002016 077207                  	SOB R2,1$
     181 002020 006200                  	ASR R0
     182 002022 006200                  	ASR R0
     183 002024 006200                  	ASR R0
     184 002026 006201                  	ASR R1
     185 002030 006201                  	ASR R1
     186 002032 006201                  	ASR R1
     187                                	RET
       1 002034 000207                  	RETURN
     188 002036 000000                  FMSP:	.WORD 0
     189 002040                         FMSD1:	.BLKB 4.
     190 002044                         FMSD2:	.BLKB 4.
     191                                	.EVEN
     192 002050 005701                  MAKEMM:	TST R1
     193 002052 001451                  	BEQ 1$
     194 002054 100002                  	BPL 2$
     195 002056 005401                  	NEG R1
     196 002060 010405                  	MOV R4,R5
     197 002062 020127  000010          2$:	CMP R1,#8.
     198 002066 101402                  	BLOS 3$
     199 002070 012701  000010          	MOV #8.,R1
     200 002074 010146                  3$:	MOV R1,-(SP)
     201 002076 004767  003430'         	CALL GETDIR
     202 002102 012702  000011          	MOV #9.,R2
     203 002106 162602                  	SUB (SP)+,R2
     204 002110 010146                  	MOV R1,-(SP)
     205 002112 010246                  	MOV R2,-(SP)
     206 002114 010046                  	MOV R0,-(SP)
     207 002116 010246                  	MOV R2,-(SP)
     208 002120 012604                  	MOV (SP)+,R4
     209 002122 012602                  	MOV (SP)+,R2
     210 002124 100005                  	BPL 11$
     211 002126 005402                  	NEG R2
     212 002130 004767  010060'         	CALL SPDIV
     213 002134 005402                  	NEG R2
     214 002136 000402                  	BR 12$
     215 002140 004767  010060'         11$:	CALL SPDIV
     216 002144 010200                  12$:	MOV R2,R0
     217 002146 012604                  	MOV (SP)+,R4
     218 002150 012602                  	MOV (SP)+,R2
     219 002152 100005                  	BPL 21$
     220 002154 005402                  	NEG R2
     221 002156 004767  010060'         	CALL SPDIV
     222 002162 005402                  	NEG R2
     223 002164 000402                  	BR 22$
     224 002166 004767  010060'         21$:	CALL SPDIV
     225 002172 010201                  22$:	MOV R2,R1
     226 002174 004715                  	CALL (R5)
     227                                1$:	RET
       1 002176 000207                  	RETURN
     228 002200 016701  001362'         JMS:	MOV GSTATE,R1
     229 002204 046701  001512'         	BIC PROCSR,R1
     230 002210 001455                  	BEQ 4$
     231 002212 016701  035452'                 MOV MSST,R1
     232 002216 042701  000401          	BIC #256.+1.,R1
     233 002222 010100                  	MOV R1,R0
     234 002224 000300                  	SWAB R0
     235 002226 106200                  	ASRB R0
     236 002230 106201                  	ASRB R1
     237 002232 004767  001744'         	CALL FMS
     238 002236 010046                  	MOV R0,-(SP)
     239 002240 005767  035416'         	TST KeyShift
     240 002244 001012                  	BNE 22$
     241 002246 032767  000002  001652' 	BIT #2,WASP
     242 002254 001006                  	BNE 22$
     243 002256 060167  001402'         	ADD R1,PLA
     244 002262 042767  177000  001402' 	BIC #177000,PLA
     245 002270 000412                  	BR 21$
     246 002272 032767  000004  001652' 22$:	BIT #4,WASP
     247 002300 001006                  	BNE 21$
     248 002302 012704  003552          	MOV #DSL2,R4
     249 002306 012705  003572          	MOV #DSR2,R5
     250 002312 004767  002050'         	CALL MAKEMM
     251 002316 012601                  21$:	MOV (SP)+,R1
     252 002320 032767  000010  001652' 	BIT #10,WASP
     253 002326 001006                  	BNE 4$
     254 002330 012704  003446          	MOV #DDWN2,R4
     255 002334 012705  003460          	MOV #DUP2,R5
     256 002340 004767  002050'         	CALL MAKEMM
     257                                4$:	RET
       1 002344 000207                  	RETURN
     258 002346 036727  001652' 000001  JPS:	BIT WASP,#1
     259 002354 001002                  	BNE 1$
     260 002356 005067  001654'         	CLR ANGV
     261                                1$:	RET
       1 002362 000207                  	RETURN
     262 002364 005067  001652'         JOY:	CLR WASP
     263 002370 004767  001656'         	CALL JKB
     264 002374 004767  002200'         	CALL JMS
     265 002400 004767  002346'         	CALL JPS
     266                                	RET
       1 002404 000207                  	RETURN
     267 002406 116700  001374'         IFRC:	MOVB FRCNTR,R0
     268 002412 105200                  	INCB R0
     269 002414 105200                  	INCB R0
     270 002416 110067  001374'         	MOVB R0,FRCNTR
     271 002422 001002                  	BNE 1$
     272 002424 004767  007072'         	CALL CLVIS
     273                                1$:	RET
       1 002430 000207                  	RETURN
     274 002432 022767  000002  001362' GLOGIC:	CMP #GSPAUS,GSTATE
     275 002440 001402                  	BEQ 1$
     276 002442 004767  025612'         	CALL MNMOV
     277 002446 004767  002364'         1$:	CALL JOY
     278 002452 022767  000010  001362' 	CMP #GSHTWN,GSTATE
     279 002460 001010                  	BNE 2$
     280 002462 004767  012072'         	CALL SETTA
     281 002466 016701  026210'         	MOV MNBF+6.,R1
     282 002472 016700  026206'         	MOV MNBF+4.,R0
     283 002476 004767  003416'         	CALL SETPL
     284                                2$:	RET
       1 002502 000207                  	RETURN
     285 002504 106427  000200          THSNC:	MTPS #200
     286 002510 016767  001402' 001410' 	MOV PLA,SPLA
     287 002516 016767  001376' 001404' 	MOV PLX,SPLX
     288 002524 016767  001400' 001406' 	MOV PLY,SPLY
     289 002532 004767  026146'         	CALL MNSYNC
     290 002536 106427  000000          	MTPS #0
     291                                	RET
       1 002542 000207                  	RETURN
     292 002544 105067  001374'         LMAP:	CLRB FRCNTR
     293 002550 004767  007036'         	CALL PREPM
     294 002554 004767  007072'         	CALL CLVIS
     295 002560 004767  024430'         	CALL MNSET
     296 002564 004767  014362'         	CALL PREPR
     297 002570 004767  011454'         	CALL INISCR
     298 002574 004767  011544'         	CALL INIAM
     299                                	RET
       1 002600 000207                  	RETURN
     300                                GO:
     301 002602 004767  014264'         	CALL PREP0
     302 002606 004767  007450'         	CALL CLPSC
     303 002612 004767  004062'         	CALL DRST2
     304 002616 052767  000010  001364' 	BIS #8.,BITFLD
     305 002624 004767  002504'         ML:	CALL THSNC
     306 002630 004767  002406'         	CALL IFRC
     307 002634 004767  015366'         	CALL RENDR
     308 002640 004767  021560'         	CALL MNPRC
     309 002644 004767  014534'         	CALL DRDIFF
     310 002650 004767  011470'         	CALL PRNSCR
     311 002654 004767  011562'         	CALL PRNAM
     312 002660 005227                  	INC (PC)+
     313 002662 000000                  CFPS:	.WORD 0
     314 002664 004767  002740'         	CALL PRFPS
     315                                ML2:
     316 002670 004767  003050'         	CALL DOMAP
     317 002674 004767  003010'         	CALL DORST
     318 002700 004767  003144'         	CALL DOMSG
     319 002704 016700  001362'         	MOV GSTATE,R0
     320 002710 001407                  	BEQ 1$
     321 002712 006200                  	ASR R0
     322 002714 001743                  	BEQ ML
     323 002716 006200                  	ASR R0
     324 002720 001763                  	BEQ ML2
     325 002722 006200                  	ASR R0
     326 002724 001737                  	BEQ ML
     327 002726 000736                  	BR ML
     328 002730 042767  000010  001364' 1$:	BIC #8.,BITFLD
     329                                	RET
       1 002736 000207                  	RETURN
     330 002740 032767  000200  001364' PRFPS:	BIT #128.,BITFLD
     331 002746 001417                  	BEQ 1$
     332 002750 042767  000200  001364' 	BIC #128.,BITFLD
     333 002756 032767  000400  001364' 	BIT #256.,BITFLD
     334 002764 001406                  	BEQ 2$
     335 002766 012701  100000          	MOV #100000,R1
     336 002772 016704  002662'         	MOV CFPS,R4
     337 002776 004767  011306'         	CALL DOUT
     338 003002 005067  002662'         2$:	CLR CFPS
     339                                1$:	RET
       1 003006 000207                  	RETURN
     340 003010 032767  000004  001364' DORST:	BIT #4,BITFLD
     341 003016 001413                  	BEQ 1$
     342 003020 042767  000004  001364' 	BIC #4,BITFLD
     343 003026 042767  000010  001364' 	BIC #8.,BITFLD
     344 003034 004767  004062'         	CALL DRST2
     345 003040 052767  000010  001364' 	BIS #8.,BITFLD
     346                                1$:	RET
       1 003046 000207                  	RETURN
     347 003050 032767  000001  001364' DOMAP:	BIT #1,BITFLD
     348 003056 001417                  	BEQ 2$
     349 003060 042767  000001  001364' 	BIC #1,BITFLD
     350 003066 032767  000002  001364' 	BIT #2,BITFLD
     351 003074 001003                  	BNE 1$
     352 003076 004767  010152'         	CALL CLRM
     353                                	RET
       1 003102 000207                  	RETURN
     354 003104 004767  010220'         1$:	CALL DRAWM
     355 003110 004767  010474'         	CALL MNDRW
     356                                	RET
       1 003114 000207                  	RETURN
     357 003116 032767  000002  001364' 2$:	BIT #2,BITFLD
     358 003124 001406                  	BEQ 3$
     359 003126 022767  000002  001362' 	CMP #GSPAUS,GSTATE
     360 003134 001402                  	BEQ 3$
     361 003136 004767  010474'         	CALL MNDRW
     362                                3$:	RET
       1 003142 000207                  	RETURN
     363 003144 032767  000020  001364' DOMSG:	BIT #16.,BITFLD
     364 003152 001413                  	BEQ 1$
     365 003154 042767  000020  001364' 	BIC #16.,BITFLD
     366 003162 012705  000002          	MOV #2,R5
     367 003166 004767  011616'         	CALL PRNMS
     368 003172 012705  000003          	MOV #3,R5
     369 003176 004767  011616'         	CALL PRNMS
     370 003202 032767  000040  001364' 1$:	BIT #32.,BITFLD
     371 003210 001413                  	BEQ 2$
     372 003212 042767  000040  001364' 	BIC #32.,BITFLD
     373 003220 012705  000001          	MOV #1,R5
     374 003224 004767  011616'         	CALL PRNMS
     375 003230 012705  000003          	MOV #3,R5
     376 003234 004767  011616'         	CALL PRNMS
     377 003240 032767  000100  001364' 2$:	BIT #64.,BITFLD
     378 003246 001406                  	BEQ 3$
     379 003250 042767  000100  001364' 	BIC #64.,BITFLD
     380 003256 005005                  	CLR R5
     381 003260 004767  011616'         	CALL PRNMS
     382                                3$:	RET
       1 003264 000207                  	RETURN
     383 003266 005067  001362'         DEXIT:	CLR GSTATE
     384                                	RET
       1 003272 000207                  	RETURN
     385 003274 012700  000002          DTAB:	MOV #2,R0
     386 003300 016701  001364'         	MOV BITFLD,R1
     387 003304 074001                  	XOR R0,R1
     388 003306 010167  001364'         	MOV R1,BITFLD
     389 003312 052767  000001  001364' 	BIS #1,BITFLD
     390                                1$:	RET
       1 003320 000207                  	RETURN
     391 003322 012700  000400          DFPS:	MOV #256.,R0
     392 003326 016701  001364'         	MOV BITFLD,R1
     393 003332 074001                  	XOR R0,R1
     394 003334 010167  001364'         	MOV R1,BITFLD
     395 003340 032701  000400          	BIT #256.,R1
     396 003344 001020                  	BNE 1$
     397 003346 012737  100000  176640  	MOV #100000,@#176640
     398 003354 012701  000040          	MOV #32.,R1
     399 003360 012700  000010          3$:	MOV #8.,R0
     400 003364 005037  176642          2$:	CLR @#176642
     401 003370 005237  176640          	INC @#176640
     402 003374 077005                  	SOB R0,2$
     403 003376 062737  000110  176640  	ADD #80.-8.,@#176640
     404 003404 077113                  	SOB R1,3$
     405                                1$:	RET
       1 003406 000207                  	RETURN
     406 003410 004767  025644'         DSPC:	CALL DPROJ1
     407                                	RET
       1 003414 000207                  	RETURN
     408 003416 010067  001376'         SETPL:	MOV R0,PLX
     409 003422 010167  001400'         	MOV R1,PLY
     410                                	RET
       1 003426 000207                  	RETURN
     411 003430 016700  001402'         GETDIR:	MOV PLA,R0
     412 003434 004767  007666'         	CALL GSNCS
     413                                	RET
       1 003440 000207                  	RETURN
     414 003442 004767  003430'         DDWN:	CALL GETDIR
     415 003446 005400                  DDWN2:	NEG R0
     416 003450 005401                  	NEG R1
     417 003452 000402                  	BR DUP2
     418 003454 004767  003430'         DUP:	CALL GETDIR
     419 003460 010002                  DUP2:	MOV R0,R2
     420 003462 010103                  	MOV R1,R3
     421 003464 066700  001376'         	ADD PLX,R0
     422 003470 066701  001400'         	ADD PLY,R1
     423 003474 004767  011102'         	CALL CHECK
     424 003500 001003                  	BNE 1$
     425 003502 004767  003416'         	CALL SETPL
     426 003506 000416                  	BR 3$
     427 003510 160301                  1$:	SUB R3,R1
     428 003512 004767  011102'         	CALL CHECK
     429 003516 001003                  	BNE 2$
     430 003520 004767  003416'         	CALL SETPL
     431 003524 000407                  	BR 3$
     432 003526 060301                  2$:	ADD R3,R1
     433 003530 160200                  	SUB R2,R0
     434 003532 004767  011102'         	CALL CHECK
     435 003536 001002                  	BNE 3$
     436 003540 004767  003416'         	CALL SETPL
     437                                3$:	RET
       1 003544 000207                  	RETURN
     438 003546 004767  003430'         DSL:	CALL GETDIR
     439 003552 074001                  DSL2:	XOR R0,R1
     440 003554 074100                  	XOR R1,R0
     441 003556 074001                  	XOR R0,R1
     442 003560 005401                  	NEG R1
     443 003562 000167  003460'         	JMP DUP2
     444 003566 004767  003430'         DSR:	CALL GETDIR
     445 003572 074001                  DSR2:	XOR R0,R1
     446 003574 074100                  	XOR R1,R0
     447 003576 074001                  	XOR R0,R1
     448 003600 005401                  	NEG R1
     449 003602 000167  003446'         	JMP DDWN2
     450 003606 016700  001654'         IANGV:	MOV ANGV,R0
     451 003612 005200                  	INC R0
     452 003614 020027  000006          	CMP R0,#6.
     453 003620 103402                  	BLO 1$
     454 003622 012700  000005          	MOV #5.,R0
     455 003626 010067  001654'         1$:	MOV R0,ANGV
     456 003632 006300                  	ASL R0
     457 003634 016000  003650          	MOV IAVV(R0),R0
     458 003640 052767  000001  001652' 	BIS #1,WASP
     459                                	RET
       1 003646 000207                  	RETURN
     460 003650 000000  000003  000005  IAVV:	.WORD 0.,3.,5.,6.,7.,8.
         003656 000006  000007  000010  
     461 003664 005767  035416'         DLFT:	TST KeyShift
     462 003670 001326                  	BNE DSL
     463 003672 004767  003606'         	CALL IANGV
     464 003676 160067  001402'         	SUB R0,PLA
     465 003702 042767  177000  001402' 	BIC #177000,PLA
     466                                	RET
       1 003710 000207                  	RETURN
     467 003712 005767  035416'         DRGHT:	TST KeyShift
     468 003716 001323                  	BNE DSR
     469 003720 004767  003606'         	CALL IANGV
     470 003724 060067  001402'         	ADD R0,PLA
     471 003730 042767  177000  001402' 	BIC #177000,PLA
     472                                	RET
       1 003736 000207                  	RETURN
     473 003740 062767  000400  001402' DROT:	ADD #256.,PLA
     474 003746 042767  177000  001402' 	BIC #177000,PLA
     475                                	RET
       1 003754 000207                  	RETURN
     476 003756 026727  001362' 000001  DPAUS:	CMP GSTATE,#GSGAME
     477 003764 001007                  	BNE 2$
     478 003766 012767  000002  001362' 	MOV #GSPAUS,GSTATE
     479 003774 052767  000100  001364' 	BIS #64.,BITFLD
     480 004002 000411                  	BR 1$
     481 004004 026727  001362' 000002  2$:	CMP GSTATE,#GSPAUS
     482 004012 001005                  	BNE 1$
     483 004014 012767  000001  001362' 	MOV #GSGAME,GSTATE
     484 004022 004767  011642'         	CALL CLMS
     485                                1$:	RET
       1 004026 000207                  	RETURN
     486 004030 026727  001362' 000004  DREST:	CMP GSTATE,#GSPLWN
     487 004036 001405                  	BEQ 1$
     488 004040 026727  001362' 000010  	CMP GSTATE,#GSHTWN
     489 004046 001401                  	BEQ 1$
     490                                	RET
       1 004050 000207                  	RETURN
     491 004052 052767  000004  001364' 1$:	BIS #4,BITFLD
     492                                	RET
       1 004060 000207                  	RETURN
     493 004062 005067  002662'         DRST2:	CLR CFPS
     494 004066 012700                  	MOV (PC)+,R0
     495 004070 000000                  AMAP:	.WORD 0
     496 004072 004767  002544'         	CALL LMAP
     497 004076 012767  000001  001362' 	MOV #GSGAME,GSTATE
     498 004104 004767  011642'         	CALL CLMS
     499 004110 032767  000002  001364' 	BIT #2,BITFLD
     500 004116 001404                  	BEQ 1$
     501 004120 004767  010152'         	CALL CLRM
     502 004124 004767  010220'         	CALL DRAWM
     503 004130 005067  001652'         1$:	CLR WASP
     504 004134 005067  001654'         	CLR ANGV
     505                                	RET
       1 004140 000207                  	RETURN
     506                                
     507                                CLMSK:
     508 004142    003     003     014  DRMS1:	.BYTE 3,3,14,14,60,60,300,300
         004145    014     060     060  
         004150    300     300          
     509 004152    000     003     000  DRMS2:	.BYTE 0,3,0,14,0,60,0,300
         004155    014     000     060  
         004160    000     300          
     510 004162    003     000     014  DRMS3:	.BYTE 3,0,14,0,60,0,300,0
         004165    000     060     000  
         004170    300     000          
     511 004172 040000  037776  037772  SCTAB:	.WORD 040000,037776,037772,037764
         004200 037764                  
     512 004202 037753  037740  037722  	.WORD 037753,037740,037722,037702
         004210 037702                  
     513 004212 037657  037632  037602  	.WORD 037657,037632,037602,037550
         004220 037550                  
     514 004222 037513  037454  037412  	.WORD 037513,037454,037412,037346
         004230 037346                  
     515 004232 037300  037227  037153  	.WORD 037300,037227,037153,037075
         004240 037075                  
     516 004242 037015  036732  036645  	.WORD 037015,036732,036645,036555
         004250 036555                  
     517 004252 036463  036366  036270  	.WORD 036463,036366,036270,036166
         004260 036166                  
     518 004262 036063  035755  035644  	.WORD 036063,035755,035644,035532
         004270 035532                  
     519 004272 035415  035276  035154  	.WORD 035415,035276,035154,035030
         004300 035030                  
     520 004302 034702  034552  034417  	.WORD 034702,034552,034417,034262
         004310 034262                  
     521 004312 034123  033762  033616  	.WORD 034123,033762,033616,033450
         004320 033450                  
     522 004322 033301  033127  032752  	.WORD 033301,033127,032752,032574
         004330 032574                  
     523 004332 032414  032232  032045  	.WORD 032414,032232,032045,031657
         004340 031657                  
     524 004342 031466  031274  031077  	.WORD 031466,031274,031077,030701
         004350 030701                  
     525 004352 030500  030276  030071  	.WORD 030500,030276,030071,027663
         004360 027663                  
     526 004362 027453  027241  027026  	.WORD 027453,027241,027026,026610
         004370 026610                  
     527 004372 026371  026150  025725  	.WORD 026371,026150,025725,025501
         004400 025501                  
     528 004402 025252  025022  024571  	.WORD 025252,025022,024571,024336
         004410 024336                  
     529 004412 024101  023643  023403  	.WORD 024101,023643,023403,023141
         004420 023141                  
     530 004422 022677  022432  022164  	.WORD 022677,022432,022164,021715
         004430 021715                  
     531 004432 021444  021172  020717  	.WORD 021444,021172,020717,020442
         004440 020442                  
     532 004442 020164  017705  017424  	.WORD 020164,017705,017424,017143
         004450 017143                  
     533 004452 016660  016374  016106  	.WORD 016660,016374,016106,015620
         004460 015620                  
     534 004462 015331  015040  014547  	.WORD 015331,015040,014547,014254
         004470 014254                  
     535 004472 013761  013464  013167  	.WORD 013761,013464,013167,012671
         004500 012671                  
     536 004502 012372  012072  011571  	.WORD 012372,012072,011571,011270
         004510 011270                  
     537 004512 010766  010463  010157  	.WORD 010766,010463,010157,007653
         004520 007653                  
     538 004522 007346  007041  006533  	.WORD 007346,007041,006533,006225
         004530 006225                  
     539 004532 005716  005406  005077  	.WORD 005716,005406,005077,004566
         004540 004566                  
     540 004542 004256  003745  003434  	.WORD 004256,003745,003434,003122
         004550 003122                  
     541 004552 002610  002276  001764  	.WORD 002610,002276,001764,001452
         004560 001452                  
     542 004562 001137  000625  000312  	.WORD 001137,000625,000312,000000
         004570 000000                  
     543 004572 004604                  MAPLST:	.WORD MAP1
     544 004574 004760                  	.WORD MAP2
     545 004576 005100                  	.WORD MAP3
     546 004600 005244                  	.WORD MAP4
     547 004602 005362                  	.WORD MAP5
     548 004604 000140                  MAP1:	.WORD 96.
     549 004606 000140                  	.WORD 96.
     550 004610 000000                  	.WORD 0.
     551 004612    222     034     034  	.BYTE 222,34,34,114,0,204,333,54
         004615    114     000     204  
         004620    333     054          
     552 004622    036     136     136  	.BYTE 36,136,136,153,20,364,5,355
         004625    153     020     364  
         004630    005     355          
     553 004632    356     356     037  	.BYTE 356,356,37,344,156,0,362,0
         004635    344     156     000  
         004640    362     000          
     554 004642    336     162     000  	.BYTE 336,162,0,33,137,176,276,0
         004645    033     137     176  
         004650    276     000          
     555 004652    224     064     375  	.BYTE 224,64,375,0,224,0,276,207
         004655    000     224     000  
         004660    276     207          
     556 004662    077     224     000  	.BYTE 77,224,0,261,0,13,275,37
         004665    261     000     013  
         004670    275     037          
     557 004672    164     235     001  	.BYTE 164,235,1,0,24,226,13,177
         004675    000     024     226  
         004700    013     177          
     558 004702    033     324     201  	.BYTE 33,324,201,166,204,37,355,304
         004705    166     204     037  
         004710    355     304          
     559 004712    032     344     332  	.BYTE 32,344,332,0,0,37,154,264
         004715    000     000     037  
         004720    154     264          
     560 004722    001     166     204  	.BYTE 1,166,204,337,270,24,40,77
         004725    337     270     024  
         004730    040     077          
     561 004732    154     356     037  	.BYTE 154,356,37,162,156,171,336,336
         004735    162     156     171  
         004740    336     336          
     562 004742    074     136     136  	.BYTE 74,136,136,20,77,54,137,166
         004745    020     077     054  
         004750    137     166          
     563 004752    074     001     204  	.BYTE 74,1,204,44,250,377
         004755    044     250     377  
     564                                	.EVEN
     565 004760 000140                  MAP2:	.WORD 96.
     566 004762 000140                  	.WORD 96.
     567 004764 000000                  	.WORD 0.
     568 004766    222     034     034  	.BYTE 222,34,34,54,0,204,337,54
         004771    054     000     204  
         004774    337     054          
     569 004776    037     060     060  	.BYTE 37,60,60,45,66,102,1,26
         005001    045     066     102  
         005004    001     026          
     570 005006    037     132     137  	.BYTE 37,132,137,75,0,142,375,5
         005011    075     000     142  
         005014    375     005          
     571 005016    164     000     144  	.BYTE 164,0,144,144,354,13,162,37
         005021    144     354     013  
         005024    162     037          
     572 005026    167     204     064  	.BYTE 167,204,64,264,24,37,54,77
         005031    264     024     037  
         005034    054     077          
     573 005036    013     001     066  	.BYTE 13,1,66,44,37,271,224,41
         005041    044     037     271  
         005044    224     041          
     574 005046    174     237     164  	.BYTE 174,237,164,0,226,321,337,330
         005051    000     226     321  
         005054    337     330          
     575 005056    122     001     101  	.BYTE 122,1,101,62,261,77,73,60
         005061    062     261     077  
         005064    073     060          
     576 005066    060     137     126  	.BYTE 60,137,126,12,337,60,222,240
         005071    012     337     060  
         005074    222     240          
     577 005076    377                  	.BYTE 377
     578 005077    000                  	.EVEN
     579 005100 000140                  MAP3:	.WORD 96.
     580 005102 000140                  	.WORD 96.
     581 005104 000000                  	.WORD 0.
     582 005106    222     032     034  	.BYTE 222,32,34,52,0,204,362,52
         005111    052     000     204  
         005114    362     052          
     583 005116    052     246     261  	.BYTE 52,246,261,31,336,226,1,52
         005121    031     336     226  
         005124    001     052          
     584 005126    335     077     060  	.BYTE 335,77,60,354,5,100,77,57
         005131    354     005     100  
         005134    077     057          
     585 005136    007     346     143  	.BYTE 7,346,143,77,356,266,66,66
         005141    077     356     266  
         005144    066     066          
     586 005146    136     326     037  	.BYTE 136,326,37,333,77,0,136,120
         005151    333     077     000  
         005154    136     120          
     587 005156    005     140     323  	.BYTE 5,140,323,137,366,143,77,266
         005161    137     366     143  
         005164    077     266          
     588 005166    306     137     326  	.BYTE 306,137,326,37,323,137,160,173
         005171    037     323     137  
         005174    160     173          
     589 005176    005     200     137  	.BYTE 5,200,137,115,306,216,77,326
         005201    115     306     216  
         005204    077     326          
     590 005206    333     137     037  	.BYTE 333,137,37,133,137,115,220,354
         005211    133     137     115  
         005214    220     354          
     591 005216    005     240     137  	.BYTE 5,240,137,67,106,1,143,77
         005221    067     106     001  
         005224    143     077          
     592 005226    344     066     066  	.BYTE 344,66,66,66,20,126,237,12
         005231    066     020     126  
         005234    237     012          
     593 005236    337     060     222  	.BYTE 337,60,222,240,377
         005241    240     377          
     594 005243    000                  	.EVEN
     595 005244 000140                  MAP4:	.WORD 96.
     596 005246 000140                  	.WORD 96.
     597 005250 000000                  	.WORD 0.
     598 005252    222     030     034  	.BYTE 222,30,34,50,0,216,336,0
         005255    050     000     216  
         005260    336     000          
     599 005262    116     050     300  	.BYTE 116,50,300,37,63,76,332,276
         005265    037     063     076  
         005270    332     276          
     600 005272    010     176     327  	.BYTE 10,176,327,77,0,261,276,137
         005275    077     000     261  
         005300    276     137          
     601 005302    154     037     035  	.BYTE 154,37,35,116,336,124,36,216
         005305    116     336     124  
         005310    036     216          
     602 005312    300     077     264  	.BYTE 300,77,264,277,54,37,35,136
         005315    277     054     037  
         005320    035     136          
     603 005322    266     016     316  	.BYTE 266,16,316,156,10,265,236,77
         005325    156     010     265  
         005330    236     077          
     604 005332    332     316     137  	.BYTE 332,316,137,26,37,16,156,160
         005335    026     037     016  
         005340    156     160          
     605 005342    166     100     256  	.BYTE 166,100,256,237,6,336,320,277
         005345    237     006     336  
         005350    320     277          
     606 005352    261     037     202  	.BYTE 261,37,202,337,214,44,250,377
         005355    337     214     044  
         005360    250     377          
     607                                	.EVEN
     608 005362 000140                  MAP5:	.WORD 96.
     609 005364 000140                  	.WORD 96.
     610 005366 000000                  	.WORD 0.
     611 005370    222     030     034  	.BYTE 222,30,34,50,0,204,336,50
         005373    050     000     204  
         005376    336     050          
     612 005400    037     112     357  	.BYTE 37,112,357,0,23,132,167,0
         005403    000     023     132  
         005406    167     000          
     613 005410    036     265     072  	.BYTE 36,265,72,73,333,152,37,260
         005413    073     333     152  
         005416    037     260          
     614 005420    170     001     261  	.BYTE 170,1,261,37,333,330,73,260
         005423    037     333     330  
         005426    073     260          
     615 005430    350     037     134  	.BYTE 350,37,134,0,371,60,60,344
         005433    000     371     060  
         005436    060     344          
     616 005440    000     003     265  	.BYTE 0,3,265,152,137,330,72,37
         005443    152     137     330  
         005446    072     037          
     617 005450    056     050     367  	.BYTE 56,50,367,152,230,1,143,37
         005453    152     230     001  
         005456    143     037          
     618 005460    151     001     144  	.BYTE 151,1,144,37,26,121,10,155
         005463    037     026     121  
         005466    010     155          
     619 005470    140     050     243  	.BYTE 140,50,243,237,5,337,30,111
         005473    237     005     337  
         005476    030     111          
     620 005500    120     377          	.BYTE 120,377
     621                                	.EVEN
     622 005502 000002                  MTRLH:	.WORD 02.
     623 005504 000004                  	.WORD 04.
     624 005506 000006                  	.WORD 06.
     625 005510 000010                  	.WORD 08.
     626 005512 000012                  	.WORD 10.
     627 005514 000014                  	.WORD 12.
     628 005516 000016                  	.WORD 14.
     629 005520 000020                  	.WORD 16.
     630 005522 000022                  MTRLV:	.WORD 18.
     631 005524 000024                  	.WORD 20.
     632 005526 000026                  	.WORD 22.
     633 005530 000030                  	.WORD 24.
     634 005532 000032                  	.WORD 26.
     635 005534 000034                  	.WORD 28.
     636 005536 000036                  	.WORD 30.
     637 005540 000040                  	.WORD 32.
     638 005542 104210                  	.WORD ^B1000100010001000
     639 005544 000210                  	.WORD ^B0000000010001000
     640 005546 042210                  	.WORD ^B0100010010001000
     641 005550 021021                  	.WORD ^B0010001000010001
     642 005552 104104                  	.WORD ^B1000100001000100
     643 005554 021063                  	.WORD ^B0010001000110011
     644 005556 146210                  	.WORD ^B1100110010001000
     645 005560 000063                  	.WORD ^B0000000000110011
     646 005562 146000                  	.WORD ^B1100110000000000
     647 005564 031463                  	.WORD ^B0011001100110011
     648 005566 042252                  	.WORD ^B0100010010101010
     649 005570 125231                  	.WORD ^B1010101010011001
     650 005572 114525                  	.WORD ^B1001100101010101
     651 005574 052777                  	.WORD ^B0101010111111111
     652 005576 177525                  	.WORD ^B1111111101010101
     653 005600 000377                  	.WORD ^B0000000011111111
     654 005602 177400                  	.WORD ^B1111111100000000
     655 005604 177777                  	.WORD ^B1111111111111111
     656 005606 000000                  MTRLS:	.WORD ^B0000000000000000
     657 005610 177777                  	.WORD ^B1111111111111111
     658 005612 177400                  	.WORD ^B1111111100000000
     659 005614 000377                  	.WORD ^B0000000011111111
     660 005616 177652                  	.WORD ^B1111111110101010
     661 005620 125377                  	.WORD ^B1010101011111111
     662 005622 125231                  	.WORD ^B1010101010011001
     663 005624 042252                  	.WORD ^B0100010010101010
     664 005626 052504                  	.WORD ^B0101010101000100
     665 005630 146314                  	.WORD ^B1100110011001100
     666 005632 031400                  	.WORD ^B0011001100000000
     667 005634 000314                  	.WORD ^B0000000011001100
     668 005636 031442                  	.WORD ^B0011001100100010
     669 005640 104314                  	.WORD ^B1000100011001100
     670 005642 021021                  	.WORD ^B0010001000010001
     671 005644 042210                  	.WORD ^B0100010010001000
     672 005646 010400                  	.WORD ^B0001000100000000
     673 005650 000042                  	.WORD ^B0000000000100010
     674 005652 021042                  	.WORD ^B0010001000100010
     675 005654 177400                  MTRLM:	.WORD ^B1111111100000000
     676 005656 000377                  	.WORD ^B0000000011111111
     677 005660 000000                  	.WORD 0
     678 005662 000000                  	.WORD 0
     679 005664 177777                  	.WORD ^B1111111111111111
     680 005666 010000  004000  002525  SCLR:	.WORD 4096.,2048.,1365.,1024.,819.,683.,585.,512.
         005674 002000  001463  001253  
         005702 001111  001000          
     681 005706 000707  000632  000564  	.WORD 455.,410.,372.,341.,315.,293.,273.,256.
         005714 000525  000473  000445  
         005722 000421  000400          
     682 005726 000361  000344  000330  	.WORD 241.,228.,216.,205.,195.,186.,178.,171.
         005734 000315  000303  000272  
         005742 000262  000253          
     683 005746 000244  000236  000230  	.WORD 164.,158.,152.,146.,141.,137.,132.,128.
         005754 000222  000215  000211  
         005762 000204  000200          
     684 005766 000001  000002  000004  BTT:	.WORD 1.,2.,4.,8.,16.,32.,64.,128.,256.
         005774 000010  000020  000040  
         006002 000100  000200  000400  
     685 006010 001000  002000  004000  	.WORD 512.,1024.,2048.,4096.,8192.,16384.,-32768.
         006016 010000  020000  040000  
         006024 100000                  
     686 006026 006040  006050  000000  ANIMAS:	.WORD HNTRS,HITS,0,0,AMMOS
         006034 000000  006060          
     687 006040 000003  006106  006146  HNTRS:	.WORD 3.,HNTR1,HNTR2,HNTR3
         006046 006206                  
     688 006050 000003  006246  006306  HITS:	.WORD 3.,HIT1,HIT2,HIT3
         006056 006346                  
     689 006060 000012  006406  006446  AMMOS:	.WORD 10.,AMMO1,AMMO2,AMMO3,AMMO4,AMMO5,AMMO5
         006066 006506  006546  006606  
         006074 006606                  
     690 006076 006546  006506  006446  	.WORD AMMO4,AMMO3,AMMO2,AMMO1
         006104 006406                  
     691 006106 000000  000000  177760  HNTR1:	.WORD 0.,0.,-16.,32764.,16382.,-569.,31183.
         006114 077774  037776  176707  
         006122 074717                  
     692 006124 034777  174777  074707  	.WORD 14847.,-1537.,31175.,15823.,-2.
         006132 036717  177776          
     693 006136 077774  037760  000000  	.WORD 32764.,16368.,0.,0.
         006144 000000                  
     694 006146 000000  000000  037760  HNTR2:	.WORD 0.,0.,16368.,32764.,-2.,15823.,31175.
         006154 077774  177776  036717  
         006162 074707                  
     695 006164 174777  034777  074717  	.WORD -1537.,14847.,31183.,-569.,16382.
         006172 176707  037776          
     696 006176 077774  177760  000000  	.WORD 32764.,-16.,0.,0.
         006204 000000                  
     697 006206 000000  000000  137760  HNTR3:	.WORD 0.,0.,-16400.,-4.,32766.,-17977.
         006214 177774  077776  134707  
     698 006222 170307  070377  130377  	.WORD -3897.,28927.,-20225.,-3897.,31175.
         006230 170307  074707          
     699 006234 137776  177774  077760  	.WORD -16386.,-4.,32752.,0.,0.
         006242 000000  000000          
     700 006246 000000  000000  000000  HIT1:	.WORD 0.,0.,0.,0.,96.,96.,96.,924.
         006254 000000  000140  000140  
         006262 000140  001634          
     701 006266 001634  000140  000140  	.WORD 924.,96.,96.,96.,0.,0.,0.,0.
         006274 000140  000000  000000  
         006302 000000  000000          
     702 006306 000000  000000  000000  HIT2:	.WORD 0.,0.,0.,96.,360.,264.,0.,1638.
         006314 000140  000550  000410  
         006322 000000  003146          
     703 006326 003146  000000  000410  	.WORD 1638.,0.,264.,360.,96.,0.,0.,0.
         006334 000550  000140  000000  
         006342 000000  000000          
     704 006346 000000  000000  001004  HIT3:	.WORD 0.,0.,516.,612.,0.,96.,96.,1530.
         006354 001144  000000  000140  
         006362 000140  002772          
     705 006366 002772  000140  000140  	.WORD 1530.,96.,96.,0.,612.,516.,0.,0.
         006374 000000  001144  001004  
         006402 000000  000000          
     706 006406 000000  000000  000000  AMMO1:	.WORD 0,0,0,7168.,32512.,30464.,-1664.,-640.
         006414 016000  077400  073400  
         006422 174600  176600          
     707 006426 157600  077400  077400  	.WORD -8320.,32512.,32512.,7168.,0,0,0,0
         006434 016000  000000  000000  
         006442 000000  000000          
     708 006446 000000  000000  000000  AMMO2:	.WORD 0,0,0,20032.,16256.,15232.,31936.,32448.
         006454 047100  037600  035600  
         006462 076300  077300          
     709 006466 067700  037600  037600  	.WORD 28608.,16256.,16256.,20032.,0,0,0,0
         006474 047100  000000  000000  
         006502 000000  000000          
     710 006506 000000  000000  040020  AMMO3:	.WORD 0,0,16400.,1792.,8128.,7616.,15968.
         006514 003400  017700  016700  
         006522 037140                  
     711 006524 037540  033740  017700  	.WORD 16224.,14304.,8128.,8128.,1792.,16400.,0,0,0
         006532 017700  003400  040020  
         006540 000000  000000  000000  
     712 006546 000000  000400  020010  AMMO4:	.WORD 0,256.,8200.,896.,4064.,3808.,7984.
         006554 001600  007740  007340  
         006562 017460                  
     713 006564 057664  015760  007740  	.WORD 24500.,7152.,4064.,4064.,896.,8200.,256.,0,0
         006572 007740  001600  020010  
         006600 000400  000000  000000  
     714 006606 000200  020202  010004  AMMO5:	.WORD 128.,8322.,4100.,448.,2032.,1904.
         006614 000700  003760  003560  
     715 006622 007630  067733  006770  	.WORD 3992.,28635.,3576.,2032.,2032.,448.
         006630 003760  003760  000700  
     716 006636 010004  020202  000200  	.WORD 4100.,8322.,128.,0
         006644 000000                  
     717 006646 100000                  DRMSKH:	.WORD -32768.
     718 006650 040000                  	.WORD 16384.
     719 006652 020000                  	.WORD 8192.
     720 006654 010000                  	.WORD 4096.
     721 006656 004000                  	.WORD 2048.
     722 006660 002000                  	.WORD 1024.
     723 006662 001000                  	.WORD 512.
     724 006664 000400                  	.WORD 256.
     725 006666 000200                  	.WORD 128.
     726 006670 000100                  	.WORD 64.
     727 006672 000040                  	.WORD 32.
     728 006674 000020                  	.WORD 16.
     729 006676 000010                  	.WORD 8.
     730 006700 000004                  	.WORD 4.
     731 006702 000002                  	.WORD 2.
     732 006704 000001                  	.WORD 1.
     733 006706 100000                  DRMSKV:	.WORD -32768.
     734 006710 140000                  	.WORD -16384.
     735 006712 160000                  	.WORD -8192.
     736 006714 170000                  	.WORD -4096.
     737 006716 174000                  	.WORD -2048.
     738 006720 176000                  	.WORD -1024.
     739 006722 177000                  	.WORD -512.
     740 006724 177400                  	.WORD -256.
     741 006726 177600                  	.WORD -128.
     742 006730 177700                  	.WORD -64.
     743 006732 177740                  	.WORD -32.
     744 006734 177760                  	.WORD -16.
     745 006736 177770                  	.WORD -8.
     746 006740 177774                  	.WORD -4.
     747 006742 177776                  	.WORD -2.
     748 006744 177777                  	.WORD -1.
     749 006746 006756  006770  007004  MSGPTR:	.WORD PMSG,WMSG,LMSG,EMSG
         006754 007020                  
     750 006756 103300                  PMSG:	.WORD MSGLN+50
     751 006760    120     141     165  	.ASCIZ/Paused/
         006763    163     145     144  
         006766    000                  
     752 006767    000                  	.EVEN
     753 006770 103270                  WMSG:	.WORD MSGLN+40
     754 006772    131     157     165  	.ASCIZ/You Won!/
         006775    040     127     157  
         007000    156     041     000  
     755 007003    000                  	.EVEN
     756 007004 103264                  LMSG:	.WORD MSGLN+34
     757 007006    131     157     165  	.ASCIZ/You Lost!/
         007011    040     114     157  
         007014    163     164     041  
         007017    000                  
     758                                	.EVEN
     759 007020 106474                  EMSG:	.WORD MSGLN+24+3220
     760 007022    120     162     145  	.ASCIZ/Press Enter/
         007025    163     163     040  
         007030    105     156     164  
         007033    145     162     000  
     761                                	.EVEN
     762                                
     763 007036 006300                  PREPM:	ASL R0
     764 007040 016000  004572          	MOV MAPLST(R0),R0
     765 007044 012067  001376'         	MOV (R0)+,PLX
     766 007050 012067  001400'         	MOV (R0)+,PLY
     767 007054 012067  001402'         	MOV (R0)+,PLA
     768 007060 012701  016220          	MOV #MAP,R1
     769 007064 004767  032100'         	CALL UNPK
     770                                	RET
       1 007070 000207                  	RETURN
     771 007072 012705  016620          CLVIS:	MOV #VIS,R5
     772 007076 012704  000020          	MOV #16.,R4
     773 007102 012703  177777          	MOV #-1.,R3
     774 007106 010325                  1$:	MOV R3,(R5)+
     775 007110 010325                  	MOV R3,(R5)+
     776 007112 010325                  	MOV R3,(R5)+
     777 007114 010325                  	MOV R3,(R5)+
     778 007116 010325                  	MOV R3,(R5)+
     779 007120 010325                  	MOV R3,(R5)+
     780 007122 010325                  	MOV R3,(R5)+
     781 007124 010325                  	MOV R3,(R5)+
     782 007126 077411                  	SOB R4,1$
     783                                	RET
       1 007130 000207                  	RETURN
     784 007132 012705  016220          CLMAPS:	MOV #MAP,R5
     785 007136 012703  000400          	MOV #256.,R3
     786 007142 005025                  	CLR (R5)+
     787 007144 077302                  	SOB R3,.-2
     788                                	RET
       1 007146 000207                  	RETURN
     789 007150 074204                  MLDVX:	XOR R2,R4
     790 007152 074402                  	XOR R4,R2
     791 007154 074204                  	XOR R2,R4
     792 007156 006302                  MLDVN:	ASL R2
     793 007160 006302                  	ASL R2
     794 007162 006302                  	ASL R2
     795 007164 006302                  	ASL R2
     796 007166 006302                  	ASL R2
     797 007170 006302                  	ASL R2
     798 007172 004767  010060'         	CALL SPDIV
     799                                	RET
       1 007176 000207                  	RETURN
     800 007200 010046                  GETANG:	MOV R0,-(SP)
     801 007202 010146                  	MOV R1,-(SP)
     802 007204 010246                  	MOV R2,-(SP)
     803 007206 010346                  	MOV R3,-(SP)
     804 007210 010446                  	MOV R4,-(SP)
     805 007212 016700  001376'         	MOV PLX,R0
     806 007216 016701  001400'         	MOV PLY,R1
     807 007222 016402  000004          	MOV 4.(R4),R2
     808 007226 016404  000006          	MOV 6.(R4),R4
     809 007232 160002                  	SUB R0,R2
     810 007234 002037                  	BGE 1$
     811 007236 160104                  	SUB R1,R4
     812 007240 002016                  	BGE 2$
     813 007242 005402                  	NEG R2
     814 007244 005404                  	NEG R4
     815 007246 020204                  	CMP R2,R4
     816 007250 003403                  	BLE 3$
     817 007252 004767  007150'         	CALL MLDVX
     818 007256 000464                  	BR 99$
     819                                3$:
     820 007260 004767  007156'         	CALL MLDVN
     821 007264 010200                  	MOV R2,R0
     822 007266 012702  000177          	MOV #128.-1.,R2
     823 007272 160002                  	SUB R0,R2
     824 007274 000455                  	BR 99$
     825 007276 005402                  2$:	NEG R2
     826 007300 020204                  	CMP R2,R4
     827 007302 003407                  	BLE 4$
     828 007304 004767  007150'         	CALL MLDVX
     829 007310 010200                  	MOV R2,R0
     830 007312 012702  000777          	MOV #64.+64.+384.-1.,R2
     831 007316 160002                  	SUB R0,R2
     832 007320 000443                  	BR 99$
     833                                4$:
     834 007322 004767  007156'         	CALL MLDVN
     835 007326 062702  000600          	ADD #384.,R2
     836 007332 000436                  	BR 99$
     837 007334 160104                  1$:	SUB R1,R4
     838 007336 002017                  	BGE 5$
     839 007340 005404                  	NEG R4
     840 007342 020204                  	CMP R2,R4
     841 007344 003407                  	BLE 6$
     842 007346 004767  007150'         	CALL MLDVX
     843 007352 010200                  	MOV R2,R0
     844 007354 012702  000400          	MOV #128.+64.+64.,R2
     845 007360 160002                  	SUB R0,R2
     846 007362 000422                  	BR 99$
     847                                6$:
     848 007364 004767  007156'         	CALL MLDVN
     849 007370 062702  000200          	ADD #128.,R2
     850 007374 000415                  	BR 99$
     851 007376 020204                  5$:	CMP R2,R4
     852 007400 003405                  	BLE 7$
     853 007402 004767  007150'         	CALL MLDVX
     854 007406 062702  000400          	ADD #256.,R2
     855 007412 000406                  	BR 99$
     856                                7$:
     857 007414 004767  007156'         	CALL MLDVN
     858 007420 010200                  	MOV R2,R0
     859 007422 012702  000600          	MOV #256.+128.,R2
     860 007426 160002                  	SUB R0,R2
     861 007430 012604                  99$:	MOV (SP)+,R4
     862 007432 010264  000010          	MOV R2,8.(R4)
     863 007436 012603                  	MOV (SP)+,R3
     864 007440 012602                  	MOV (SP)+,R2
     865 007442 012601                  	MOV (SP)+,R1
     866 007444 012600                  	MOV (SP)+,R0
     867                                	RET
       1 007446 000207                  	RETURN
     868 007450 005000                  CLPSC:	CLR R0
     869 007452 012703  012124          	MOV #PSCTAB,R3
     870 007456 012705  012224          	MOV #PSCTAB+64.,R5
     871 007462 016001  005666          1$:	MOV SCLR(R0),R1
     872 007466 062700  000002          	ADD #2,R0
     873 007472 010102                  	MOV R1,R2
     874 007474 006202                  	ASR R2
     875 007476 010046                  	MOV R0,-(SP)
     876 007500 010523                  	MOV R5,(R3)+
     877 007502 010204                  2$:	MOV R2,R4
     878 007504 042704  000377          	BIC #255.,R4
     879 007510 000304                  	SWAB R4
     880 007512 006304                  	ASL R4
     881 007514 016425  005766          	MOV BTT(R4),(R5)+
     882 007520 060102                  	ADD R1,R2
     883 007522 162716  000002          	SUB #2,(SP)
     884 007526 001365                  	BNE 2$
     885 007530 005726                  	TST (SP)+
     886 007532 022700  000100          	CMP #64.,R0
     887 007536 001351                  	BNE 1$
     888                                	RET
       1 007540 000207                  	RETURN
     889 007542 006300                  GSEG1:	ASL R0
     890 007544 016001  004172          	MOV SCTAB(R0),R1
     891                                	RET
       1 007550 000207                  	RETURN
     892 007552 004767  007570'         GSEG2:	CALL GSEG4
     893 007556 000402                  	BR GSEGN
     894 007560 004767  007542'         GSEG3:	CALL GSEG1
     895 007564 005401                  GSEGN:	NEG R1
     896                                	RET
       1 007566 000207                  	RETURN
     897 007570 012701  000177          GSEG4:	MOV #177,R1
     898 007574 160001                  	SUB R0,R1
     899 007576 010100                  	MOV R1,R0
     900 007600 000760                  	BR GSEG1
     901 007602 010001                  GCOS:	MOV R0,R1
     902 007604 042700  177600          	BIC #177600,R0
     903 007610 042701  177177          	BIC #177177,R1
     904 007614 001752                  	BEQ GSEG1
     905 007616 020127  000200          	CMP R1,#200
     906 007622 001753                  	BEQ GSEG2
     907 007624 020127  000400          	CMP R1,#400
     908 007630 001753                  	BEQ GSEG3
     909 007632 000756                  	BR GSEG4
     910 007634 010001                  GSIN:	MOV R0,R1
     911 007636 042700  177600          	BIC #177600,R0
     912 007642 042701  177177          	BIC #177177,R1
     913 007646 001750                  	BEQ GSEG4
     914 007650 020127  000200          	CMP R1,#200
     915 007654 001732                  	BEQ GSEG1
     916 007656 020127  000400          	CMP R1,#400
     917 007662 001733                  	BEQ GSEG2
     918 007664 000735                  	BR GSEG3
     919 007666 004767  007674'         GSNCS:	CALL GSNCS2
     920 007672 000416                  	BR GSNCS3
     921 007674 010046                  GSNCS2:	MOV R0,-(SP)
     922 007676 004767  007602'         	CALL GCOS
     923 007702 012600                  	MOV (SP)+,R0
     924 007704 010146                  	MOV R1,-(SP)
     925 007706 004767  007634'         	CALL GSIN
     926 007712 012600                  	MOV (SP)+,R0
     927 007714 000300                  	SWAB R0
     928 007716 110000                  	MOVB R0,R0
     929 007720 006200                  	ASR R0
     930 007722 000301                  	SWAB R1
     931 007724 110101                  	MOVB R1,R1
     932 007726 006201                  	ASR R1
     933 007730 006201                  GSNCS3:	ASR R1
     934 007732 006200                  	ASR R0
     935                                	RET
       1 007734 000207                  	RETURN
     936 007736 010002                  SPMULS:	MOV R0,R2
     937 007740 100001                  	BPL 1$
     938 007742 005400                  	NEG R0
     939 007744 074102                  1$:	XOR R1,R2
     940 007746 005701                  	TST R1
     941 007750 100001                  	BPL 2$
     942 007752 005401                  	NEG R1
     943 007754 010246                  2$:	MOV R2,-(SP)
     944 007756 020001                  	CMP R0,R1
     945 007760 101403                  	BLOS 8$
     946 007762 074001                  	XOR R0,R1
     947 007764 074100                  	XOR R1,R0
     948 007766 074001                  	XOR R0,R1
     949 007770 005002                  8$:	CLR R2
     950 007772 000403                  	BR 6$
     951 007774 103001                  4$:	BCC 5$
     952 007776 060102                  	ADD R1,R2
     953 010000 006301                  5$:	ASL R1
     954 010002 006000                  6$:	ROR R0
     955 010004 001373                  	BNE 4$
     956 010006 103001                  	BCC 7$
     957 010010 060102                  	ADD R1,R2
     958 010012 005726                  7$:	TST (SP)+
     959 010014 100001                  	BPL 3$
     960 010016 005402                  	NEG R2
     961                                3$:	RET
       1 010020 000207                  	RETURN
     962 010022 010102                  SPMUL:	MOV R1,R2
     963 010024 006100                  	ROL R0
     964 010026 000300                  	SWAB R0
     965 010030 105700                  	TSTB R0
     966 010032 001002                  	BNE 1$
     967 010034 005002                  	CLR R2
     968                                	RET
       1 010036 000207                  	RETURN
     969 010040 006301                  1$:	ASL R1
     970 010042 106000                  	RORB R0
     971 010044 102001                  	BVC 2$
     972 010046 060102                  	ADD R1,R2
     973 010050 001373                  2$:	BNE 1$
     974                                	RET
       1 010052 000207                  	RETURN
     975 010054 012702  040000          SPDVX:	MOV #16384.,R2
     976 010060 005001                  SPDIV:	CLR R1
     977 010062 020402                  	CMP R4,R2
     978 010064 001425                  	BEQ 4$
     979 010066 101027                  	BHI 5$
     980 010070 005003                  	CLR R3
     981 010072 005203                  1$:	INC R3
     982 010074 006304                  	ASL R4
     983 010076 103403                  	BCS 3$
     984 010100 020204                  	CMP R2,R4
     985 010102 103373                  	BHIS 1$
     986 010104 000241                  	CLC
     987 010106 006004                  3$:	ROR R4
     988 010110 020402                  	CMP R4,R2
     989 010112 101006                  	BHI 2$
     990 010114 160402                  	SUB R4,R2
     991 010116 000261                  	SEC
     992 010120 006101                  	ROL R1
     993 010122 077307                  	SOB R3,3$
     994 010124 010102                  	MOV R1,R2
     995                                	RET
       1 010126 000207                  	RETURN
     996 010130 006301                  2$:	ASL R1
     997 010132 077313                  	SOB R3,3$
     998 010134 010102                  	MOV R1,R2
     999                                	RET
       1 010136 000207                  	RETURN
    1000 010140 012702  000001          4$:	MOV #1,R2
    1001                                	RET
       1 010144 000207                  	RETURN
    1002 010146 005002                  5$:	CLR R2
    1003                                	RET
       1 010150 000207                  	RETURN
    1004 010152 004767  010642'         CLRM:	CALL CLOPOS
    1005 010156 012703  100010          	MOV #C_TADDR,R3
    1006 010162 005000                  	CLR R0
    1007 010164 012702  000100          	MOV #64.,R2
    1008 010170 012701  000020          2$:	MOV #16.,R1
    1009 010174 010337  176640          1$:	MOV R3,@#176640
    1010 010200 010037  176642          	MOV R0,@#176642
    1011 010204 005203                  	INC R3
    1012 010206 077106                  	SOB R1,1$
    1013 010210 062703  000100          	ADD #C_SCRWIH-16.,R3
    1014 010214 077213                  	SOB R2,2$
    1015                                	RET
       1 010216 000207                  	RETURN
    1016 010220 004767  010642'         DRAWM:	CALL CLOPOS
    1017 010224 012702  016220          	MOV #MAP,R2
    1018 010230 012703  100010          	MOV #C_TADDR,R3
    1019 010234 012705  176640          	MOV #176640,R5
    1020 010240 012700  176642          	MOV #176642,R0
    1021 010244 012746  000020          	MOV #16.,-(SP)
    1022 010250 012701  000020          3$:	MOV #16.,R1
    1023 010254 005004                  2$:	CLR R4
    1024 010256 105722                  	TSTB (R2)+
    1025 010260 001402                  	BEQ 1$
    1026 010262 012704  000377          	MOV #377,R4
    1027 010266 010315                  1$:	MOV R3,(R5)
    1028 010270 010410                  	MOV R4,(R0)
    1029 010272 062703  000120          	ADD #C_SCRWIH,R3
    1030 010276 010315                  	MOV R3,(R5)
    1031 010300 010410                  	MOV R4,(R0)
    1032 010302 062703  000120          	ADD #C_SCRWIH,R3
    1033 010306 010315                  	MOV R3,(R5)
    1034 010310 010410                  	MOV R4,(R0)
    1035 010312 062703  000120          	ADD #C_SCRWIH,R3
    1036 010316 010315                  	MOV R3,(R5)
    1037 010320 010410                  	MOV R4,(R0)
    1038 010322 162703  000357          	SUB #C_SCRWIH+C_SCRWIH+C_SCRWIH-1.,R3
    1039 010326 077126                  	SOB R1,2$
    1040 010330 062703  000460          	ADD #C_SCRWIH+C_SCRWIH+C_SCRWIH+C_SCRWIH-16.,R3
    1041 010334 005316                  	DEC (SP)
    1042 010336 001344                  	BNE 3$
    1043 010340 005726                  	TST (SP)+
    1044                                	RET
       1 010342 000207                  	RETURN
    1045 010344 006201                  PLPNT:	ASR R1
    1046 010346 006201                  	ASR R1
    1047 010350 006201                  	ASR R1
    1048 010352 010102                  	MOV R1,R2
    1049 010354 042702  177771          	BIC #177771,R2
    1050 010360 006201                  	ASR R1
    1051 010362 006201                  	ASR R1
    1052 010364 006201                  	ASR R1
    1053 010366 006203                  	ASR R3
    1054 010370 006203                  	ASR R3
    1055 010372 006203                  	ASR R3
    1056 010374 006203                  	ASR R3
    1057 010376 070327  000120          	MUL #C_SCRWIH,R3
    1058 010402 060103                  	ADD R1,R3
    1059 010404 062703  100010          	ADD #C_TADDR,R3
    1060 010410 010337  176640          	MOV R3,@#176640
    1061 010414 013703  176642          	MOV @#176642,R3
    1062 010420 046203  004142          	BIC CLMSK(R2),R3
    1063 010424 005300                  	DEC R0
    1064 010426 001003                  	BNE 1$
    1065 010430 010337  176642          4$:	MOV R3,@#176642
    1066                                	RET
       1 010434 000207                  	RETURN
    1067 010436 005300                  1$:	DEC R0
    1068 010440 001003                  	BNE 2$
    1069 010442 056203  004142          	BIS DRMS1(R2),R3
    1070 010446 000770                  	BR 4$
    1071 010450 005300                  2$:	DEC R0
    1072 010452 001003                  	BNE 3$
    1073 010454 056203  004152          	BIS DRMS2(R2),R3
    1074 010460 000763                  	BR 4$
    1075 010462 005300                  3$:	DEC R0
    1076 010464 001361                  	BNE 4$
    1077 010466 056203  004162          	BIS DRMS3(R2),R3
    1078 010472 000756                  	BR 4$
    1079 010474 012704  010660          MNDRW:	MOV #OPOS,R4
    1080 010500 012705  026752          	MOV #SMNBF,R5
    1081 010504 011401                  2$:	MOV (R4),R1
    1082 010506 001406                  	BEQ 5$
    1083 010510 016403  000002          	MOV 2(R4),R3
    1084 010514 012700  000001          	MOV #1.,R0
    1085 010520 004767  010344'         	CALL PLPNT
    1086 010524 105715                  5$:	TSTB (R5)
    1087 010526 001413                  	BEQ 3$
    1088 010530 016501  000004          	MOV 4.(R5),R1
    1089 010534 010124                  	MOV R1,(R4)+
    1090 010536 016503  000006          	MOV 6.(R5),R3
    1091 010542 010324                  	MOV R3,(R4)+
    1092 010544 012700  000003          	MOV #3.,R0
    1093 010550 004767  010344'         	CALL PLPNT
    1094 010554 000402                  	BR 4$
    1095 010556 005024                  3$:	CLR (R4)+
    1096 010560 005024                  	CLR (R4)+
    1097 010562 062705  000014          4$:	ADD #MNRS,R5
    1098 010566 022705  027522          	CMP #SMNBFE,R5
    1099 010572 001344                  	BNE 2$
    1100 010574 011401                  	MOV (R4),R1
    1101 010576 001406                  	BEQ 6$
    1102 010600 016403  000002          	MOV 2(R4),R3
    1103 010604 012700  000001          	MOV #1.,R0
    1104 010610 004767  010344'         	CALL PLPNT
    1105 010614 016701  001404'         6$:	MOV SPLX,R1
    1106 010620 016703  001406'         	MOV SPLY,R3
    1107 010624 010124                  	MOV R1,(R4)+
    1108 010626 010324                  	MOV R3,(R4)+
    1109 010630 012700  000002          	MOV #2,R0
    1110 010634 004767  010344'         	CALL PLPNT
    1111                                	RET
       1 010640 000207                  	RETURN
    1112 010642 012705  010660          CLOPOS:	MOV #OPOS,R5
    1113 010646 005025                  	CLR (R5)+
    1114 010650 020527  011054          	CMP R5,#OPOS+124.
    1115 010654 001374                  	BNE .-6
    1116                                	RET
       1 010656 000207                  	RETURN
    1117 010660                         OPOS:	.BLKW 62.
    1118 011054 010003                  CHECKP:	MOV R0,R3
    1119 011056 010102                  	MOV R1,R2
    1120 011060 006303                  	ASL R3
    1121 011062 006303                  	ASL R3
    1122 011064 000303                  	SWAB R3
    1123 011066 006202                  	ASR R2
    1124 011070 006202                  	ASR R2
    1125 011072 042702  000017          	BIC #15.,R2
    1126 011076 150302                  	BISB R3,R2
    1127                                	RET
       1 011100 000207                  	RETURN
    1128 011102 010046                  CHECK:	MOV R0,-(SP)
    1129 011104 010146                  	MOV R1,-(SP)
    1130 011106 010246                  	MOV R2,-(SP)
    1131 011110 010346                  	MOV R3,-(SP)
    1132 011112 012704  011160          	MOV #DIRS,R4
    1133 011116 062400                  1$:	ADD (R4)+,R0
    1134 011120 062401                  	ADD (R4)+,R1
    1135 011122 004767  011054'         	CALL CHECKP
    1136 011126 105762  016220          	TSTB MAP(R2)
    1137 011132 001004                  	BNE 2$
    1138 011134 020427  011220          	CMP R4,#DIRS+32.
    1139 011140 001366                  	BNE 1$
    1140 011142 005004                  	CLR R4
    1141 011144 012603                  2$:	MOV (SP)+,R3
    1142 011146 012602                  	MOV (SP)+,R2
    1143 011150 012601                  	MOV (SP)+,R1
    1144 011152 012600                  	MOV (SP)+,R0
    1145 011154 005704                  	TST R4
    1146                                	RET
       1 011156 000207                  	RETURN
    1147 011160 177770  177770  000010  DIRS:	.WORD -8.,-8.,8.,0.,8.,0.,0.,8.
         011166 000000  000010  000000  
         011174 000000  000010          
    1148 011200 000000  000010  177770  	.WORD 0.,8.,-8.,0.,-8.,0.,0.,-8.
         011206 000000  177770  000000  
         011214 000000  177770          
    1149 011220 000327                  FRN:	.WORD 327
    1150 011222 000000                  RAN:	.WORD 0
    1151 011224 105267  011222'         	INCB RAN
    1152 011230 106167  011223'         	ROLB FRN+3
    1153 011234 062767  000000  011222' MM:	ADD #0,RAN
    1154 011242 062767  003337  011236' 	ADD #3337,MM+2
    1155                                	RET
       1 011250 000207                  	RETURN
    1156 011252 010067  035440'         PRCH:	MOV R0,PPUV1
    1157 011256 010167  035442'         	MOV R1,PPUV2
    1158 011262 012700  000010          	MOV #F_PMSG,R0
    1159 011266 004767  001246'         	CALL SCH2
    1160 011272 005737  035450          	TST @#PpuComm
    1161 011276 001375                  	BNE .-4
    1162 011300 016701  035442'         	MOV PPUV2,R1
    1163                                	RET
       1 011304 000207                  	RETURN
    1164 011306 005005                  DOUT:	CLR R5
    1165 011310 162704  000012          	SUB #10.,R4
    1166 011314 103442                  	BCS 1$
    1167 011316 005205                  	INC R5
    1168 011320 162704  000012          	SUB #10.,R4
    1169 011324 103436                  	BCS 1$
    1170 011326 005205                  	INC R5
    1171 011330 162704  000012          	SUB #10.,R4
    1172 011334 103432                  	BCS 1$
    1173 011336 005205                  	INC R5
    1174 011340 162704  000012          	SUB #10.,R4
    1175 011344 103426                  	BCS 1$
    1176 011346 005205                  	INC R5
    1177 011350 162704  000012          	SUB #10.,R4
    1178 011354 103422                  	BCS 1$
    1179 011356 005205                  	INC R5
    1180 011360 162704  000012          	SUB #10.,R4
    1181 011364 103416                  	BCS 1$
    1182 011366 005205                  	INC R5
    1183 011370 162704  000012          	SUB #10.,R4
    1184 011374 103412                  	BCS 1$
    1185 011376 005205                  	INC R5
    1186 011400 162704  000012          	SUB #10.,R4
    1187 011404 103406                  	BCS 1$
    1188 011406 005205                  	INC R5
    1189 011410 162704  000012          	SUB #10.,R4
    1190 011414 103402                  	BCS 1$
    1191 011416 005205                  	INC R5
    1192 011420 000402                  	BR 2$
    1193 011422 062704  000012          1$:	ADD #10.,R4
    1194 011426 010500                  2$:	MOV R5,R0
    1195 011430 062700  000060          	ADD #'0,R0
    1196 011434 004767  011252'         	CALL PRCH
    1197 011440 010400                  	MOV R4,R0
    1198 011442 062700  000060          	ADD #'0,R0
    1199 011446 004767  011252'         	CALL PRCH
    1200                                	RET
       1 011452 000207                  	RETURN
    1201 011454 005067  001370'         INISCR:	CLR SCORE
    1202 011460 012767  000001  001372' 	MOV #1.,OLDSCR
    1203                                	RET
       1 011466 000207                  	RETURN
    1204 011470 026767  001370' 001372' PRNSCR:	CMP SCORE,OLDSCR
    1205 011476 001421                  	BEQ 1$
    1206 011500 012701  100064          	MOV #SCOREP,R1
    1207 011504 116704  001370'         	MOVB SCORE,R4
    1208 011510 004767  011306'         	CALL DOUT
    1209 011514 112700  000072          	MOVB #':,R0
    1210 011520 004767  011252'         	CALL PRCH
    1211 011524 116704  001371'         	MOVB SCORE+1,R4
    1212 011530 004767  011306'         	CALL DOUT
    1213 011534 016767  001370' 001372' 	MOV SCORE,OLDSCR
    1214                                1$:	RET
       1 011542 000207                  	RETURN
    1215 011544 112767  000012  001366' INIAM:	MOVB #10.,AMMO
    1216 011552 112767  000001  001367' 	MOVB #1.,OLDAM
    1217                                	RET
       1 011560 000207                  	RETURN
    1218 011562 126767  001366' 001367' PRNAM:	CMPB AMMO,OLDAM
    1219 011570 001411                  	BEQ 1$
    1220 011572 012701  100050          	MOV #AMMOP,R1
    1221 011576 116704  001366'         	MOVB AMMO,R4
    1222 011602 004767  011306'         	CALL DOUT
    1223 011606 116767  001366' 001367' 	MOVB AMMO,OLDAM
    1224                                1$:	RET
       1 011614 000207                  	RETURN
    1225 011616 006305                  PRNMS:	ASL R5
    1226 011620 016505  006746          	MOV MSGPTR(R5),R5
    1227 011624 012501                  	MOV (R5)+,R1
    1228 011626 112500                  2$:	MOVB (R5)+,R0
    1229 011630 001403                  	BEQ 1$
    1230 011632 004767  011252'         	CALL PRCH
    1231 011636 000773                  	BR 2$
    1232                                1$:	RET
       1 011640 000207                  	RETURN
    1233 011642 012705  103250          CLMS:	MOV #MSGLN+20,R5
    1234 011646 012703  000050          	MOV #40.,R3
    1235 011652 012704  000060          2$:	MOV #60,R4
    1236 011656 010537  176640          1$:	MOV R5,@#176640
    1237 011662 005205                  	INC R5
    1238 011664 005037  176642          	CLR @#176642
    1239 011670 077406                  	SOB R4,1$
    1240 011672 062705  000040          	ADD #C_SCRWIH-60,R5
    1241 011676 077313                  	SOB R3,2$
    1242                                	RET
       1 011700 000207                  	RETURN
    1243 011702 010046                  CORRA:	MOV R0,-(SP)
    1244 011704 010146                  	MOV R1,-(SP)
    1245 011706 010246                  	MOV R2,-(SP)
    1246 011710 010346                  	MOV R3,-(SP)
    1247 011712 010446                  	MOV R4,-(SP)
    1248 011714 010546                  	MOV R5,-(SP)
    1249 011716 005027                  	CLR (PC)+
    1250 011720 000000                  STEPN:	.WORD 0
    1251 011722 016705  026212'         	MOV MNBF+8.,R5
    1252 011726 166705  001402'         	SUB PLA,R5
    1253 011732 012704  012022          	MOV #STEPC,R4
    1254 011736 012703  000012          	MOV #10.,R3
    1255 011742 010500                  1$:	MOV R5,R0
    1256 011744 012401                  	MOV (R4)+,R1
    1257 011746 004767  007736'         	CALL SPMULS
    1258 011752 006202                  	ASR R2
    1259 011754 006202                  	ASR R2
    1260 011756 006202                  	ASR R2
    1261 011760 006202                  	ASR R2
    1262 011762 006202                  	ASR R2
    1263 011764 006202                  	ASR R2
    1264 011766 066702  001402'         	ADD PLA,R2
    1265 011772 042702  177000          	BIC #177000,R2
    1266 011776 010264  000022          	MOV R2,20.-2.(R4)
    1267 012002 077321                  	SOB R3,1$
    1268 012004 012605                  	MOV (SP)+,R5
    1269 012006 012604                  	MOV (SP)+,R4
    1270 012010 012603                  	MOV (SP)+,R3
    1271 012012 012602                  	MOV (SP)+,R2
    1272 012014 012601                  	MOV (SP)+,R1
    1273 012016 012600                  	MOV (SP)+,R0
    1274                                	RET
       1 012020 000207                  	RETURN
    1275 012022 000002  000006  000015  STEPC:	.WORD 2.,6.,13.,22.,32.,42.,51.,58.,62.,64.
         012030 000026  000040  000052  
         012036 000063  000072  000076  
         012044 000100                  
    1276 012046                         STEPV:	.BLKW 10.
    1277 012072 016700  011720'         SETTA:	MOV STEPN,R0
    1278 012076 020027  000024          	CMP R0,#20.
    1279 012102 001407                  	BEQ 1$
    1280 012104 062700  000002          	ADD #2,R0
    1281 012110 010067  011720'         	MOV R0,STEPN
    1282 012114 016067  012044  001402' 	MOV STEPV-2(R0),PLA
    1283                                1$:	RET
       1 012122 000207                  	RETURN
    1284 012124                         PSCTAB:	.BLKB 1120.
    1285                                
    1286 014264 012705  020420          PREP0:	MOV #UR0,R5
    1287 014270 012704  000100          	MOV #64.,R4
    1288 014274 012703  067476          	MOV #C_VADDR-FRBF3-2+50000-500,R3
    1289 014300 012725  010063          10$:	MOV #010063,(R5)+
    1290 014304 010325                  	MOV R3,(R5)+
    1291 014306 010301                  	MOV R3,R1
    1292 014310 062701  000240          	ADD #C_SCRWID,R1
    1293 014314 012725  010163          	MOV #010163,(R5)+
    1294 014320 010125                  	MOV R1,(R5)+
    1295 014322 162703  000500          	SUB #C_SCRWID*2,R3
    1296 014326 077414                  	SOB R4,10$
    1297 014330 012715  000207          	MOV #207,(R5)
    1298 014334 012705  020220          	MOV #DD0,R5
    1299 014340 012704  000100          	MOV #64.,R4
    1300 014344 012703  021410          	MOV #UR0+504.,R3
    1301 014350 010325                  20$:	MOV R3,(R5)+
    1302 014352 162703  000010          	SUB #8.,R3
    1303 014356 077404                  	SOB R4,20$
    1304                                	RET
       1 014360 000207                  	RETURN
    1305 014362 012700  017220          PREPR:	MOV #FRBF1,R0
    1306 014366 012701  000400          	MOV #256.,R1
    1307 014372 012720  001000          1$:	MOV #512.,(R0)+
    1308 014376 077103                  	SOB R1,1$
    1309 014400 012700  017620          	MOV #FRBF3,R0
    1310 014404 012701  000100          	MOV #64.,R1
    1311 014410 012720  000100          2$:	MOV #64.,(R0)+
    1312 014414 077103                  	SOB R1,2$
    1313                                	RET
       1 014416 000207                  	RETURN
    1314 014420 010265  017220          DRSP0:	MOV R2,FRBF1(R5)
    1315 014424 010065  017420          	MOV R0,FRBF2(R5)
    1316                                	RET
       1 014430 000207                  	RETURN
    1317 014432 010265  017222          DRSP2:	MOV R2,FRBF1+2(R5)
    1318 014436 010065  017422          	MOV R0,FRBF2+2(R5)
    1319                                	RET
       1 014442 000207                  	RETURN
    1320 014444 010265  017224          DRSP4:	MOV R2,FRBF1+4(R5)
    1321 014450 010065  017424          	MOV R0,FRBF2+4(R5)
    1322                                	RET
       1 014454 000207                  	RETURN
    1323 014456 010265  017226          DRSP6:	MOV R2,FRBF1+6(R5)
    1324 014462 010065  017426          	MOV R0,FRBF2+6(R5)
    1325                                	RET
       1 014466 000207                  	RETURN
    1326 014470 010265  017220          DRDSP0:	MOV R2,FRBF1(R5)
    1327 014474 010065  017420          	MOV R0,FRBF2(R5)
    1328 014500 010165  017222          	MOV R1,FRBF1+2(R5)
    1329 014504 010065  017422          	MOV R0,FRBF2+2(R5)
    1330                                	RET
       1 014510 000207                  	RETURN
    1331 014512 010265  017224          DRDSP4:	MOV R2,FRBF1+4(R5)
    1332 014516 010065  017424          	MOV R0,FRBF2+4(R5)
    1333 014522 010165  017226          	MOV R1,FRBF1+2+4(R5)
    1334 014526 010065  017426          	MOV R0,FRBF2+2+4(R5)
    1335                                	RET
       1 014532 000207                  	RETURN
    1336 014534 012703  000100          DRDIFF:	MOV #64.,R3
    1337 014540 012705  017620          	MOV #FRBF3,R5
    1338                                
    1339 014544 020527  020020          50$:	CMP R5,#FRBF4
    1340 014550 103401                  	BLO 10$
    1341                                	RET
       1 014552 000207                  	RETURN
    1342                                
    1343 014554 012501                  10$:	MOV (R5)+,R1
    1344 014556 016502  177376          	MOV -256.-2.(R5),R2
    1345 014562 006202                  	ASR R2
    1346 014564 006202                  	ASR R2
    1347 014566 006202                  	ASR R2
    1348 014570 001765                  	BEQ 50$
    1349 014572 020302                  	CMP R3,R2
    1350 014574 103001                  	BHIS 30$
    1351 014576 010302                  	MOV R3,R2
    1352 014600 020102                  30$:	CMP R1,R2
    1353 014602 001407                  	BEQ 70$
    1354 014604 103442                  	BLO 40$
    1355                                
    1356 014606 010265  177776          	MOV R2,-2.(R5)
    1357 014612 004767  014740'         	CALL IDRF
    1358 014616 016502  177776          	MOV -2.(R5),R2
    1359                                
    1360 014622 016500  177576          70$:	MOV -128.-2.(R5),R0
    1361 014626 026500  000176          	CMP 128.-2.(R5),R0
    1362 014632 001744                  	BEQ 50$
    1363                                
    1364 014634 010065  000176          20$:	MOV R0,128.-2.(R5)
    1365 014640 010001                  	MOV R0,R1
    1366 014642 005401                  	NEG R1
    1367                                
    1368 014644 160203                  	SUB R2,R3
    1369                                
    1370 014646 032703  000001          	BIT #1,R3
    1371 014652 001402                  	BEQ 22$
    1372 014654 005400                  	NEG R0
    1373 014656 005401                  	NEG R1
    1374                                22$:
    1375                                
    1376 014660 016000  005606          	MOV MTRLS(R0),R0
    1377 014664 016101  005606          	MOV MTRLS(R1),R1
    1378                                
    1379 014670 070327  000240          	MUL #C_SCRWID,R3
    1380 014674 060503                  	ADD R5,R3
    1381                                
    1382 014676 006302                  	ASL R2
    1383 014700 004772  020216          	CALL @DD0-2(R2)
    1384                                
    1385 014704 012703  000100          	MOV #64.,R3
    1386 014710 000715                  	BR 50$
    1387                                
    1388 014712 010265  177776          40$:	MOV R2,-2.(R5)
    1389 014716 016500  177576          	MOV -128.-2.(R5),R0
    1390 014722 026500  000176          	CMP 128.-2.(R5),R0
    1391 014726 001342                  	BNE 20$
    1392                                
    1393 014730 010004                  	MOV R0,R4
    1394 014732 004767  014756'         	CALL IDRW
    1395                                
    1396 014736 000702                  	BR 50$
    1397 014740 074102                  IDRF:	XOR R1,R2
    1398 014742 074201                  	XOR R2,R1
    1399 014744 074102                  	XOR R1,R2
    1400 014746 012700  000042          	MOV #34.,R0
    1401 014752 012704  000044          	MOV #36.,R4
    1402 014756 160203                  IDRW:	SUB R2,R3
    1403                                
    1404 014760 032703  000001          	BIT #1,R3
    1405 014764 001402                  	BEQ 22$
    1406 014766 005400                  	NEG R0
    1407 014770 005404                  	NEG R4
    1408                                22$:
    1409                                
    1410 014772 070327  000240          	MUL #C_SCRWID,R3
    1411 014776 060503                  	ADD R5,R3
    1412 015000 062703  020176          	ADD #C_VADDR-FRBF3-2,R3
    1413                                
    1414 015004 160102                  	SUB R1,R2
    1415 015006 006301                  	ASL R1
    1416 015010 060201                  	ADD R2,R1
    1417                                
    1418 015012 032701  000001          	BIT #1,R1
    1419 015016 001401                  	BEQ 24$
    1420 015020 005404                  	NEG R4
    1421                                24$:
    1422                                
    1423 015022 070127  000240          	MUL #C_SCRWID,R1
    1424 015026 010167  015046'         	MOV R1,ID4+4
    1425                                
    1426 015032 012701  000240          	MOV #C_SCRWID,R1
    1427 015036 016013  005606          ID3:	MOV MTRLS(R0),(R3)
    1428 015042 016463  005606  000000  ID4:	MOV MTRLS(R4),000000(R3)
    1429 015050 005400                  	NEG R0
    1430 015052 005404                  	NEG R4
    1431 015054 060103                  	ADD R1,R3
    1432 015056 077211                  	SOB R2,ID3
    1433                                
    1434 015060 012703  000100          	MOV #64.,R3
    1435                                	RET
       1 015064 000207                  	RETURN
    1436 015066 010546                  CORE:	MOV R5,-(SP)
    1437 015070 012746  000100          	MOV #64.,-(SP)
    1438 015074 012705  016210          	MOV #DA,R5
    1439 015100 012503                  	MOV (R5)+,R3
    1440 015102 003407                  	BLE S1
    1441 015104 012767  005201  015324' 	MOV #5201,DDII
    1442 015112 011601                  	MOV (SP),R1
    1443 015114 166701  016156'         	SUB DU0,R1
    1444 015120 000407                  	BR S2
    1445 015122 012767  005301  015324' S1:	MOV #5301,DDII
    1446 015130 016701  016156'         	MOV DU0,R1
    1447 015134 005201                  	INC R1
    1448 015136 005403                  	NEG R3
    1449 015140 012500                  S2:	MOV (R5)+,R0
    1450 015142 003407                  	BLE S3
    1451 015144 012767  062701  015252' 	MOV #62701,DDJI
    1452 015152 011604                  	MOV (SP),R4
    1453 015154 166704  016160'         	SUB DV0,R4
    1454 015160 000407                  	BR S4
    1455 015162 012767  162701  015252' S3:	MOV #162701,DDJI
    1456 015170 016704  016160'         	MOV DV0,R4
    1457 015174 005204                  	INC R4
    1458 015176 005400                  	NEG R0
    1459 015200 010125                  S4:	MOV R1,(R5)+
    1460 015202 010415                  	MOV R4,(R5)
    1461 015204 010005                  	MOV R0,R5
    1462 015206 004767  010022'         	CALL SPMUL
    1463 015212 010300                  	MOV R3,R0
    1464 015214 010401                  	MOV R4,R1
    1465 015216 010204                  	MOV R2,R4
    1466 015220 004767  010022'         	CALL SPMUL
    1467 015224 016701  016162'         	MOV DIJ0,R1
    1468 015230 116761  001374' 000400  S5:	MOVB FRCNTR,256.(R1)
    1469 015236 020402                  	CMP R4,R2
    1470 015240 002425                  	BLT S6
    1471 015242 061667  016216'         	ADD (SP),DDY
    1472 015246 160204                  	SUB R2,R4
    1473 015250 010302                  	MOV R3,R2
    1474 015252 062701  000020          DDJI:	ADD #16.,R1
    1475 015256 111100                  	MOVB (R1),R0
    1476 015260 001763                  	BEQ S5
    1477 015262 010502                  	MOV R5,R2
    1478 015264 016704  016216'         	MOV DDY,R4
    1479 015270 162604                  	SUB (SP)+,R4
    1480 015272 004767  010060'         	CALL SPDIV
    1481 015276 110004                  	MOVB R0,R4
    1482 015300 042700  177761          	BIC #177761,R0
    1483 015304 016000  005502          	MOV MTRLH(R0),R0
    1484 015310 012605                  	MOV (SP)+,R5
    1485                                	RET
       1 015312 000207                  	RETURN
    1486 015314 061667  016214'         S6:	ADD (SP),DDX
    1487 015320 160402                  	SUB R4,R2
    1488 015322 010504                  	MOV R5,R4
    1489 015324 005201                  DDII:	INC R1
    1490 015326 111100                  	MOVB (R1),R0
    1491 015330 001737                  	BEQ S5
    1492 015332 010302                  	MOV R3,R2
    1493 015334 016704  016214'         	MOV DDX,R4
    1494 015340 162604                  	SUB (SP)+,R4
    1495 015342 004767  010060'         	CALL SPDIV
    1496 015346 110004                  	MOVB R0,R4
    1497 015350 105104                  	COMB R4
    1498 015352 042700  177761          	BIC #177761,R0
    1499 015356 016000  005522          	MOV MTRLV(R0),R0
    1500 015362 012605                  	MOV (SP)+,R5
    1501                                	RET
       1 015364 000207                  	RETURN
    1502 015366 012705  016156          RENDR:	MOV #DU0,R5
    1503 015372 016700  001404'         	MOV SPLX,R0
    1504 015376 010015                  	MOV R0,(R5)
    1505 015400 042725  177700          	BIC #177700,(R5)+
    1506 015404 016701  001406'         	MOV SPLY,R1
    1507 015410 010115                  	MOV R1,(R5)
    1508 015412 042725  177700          	BIC #177700,(R5)+
    1509 015416 042701  000077          	BIC #77,R1
    1510 015422 006200                  	ASR R0
    1511 015424 006200                  	ASR R0
    1512 015426 006200                  	ASR R0
    1513 015430 006200                  	ASR R0
    1514 015432 060100                  	ADD R1,R0
    1515 015434 006200                  	ASR R0
    1516 015436 006200                  	ASR R0
    1517 015440 062700  016220          	ADD #MAP,R0
    1518 015444 010025                  	MOV R0,(R5)+
    1519 015446 016700  001410'         	MOV SPLA,R0
    1520 015452 004767  007602'         	CALL GCOS
    1521 015456 010125                  	MOV R1,(R5)+
    1522 015460 005401                  	NEG R1
    1523 015462 010125                  	MOV R1,(R5)+
    1524 015464 010102                  	MOV R1,R2
    1525 015466 016700  001410'         	MOV SPLA,R0
    1526 015472 004767  007634'         	CALL GSIN
    1527 015476 010125                  	MOV R1,(R5)+
    1528 015500 010125                  	MOV R1,(R5)+
    1529 015502 006201                  	ASR R1
    1530 015504 006201                  	ASR R1
    1531 015506 006201                  	ASR R1
    1532 015510 010125                  	MOV R1,(R5)+
    1533 015512 006201                  	ASR R1
    1534 015514 010125                  	MOV R1,(R5)+
    1535 015516 006201                  	ASR R1
    1536 015520 010125                  	MOV R1,(R5)+
    1537 015522 006202                  	ASR R2
    1538 015524 006202                  	ASR R2
    1539 015526 006202                  	ASR R2
    1540 015530 010225                  	MOV R2,(R5)+
    1541 015532 006202                  	ASR R2
    1542 015534 010225                  	MOV R2,(R5)+
    1543 015536 006202                  	ASR R2
    1544 015540 010225                  	MOV R2,(R5)+
    1545 015542 016701  016164'         	MOV DVX,R1
    1546 015546 016702  016172'         	MOV DNX,R2
    1547 015552 160201                  	SUB R2,R1
    1548 015554 010125                  	MOV R1,(R5)+
    1549 015556 016701  016170'         	MOV DVY,R1
    1550 015562 016702  016166'         	MOV DNY,R2
    1551 015566 160201                  	SUB R2,R1
    1552 015570 010115                  	MOV R1,(R5)
    1553 015572 012705  000170          	MOV #128.-8.,R5
    1554 015576 004767  015066'         	CALL CORE
    1555 015602 010227                  	MOV R2,(PC)+
    1556 015604 000000                  PREVS:	.WORD 0
    1557 015606 010427                  	MOV R4,(PC)+
    1558 015610 000000                  PREVT:	.WORD 0
    1559 015612 066767  016174' 016210' RLP:	ADD DDA,DA
    1560 015620 066767  016202' 016212' 	ADD DDB,DB
    1561 015626 004767  015066'         	CALL CORE
    1562 015632 026704  015610'         	CMP PREVT,R4
    1563 015636 001026                  	BNE NSM
    1564 015640 016701  015604'         	MOV PREVS,R1
    1565 015644 010267  015604'         	MOV R2,PREVS
    1566 015650 010103                  	MOV R1,R3
    1567 015652 060201                  	ADD R2,R1
    1568 015654 006201                  	ASR R1
    1569 015656 010104                  	MOV R1,R4
    1570 015660 060201                  	ADD R2,R1
    1571 015662 006201                  	ASR R1
    1572 015664 004767  014470'         	CALL DRDSP0
    1573 015670 010402                  	MOV R4,R2
    1574 015672 010301                  	MOV R3,R1
    1575 015674 060201                  	ADD R2,R1
    1576 015676 006201                  	ASR R1
    1577 015700 004767  014512'         	CALL DRDSP4
    1578 015704 162705  000010          NXR:	SUB #8.,R5
    1579 015710 002340                  	BGE RLP
    1580                                	RET
       1 015712 000207                  	RETURN
    1581                                NSM:
    1582 015714 016746  016210'         	MOV DA,-(SP)
    1583 015720 016746  016212'         	MOV DB,-(SP)
    1584 015724 010046                  	MOV R0,-(SP)
    1585 015726 016746  015610'         	MOV PREVT,-(SP)
    1586 015732 016746  015604'         	MOV PREVS,-(SP)
    1587 015736 010267  015604'         	MOV R2,PREVS
    1588 015742 010467  015610'         	MOV R4,PREVT
    1589 015746 166767  016176' 016210' 	SUB DDA2,DA
    1590 015754 166767  016204' 016212' 	SUB DDB2,DB
    1591 015762 004767  015066'         	CALL CORE
    1592 015766 012601                  	MOV (SP)+,R1
    1593 015770 022604                  	CMP (SP)+,R4
    1594 015772 001005                  	BNE NT1
    1595 015774 060201                  	ADD R2,R1
    1596 015776 006201                  	ASR R1
    1597 016000 004767  014512'         	CALL DRDSP4
    1598 016004 000420                  	BR NT2
    1599 016006 010246                  NT1:	MOV R2,-(SP)
    1600 016010 010446                  	MOV R4,-(SP)
    1601 016012 004767  014444'         	CALL DRSP4
    1602 016016 166767  016200' 016210' 	SUB DDA4,DA
    1603 016024 166767  016206' 016212' 	SUB DDB4,DB
    1604 016032 004767  015066'         	CALL CORE
    1605 016036 004767  014456'         	CALL DRSP6
    1606 016042 012604                  	MOV (SP)+,R4
    1607 016044 012602                  	MOV (SP)+,R2
    1608 016046 012600                  NT2:	MOV (SP)+,R0
    1609 016050 026704  015610'         	CMP PREVT,R4
    1610 016054 001010                  	BNE NT3
    1611 016056 010201                  	MOV R2,R1
    1612 016060 016702  015604'         	MOV PREVS,R2
    1613 016064 060201                  	ADD R2,R1
    1614 016066 006201                  	ASR R1
    1615 016070 004767  014470'         	CALL DRDSP0
    1616 016074 000423                  	BR NT4
    1617                                NT3:
    1618 016076 016702  015604'         	MOV PREVS,R2
    1619 016102 004767  014420'         	CALL DRSP0
    1620 016106 011667  016212'         	MOV (SP),DB
    1621 016112 016667  000002  016210' 	MOV 2(SP),DA
    1622 016120 166767  016200' 016210' 	SUB DDA4,DA
    1623 016126 166767  016206' 016212' 	SUB DDB4,DB
    1624 016134 004767  015066'         	CALL CORE
    1625 016140 004767  014432'         	CALL DRSP2
    1626 016144 012667  016212'         NT4:	MOV (SP)+,DB
    1627 016150 012667  016210'         	MOV (SP)+,DA
    1628 016154 000653                  	BR NXR
    1629 016156 000000                  DU0:	.WORD 0
    1630 016160 000000                  DV0:	.WORD 0
    1631 016162 000000                  DIJ0:	.WORD 0
    1632 016164 000000                  DVX:	.WORD 0
    1633 016166 000000                  DNY:	.WORD 0
    1634 016170 000000                  DVY:	.WORD 0
    1635 016172 000000                  DNX:	.WORD 0
    1636 016174 000000                  DDA:	.WORD 0
    1637 016176 000000                  DDA2:	.WORD 0
    1638 016200 000000                  DDA4:	.WORD 0
    1639 016202 000000                  DDB:	.WORD 0
    1640 016204 000000                  DDB2:	.WORD 0
    1641 016206 000000                  DDB4:	.WORD 0
    1642 016210 000000                  DA:	.WORD 0
    1643 016212 000000                  DB:	.WORD 0
    1644 016214 000000                  DDX:	.WORD 0
    1645 016216 000000                  DDY:	.WORD 0
    1646 016220                         MAP:	.BLKW 200
    1647 016620                         VIS:	.BLKW 200
    1648 017220                         FRBF1:	.BLKW 100
    1649 017420                         FRBF2:	.BLKW 100
    1650 017620                         FRBF3:	.BLKW 100
    1651 020020                         FRBF4:	.BLKW 100
    1652 020220                         DD0:	.BLKW 64.
    1653 020420                         UR0:	.BLKW 257.
    1654                                
    1655 021422 000000                  WMS:	.WORD 0
    1656 021424 016703  021422'         CLMM:	MOV WMS,R3
    1657 021430 006300                  	ASL R0
    1658 021432 103405                  0$:	BCS 1$
    1659 021434 001433                  	BEQ 2$
    1660 021436 062703  000500          4$:	ADD #C_SCRWID+C_SCRWID,R3
    1661 021442 006300                  	ASL R0
    1662 021444 000772                  	BR 0$
    1663 021446 010102                  1$:	MOV R1,R2
    1664 021450 010304                  	MOV R3,R4
    1665 021452 006302                  	ASL R2
    1666 021454 103405                  5$:	BCS 3$
    1667 021456 001767                  	BEQ 4$
    1668 021460 062704  000010          	ADD #8.,R4
    1669 021464 006302                  	ASL R2
    1670 021466 000772                  	BR 5$
    1671 021470 005064  000240          3$:	CLR C_SCRWID(R4)
    1672 021474 005024                  	CLR (R4)+
    1673 021476 005064  000240          	CLR C_SCRWID(R4)
    1674 021502 005024                  	CLR (R4)+
    1675 021504 005064  000240          	CLR C_SCRWID(R4)
    1676 021510 005024                  	CLR (R4)+
    1677 021512 005064  000240          	CLR C_SCRWID(R4)
    1678 021516 005024                  	CLR (R4)+
    1679 021520 006302                  	ASL R2
    1680 021522 000754                  	BR 5$
    1681                                2$:	RET
       1 021524 000207                  	RETURN
    1682 021526 012727  177777          MSKSIN:	MOV #-1.,(PC)+
    1683 021532 000000                  MHMSK:	.WORD 0
    1684 021534 012727  177777          	MOV #-1.,(PC)+
    1685 021540 000000                  MVMSK:	.WORD 0
    1686 021542 012727  177777          	MOV #-1.,(PC)+
    1687 021546 000000                  XHMSK:	.WORD 0
    1688 021550 012727  177777          	MOV #-1.,(PC)+
    1689 021554 000000                  XVMSK:	.WORD 0
    1690                                	RET
       1 021556 000207                  	RETURN
    1691 021560 136727  001374' 000002  MNPRC:	BITB FRCNTR,#2
    1692 021566 001410                  	BEQ 1$
    1693 021570 012767  110020  021422' 	MOV #C_MADDR,WMS
    1694 021576 016700  021540'         	MOV MVMSK,R0
    1695 021602 016701  021532'         	MOV MHMSK,R1
    1696 021606 000407                  	BR 2$
    1697 021610 012767  122260  021422' 1$:	MOV #C_XADDR,WMS
    1698 021616 016700  021554'         	MOV XVMSK,R0
    1699 021622 016701  021546'         	MOV XHMSK,R1
    1700 021626 004767  021424'         2$:     CALL CLMM
    1701 021632 005027                  	CLR (PC)+
    1702 021634 000000                  HMSK:	.WORD 0
    1703 021636 005027                  	CLR (PC)+
    1704 021640 000000                  VMSK:	.WORD 0
    1705 021642 004767  021736'         	CALL CLCD
    1706 021646 004767  022152'         	CALL SORT
    1707 021652 004767  022344'         	CALL CLDP
    1708 021656 136727  001374' 000002  	BITB FRCNTR,#2
    1709 021664 001411                  	BEQ 1$
    1710 021666 016767  021640' 021540' 	MOV VMSK,MVMSK
    1711 021674 016767  021634' 021532' 	MOV HMSK,MHMSK
    1712 021702 012700  000000          	MOV #V_SC0,R0
    1713 021706 000410                  	BR 2$
    1714 021710 016767  021640' 021554' 1$:	MOV VMSK,XVMSK
    1715 021716 016767  021634' 021546' 	MOV HMSK,XHMSK
    1716 021724 012700  000012          	MOV #V_SC2,R0
    1717 021730 004767  001246'         2$:	CALL SCH2
    1718                                	RET
       1 021734 000207                  	RETURN
    1719 021736 016700  001410'         CLCD:   MOV SPLA,R0
    1720 021742 004767  007602'         	CALL GCOS
    1721 021746 000301                  	SWAB R1
    1722 021750 110101                  	MOVB R1,R1
    1723 021752 010127                  	MOV R1,(PC)+
    1724 021754 000000                  XCOS:	.WORD 0
    1725 021756 016700  001410'         	MOV SPLA,R0
    1726 021762 004767  007634'         	CALL GSIN
    1727 021766 000301                  	SWAB R1
    1728 021770 110101                  	MOVB R1,R1
    1729 021772 010127                  	MOV R1,(PC)+
    1730 021774 000000                  XSIN:	.WORD 0
    1731                                
    1732 021776 005067  022246'         	CLR SORTN
    1733                                
    1734 022002 012705  026752          	MOV #SMNBF,R5
    1735                                
    1736 022006 105715                  1$:	TSTB (R5)
    1737 022010 001452                  	BEQ 2$
    1738 022012 005000                  	CLR R0
    1739 022014 156500  000003          	BISB 3.(R5),R0
    1740 022020 126067  016620  001374' 	CMPB VIS(R0),FRCNTR
    1741 022026 001043                  	BNE 2$
    1742                                
    1743 022030 016500  000004          	MOV 4.(R5),R0
    1744 022034 166700  001404'         	SUB SPLX,R0
    1745 022040 006200                  	ASR R0
    1746 022042 016701  021754'         	MOV XCOS,R1
    1747 022046 004767  007736'         	CALL SPMULS
    1748                                
    1749 022052 016500  000006          	MOV 6.(R5),R0
    1750 022056 166700  001406'         	SUB SPLY,R0
    1751 022062 006200                  	ASR R0
    1752 022064 016701  021774'         	MOV XSIN,R1
    1753 022070 010204                  	MOV R2,R4
    1754 022072 004767  007736'         	CALL SPMULS
    1755 022076 060402                  	ADD R4,R2
    1756                                
    1757 022100 006202                  	ASR R2
    1758 022102 006202                  	ASR R2
    1759 022104 006202                  	ASR R2
    1760 022106 006202                  	ASR R2
    1761 022110 006202                  	ASR R2
    1762                                
    1763 022112 010265  000012          	MOV R2,10.(R5)
    1764 022116 003407                  	BLE 2$
    1765                                
    1766 022120 016702  022246'         	MOV SORTN,R2
    1767 022124 006302                  	ASL R2
    1768 022126 010562  022250          	MOV R5,SORTI(R2)
    1769 022132 005267  022246'         	INC SORTN
    1770                                
    1771 022136 062705  000014          2$:	ADD #MNRS,R5
    1772 022142 022705  027522          	CMP #SMNBFE,R5
    1773 022146 001317                  	BNE 1$
    1774                                	RET
       1 022150 000207                  	RETURN
    1775 022152 012700  000001          SORT:	MOV #1,R0
    1776 022156 020067  022246'         2$:	CMP R0,SORTN
    1777 022162 002030                  	BGE 1$
    1778 022164 016701  022246'         	MOV SORTN,R1
    1779 022170 160001                  	SUB R0,R1
    1780 022172 005002                  	CLR R2
    1781 022174 020201                  4$:	CMP R2,R1
    1782 022176 002020                  	BGE 3$
    1783 022200 010203                  	MOV R2,R3
    1784 022202 006303                  	ASL R3
    1785 022204 016304  022250          	MOV SORTI(R3),R4
    1786 022210 016305  022252          	MOV SORTI+2(R3),R5
    1787 022214 026564  000012  000012  	CMP 10.(R5),10.(R4)
    1788 022222 002004                  	BGE 5$
    1789 022224 010463  022252          	MOV R4,SORTI+2(R3)
    1790 022230 010563  022250          	MOV R5,SORTI(R3)
    1791 022234 005202                  5$:	INC R2
    1792 022236 000756                  	BR 4$
    1793 022240 005200                  3$:	INC R0
    1794 022242 000745                  	BR 2$
    1795                                1$:	RET
       1 022244 000207                  	RETURN
    1796 022246 000000                  SORTN:	.WORD 0
    1797 022250                         SORTI:	.BLKW 30.
    1798 022344 016705  022246'         CLDP:	MOV SORTN,R5
    1799                                
    1800 022350 001462                  1$:	BEQ 6$
    1801 022352 005305                  	DEC R5
    1802 022354 010546                  	MOV R5,-(SP)
    1803 022356 006305                  	ASL R5
    1804 022360 016505  022250          	MOV SORTI(R5),R5
    1805                                
    1806 022364 016504  000012          	MOV 10.(R5),R4
    1807                                
    1808 022370 016500  000004          	MOV 4.(R5),R0
    1809 022374 166700  001404'         	SUB SPLX,R0
    1810 022400 006200                  	ASR R0
    1811 022402 016701  021774'         	MOV XSIN,R1
    1812 022406 004767  007736'         	CALL SPMULS
    1813                                
    1814 022412 016500  000006          	MOV 6.(R5),R0
    1815 022416 166700  001406'         	SUB SPLY,R0
    1816 022422 006200                  	ASR R0
    1817 022424 016701  021754'         	MOV XCOS,R1
    1818 022430 010203                  	MOV R2,R3
    1819 022432 004767  007736'         	CALL SPMULS
    1820                                
    1821 022436 160302                  	SUB R3,R2
    1822 022440 100005                  	BPL 3$
    1823 022442 005402                  	NEG R2
    1824 022444 004767  010060'         	CALL SPDIV
    1825 022450 005402                  	NEG R2
    1826 022452 000402                  	BR 4$
    1827 022454 004767  010060'         3$:	CALL SPDIV
    1828                                
    1829 022460 010200                  4$:	MOV R2,R0
    1830 022462 100001                  	BPL 5$
    1831 022464 005402                  	NEG R2
    1832 022466 020227  000100          5$:	CMP R2,#64.
    1833 022472 103007                  	BHIS 2$
    1834 022474 062700  000040          	ADD #32.,R0
    1835                                
    1836 022500 111503                  	MOVB (R5),R3
    1837 022502 006303                  	ASL R3
    1838 022504 016303  022516          	MOV DRTAB-2(R3),R3
    1839                                
    1840 022510 004713                  	CALL (R3)
    1841                                
    1842 022512 012605                  2$:	MOV (SP)+,R5
    1843 022514 000715                  	BR 1$
    1844                                
    1845                                6$:	RET
       1 022516 000207                  	RETURN
    1846 022520 023324                  DRTAB:	.WORD SPDRW
    1847 022522 023324                  	.WORD SPDRW
    1848 022524 023102                  	.WORD SPDRF
    1849 022526 023102                  	.WORD SPDRF
    1850 022530 023324                  	.WORD SPDRW
    1851 022532 022614  022615  022626  XFRAMS:	.WORD XFR1,XFR2,XFR3,XFR4,XFR5,XFR6
         022540 022637  022670  022721  
    1852 022546    001     001     001  XSCLRS:	.BYTE 1,1,1,1,1,1,1,1
         022551    001     001     001  
         022554    001     001          
    1853 022556    002     002     002  	.BYTE 2,2,2,2
         022561    002                  
    1854 022562    003     003     003  	.BYTE 3,3,3,3,3
         022565    003     003          
    1855 022567    004     004     004  	.BYTE 4,4,4,4,4
         022572    004     004          
    1856 022574    005     005     005  	.BYTE 5,5,5,5,5
         022577    005     005          
    1857 022601    006     006     006  	.BYTE 6,6,6,6,6
         022604    006     006          
    1858 022606    001     003     003  XSIZES:	.BYTE 1,3,3,5,5,7
         022611    005     005     007  
    1859 022614    377                  XFR1:	.BYTE 377
    1860 022615    000     377     000  XFR2:	.BYTE 0,377,0
    1861 022620    377     377     377  	.BYTE 377,377,377
    1862 022623    000     377     000  	.BYTE 0,377,0
    1863 022626    377     377     377  XFR3:	.BYTE 377,377,377
    1864 022631    377     377     377  	.BYTE 377,377,377
    1865 022634    377     377     377  	.BYTE 377,377,377
    1866 022637    000     000     377  XFR4:	.BYTE 0,0,377,0,0
         022642    000     000          
    1867 022644    000     377     377  	.BYTE 0,377,377,377,0
         022647    377     000          
    1868 022651    377     377     377  	.BYTE 377,377,377,377,377
         022654    377     377          
    1869 022656    000     377     377  	.BYTE 0,377,377,377,0
         022661    377     000          
    1870 022663    000     000     377  	.BYTE 0,0,377,0,0
         022666    000     000          
    1871 022670    000     377     377  XFR5:	.BYTE 0,377,377,377,0
         022673    377     000          
    1872 022675    377     377     377  	.BYTE 377,377,377,377,377
         022700    377     377          
    1873 022702    377     377     377  	.BYTE 377,377,377,377,377
         022705    377     377          
    1874 022707    377     377     377  	.BYTE 377,377,377,377,377
         022712    377     377          
    1875 022714    000     377     377  	.BYTE 0,377,377,377,0
         022717    377     000          
    1876 022721    000     000     377  XFR6:	.BYTE 0,0,377,377,377,0,0
         022724    377     377     000  
         022727    000                  
    1877 022730    000     377     377  	.BYTE 0,377,377,377,377,377,0
         022733    377     377     377  
         022736    000                  
    1878 022737    377     377     377  	.BYTE 377,377,377,377,377,377,377
         022742    377     377     377  
         022745    377                  
    1879 022746    377     377     377  	.BYTE 377,377,377,377,377,377,377
         022751    377     377     377  
         022754    377                  
    1880 022755    377     377     377  	.BYTE 377,377,377,377,377,377,377
         022760    377     377     377  
         022763    377                  
    1881 022764    000     377     377  	.BYTE 0,377,377,377,377,377,0
         022767    377     377     377  
         022772    000                  
    1882 022773    000     000     377  	.BYTE 0,0,377,377,377,0,0
         022776    377     377     000  
         023001    000                  
    1883                                	.EVEN
    1884 023002 023626  023636  023656  SCTB:	.WORD SCL1,SCL2,SCL3,SCL4,SCL5,SCL6,SCL5,SCL6
         023010 023706  023746  024010  
         023016 023746  024010          
    1885 023022 023746  024010  023746  	.WORD SCL5,SCL6,SCL5,SCL6,SCL5,SCL6,SCL5,SCL6
         023030 024010  023746  024010  
         023036 023746  024010          
    1886 023042 023746  024010  023746  	.WORD SCL5,SCL6,SCL5,SCL6,SCL5,SCL6,SCL5,SCL6
         023050 024010  023746  024010  
         023056 023746  024010          
    1887 023062 023746  024010  023746  	.WORD SCL5,SCL6,SCL5,SCL6,SCL5,SCL6,SCL5,SCL6
         023070 024010  023746  024010  
         023076 023746  024010          
    1888 023102 010546                  SPDRF:	MOV R5,-(SP)
    1889 023104 016504  000012          	MOV 10.(R5),R4
    1890 023110 004767  010054'         	CALL SPDVX
    1891 023114 010246                  	MOV R2,-(SP)
    1892 023116 006202                  	ASR R2
    1893 023120 006202                  	ASR R2
    1894 023122 006202                  	ASR R2
    1895 023124 006202                  	ASR R2
    1896 023126 001473                  	BEQ XR1
    1897 023130 020227  000040          	CMP R2,#32.
    1898 023134 101070                  	BHI XR1
    1899 023136 010203                  	MOV R2,R3
    1900 023140 006203                  	ASR R3
    1901 023142 116202  022545          	MOVB XSCLRS-1(R2),R2
    1902 023146 010205                  	MOV R2,R5
    1903 023150 006305                  	ASL R5
    1904 023152 016504  022530          	MOV XFRAMS-2(R5),R4
    1905 023156 116202  022605          	MOVB XSIZES-1(R2),R2
    1906 023162 010205                  	MOV R2,R5
    1907 023164 006205                  	ASR R5
    1908 023166 160500                  	SUB R5,R0
    1909 023170 010201                  	MOV R2,R1
    1910 023172 160503                  	SUB R5,R3
    1911 023174 010205                  	MOV R2,R5
    1912 023176 060305                  	ADD R3,R5
    1913 023200 016527  006705          	MOV DRMSKV-1(R5),(PC)+
    1914 023204 000000                  VTMP:	.WORD 0
    1915 023206 070327  000240          	MUL #C_SCRWID,R3
    1916 023212 120027  000100          XR2:	CMPB R0,#64.
    1917 023216 103035                  	BHIS XR4
    1918 023220 110005                  	MOVB R0,R5
    1919 023222 006305                  	ASL R5
    1920 023224 026516  017220          	CMP FRBF1(R5),(SP)
    1921 023230 002030                  	BGE XR4
    1922 023232 110005                  	MOVB R0,R5
    1923 023234 006205                  	ASR R5
    1924 023236 056567  006646  021634' 	BIS DRMSKH(R5),HMSK
    1925 023244 056767  023204' 021640' 	BIS VTMP,VMSK
    1926 023252 010046                  	MOV R0,-(SP)
    1927 023254 010146                  	MOV R1,-(SP)
    1928 023256 010246                  	MOV R2,-(SP)
    1929 023260 006300                  	ASL R0
    1930 023262 060300                  	ADD R3,R0
    1931 023264 066700  021422'         	ADD WMS,R0
    1932 023270 112401                  XR3:	MOVB (R4)+,R1
    1933 023272 001401                  	BEQ XR5
    1934 023274 010110                  	MOV R1,(R0)
    1935 023276 062700  000240          XR5:	ADD #C_SCRWID,R0
    1936 023302 077206                  	SOB R2,XR3
    1937 023304 012602                  	MOV (SP)+,R2
    1938 023306 012601                  	MOV (SP)+,R1
    1939 023310 012600                  	MOV (SP)+,R0
    1940 023312 005200                  XR4:	INC R0
    1941 023314 077142                  	SOB R1,XR2
    1942 023316 005726                  XR1:	TST (SP)+
    1943 023320 012605                  	MOV (SP)+,R5
    1944                                	RET
       1 023322 000207                  	RETURN
    1945 023324 010546                  SPDRW:	MOV R5,-(SP)
    1946 023326 004767  025772'         	CALL DPROJ2
    1947 023332 016504  000012          	MOV 10.(R5),R4
    1948 023336 004767  010054'         	CALL SPDVX
    1949 023342 010246                  	MOV R2,-(SP)
    1950 023344 006202                  	ASR R2
    1951 023346 006202                  	ASR R2
    1952 023350 006202                  	ASR R2
    1953 023352 006202                  	ASR R2
    1954 023354 001521                  	BEQ SR1
    1955 023356 020227  000040          	CMP R2,#32.
    1956 023362 101116                  	BHI SR1
    1957 023364 111504                  	MOVB (R5),R4
    1958 023366 006304                  	ASL R4
    1959 023370 016404  006024          	MOV ANIMAS-2(R4),R4
    1960 023374 001407                  	BEQ TSCLX
    1961 023376 116501  000001          	MOVB 1.(R5),R1
    1962 023402 005201                  	INC R1
    1963 023404 006301                  	ASL R1
    1964 023406 060104                  	ADD R1,R4
    1965 023410 011427                  	MOV (R4),(PC)+
    1966 023412 000000                  ANIFR:	.WORD 0
    1967 023414 010204                  TSCLX:	MOV R2,R4
    1968 023416 006304                  	ASL R4
    1969 023420 016467  023000  023576' 	MOV SCTB-2.(R4),SR0+2
    1970 023426 016427  005664          	MOV SCLR-2.(R4),(PC)+
    1971 023432 000000                  TSCLR:	.WORD 0
    1972 023434 010204                  	MOV R2,R4
    1973 023436 006204                  	ASR R4
    1974 023440 160400                  	SUB R4,R0
    1975 023442 010201                  	MOV R2,R1
    1976 023444 005301                  	DEC R1
    1977 023446 010146                  	MOV R1,-(SP)
    1978 023450 111501                  	MOVB (R5),R1
    1979 023452 006301                  	ASL R1
    1980 023454 016101  005652          	MOV MTRLM-2.(R1),R1
    1981 023460 016727  023432'         	MOV TSCLR,(PC)+
    1982 023464 000000                  HSCLR:	.WORD 0
    1983 023466 006267  023464'         	ASR HSCLR
    1984 023472 120027  000100          SR2:	CMPB R0,#64.
    1985 023476 103041                  	BHIS SR4
    1986 023500 110005                  	MOVB R0,R5
    1987 023502 006305                  	ASL R5
    1988 023504 026566  017220  000002  	CMP FRBF1(R5),2(SP)
    1989 023512 002033                  	BGE SR4
    1990 023514 116704  023465'         	MOVB HSCLR+1,R4
    1991 023520 006304                  	ASL R4
    1992 023522 066704  023412'         	ADD ANIFR,R4
    1993 023526 011404                  	MOV (R4),R4
    1994 023530 001424                  	BEQ SR4
    1995 023532 110005                  	MOVB R0,R5
    1996 023534 006205                  	ASR R5
    1997 023536 056567  006646  021634' 	BIS DRMSKH(R5),HMSK
    1998 023544 010205                  	MOV R2,R5
    1999 023546 056567  006705  021640' 	BIS DRMSKV-1.(R5),VMSK
    2000 023554 006305                  	ASL R5
    2001 023556 016503  012122          	MOV PSCTAB-2.(R5),R3
    2002 023562 010246                  	MOV R2,-(SP)
    2003 023564 010005                  	MOV R0,R5
    2004 023566 006305                  	ASL R5
    2005 023570 066705  021422'         	ADD WMS,R5
    2006 023574 012707  000000          SR0:	MOV #0,PC
    2007 023600 012602                  SR5:	MOV (SP)+,R2
    2008 023602 005200                  SR4:	INC R0
    2009 023604 066767  023432' 023464' 	ADD TSCLR,HSCLR
    2010 023612 005316                  	DEC (SP)
    2011 023614 100326                  	BPL SR2
    2012 023616 005726                  	TST (SP)+
    2013 023620 005726                  SR1:	TST (SP)+
    2014 023622 012605                  	MOV (SP)+,R5
    2015                                	RET
       1 023624 000207                  	RETURN
    2016 023626 032304                  SCL1:	BIT (R3)+,R4
    2017 023630 001763                  	BEQ SR5
    2018 023632 010115                  	MOV R1,(R5)
    2019 023634 000761                  1$:	BR SR5
    2020 023636 032304                  SCL2:	BIT (R3)+,R4
    2021 023640 001401                  	BEQ 1$
    2022 023642 010115                  	MOV R1,(R5)
    2023 023644 032304                  1$:	BIT (R3)+,R4
    2024 023646 001402                  	BEQ 2$
    2025 023650 010165  000240          	MOV R1,C_SCRWID(R5)
    2026 023654 000751                  2$:	BR SR5
    2027 023656 032304                  SCL3:	BIT (R3)+,R4
    2028 023660 001401                  	BEQ 1$
    2029 023662 010115                  	MOV R1,(R5)
    2030 023664 032304                  1$:	BIT (R3)+,R4
    2031 023666 001402                  	BEQ 2$
    2032 023670 010165  000240          	MOV R1,C_SCRWID(R5)
    2033 023674 032304                  2$:	BIT (R3)+,R4
    2034 023676 001402                  	BEQ 3$
    2035 023700 010165  000500          	MOV R1,C_SCRWID+C_SCRWID(R5)
    2036 023704 000735                  3$:	BR SR5
    2037 023706 032304                  SCL4:	BIT (R3)+,R4
    2038 023710 001401                  	BEQ 1$
    2039 023712 010115                  	MOV R1,(R5)
    2040 023714 032304                  1$:	BIT (R3)+,R4
    2041 023716 001402                  	BEQ 2$
    2042 023720 010165  000240          	MOV R1,C_SCRWID(R5)
    2043 023724 032304                  2$:	BIT (R3)+,R4
    2044 023726 001402                  	BEQ 3$
    2045 023730 010165  000500          	MOV R1,C_SCRWID+C_SCRWID(R5)
    2046 023734 032304                  3$:	BIT (R3)+,R4
    2047 023736 001402                  	BEQ 4$
    2048 023740 010165  000740          	MOV R1,C_SCRWID+C_SCRWID+C_SCRWID(R5)
    2049 023744 000715                  4$:	BR SR5
    2050 023746 006202                  SCL5:	ASR R2
    2051 023750 032304                  	BIT (R3)+,R4
    2052 023752 001401                  	BEQ 2$
    2053 023754 010115                  	MOV R1,(R5)
    2054 023756 062705  000240          2$:	ADD #C_SCRWID,R5
    2055 023762 032304                  1$:	BIT (R3)+,R4
    2056 023764 001401                  	BEQ 3$
    2057 023766 010115                  	MOV R1,(R5)
    2058 023770 032304                  3$:	BIT (R3)+,R4
    2059 023772 001402                  	BEQ 4$
    2060 023774 010165  000240          	MOV R1,C_SCRWID(R5)
    2061 024000 062705  000500          4$:	ADD #C_SCRWID+C_SCRWID,R5
    2062 024004 077212                  	SOB R2,1$
    2063 024006 000674                  	BR SR5
    2064 024010 006202                  SCL6:	ASR R2
    2065 024012 032304                  1$:	BIT (R3)+,R4
    2066 024014 001401                  	BEQ 3$
    2067 024016 010115                  	MOV R1,(R5)
    2068 024020 032304                  3$:	BIT (R3)+,R4
    2069 024022 001402                  	BEQ 4$
    2070 024024 010165  000240          	MOV R1,C_SCRWID(R5)
    2071 024030 062705  000500          4$:	ADD #C_SCRWID+C_SCRWID,R5
    2072 024034 077212                  	SOB R2,1$
    2073 024036 000660                  	BR SR5
    2074                                
    2075 024040 024510  024634  025260  MNPRCS:	.WORD MHNTR,MHIT,MPROJ1,MPROJ2,MAMMO
         024046 025464  025470          
    2076 024052 012705  026202          CLMNBF:	MOV #MNBF,R5
    2077 024056 005025                  1$:	CLR (R5)+
    2078 024060 022705  026752          	CMP #MNBFE,R5
    2079 024064 001374                  	BNE 1$
    2080                                	RET
       1 024066 000207                  	RETURN
    2081 024070 010346                  SETIPS:	MOV R3,-(SP)
    2082 024072 004767  011220'         1$:	CALL FRN
    2083 024076 016700  011222'         	MOV RAN,R0
    2084 024102 042700  176000          	BIC #176000,R0
    2085 024106 004767  011220'         	CALL FRN
    2086 024112 016701  011222'         	MOV RAN,R1
    2087 024116 042701  176000          	BIC #176000,R1
    2088 024122 004767  011102'         	CALL CHECK
    2089 024126 001361                  	BNE 1$
    2090 024130 004767  011220'         	CALL FRN
    2091 024134 016702  011222'         	MOV RAN,R2
    2092 024140 042702  177000          	BIC #177000,R2
    2093 024144 010265  000010          	MOV R2,8.(R5)
    2094 024150 010065  000004          	MOV R0,4.(R5)
    2095 024154 010165  000006          	MOV R1,6.(R5)
    2096 024160 004767  011054'         	CALL CHECKP
    2097 024164 110265  000003          	MOVB R2,3.(R5)
    2098 024170 005003                  	CLR R3
    2099 024172 156703  001374'         	BISB FRCNTR,R3
    2100 024176 126203  016620          	CMPB VIS(R2),R3
    2101 024202 001733                  	BEQ 1$
    2102 024204 105303                  	DECB R3
    2103 024206 105303                  	DECB R3
    2104 024210 126203  016620          	CMPB VIS(R2),R3
    2105 024214 001726                  	BEQ 1$
    2106 024216 010046                  	MOV R0,-(SP)
    2107 024220 004767  011220'         	CALL FRN
    2108 024224 016700  011222'         	MOV RAN,R0
    2109 024230 042700  177760          	BIC #177760,R0
    2110 024234 120065  000002          	CMPB R0,2.(R5)
    2111 024240 103401                  	BLO 2$
    2112 024242 005000                  	CLR R0
    2113 024244 110065  000001          2$:	MOVB R0,1.(R5)
    2114 024250 012600                  	MOV (SP)+,R0
    2115 024252 012603                  	MOV (SP)+,R3
    2116                                	RET
       1 024254 000207                  	RETURN
    2117 024256 012705  026202          SETHNT:	MOV #MNBF,R5
    2118 024262 112715  000001          1$:	MOVB #1.,(R5)
    2119 024266 105065  000001          	CLRB 1.(R5)
    2120 024272 016700  006040'         	MOV HNTRS,R0
    2121 024276 110065  000002          	MOVB R0,2.(R5)
    2122 024302 004767  024070'         	CALL SETIPS
    2123 024306 112762  000377  016220  	MOVB #255.,MAP(R2)
    2124 024314 062705  000014          	ADD #MNRS,R5
    2125 024320 022705  026276          	CMP #MNBFS,R5
    2126 024324 001356                  	BNE 1$
    2127                                	RET
       1 024326 000207                  	RETURN
    2128 024330 012705  026562          SETAMM:	MOV #MNBFX,R5
    2129 024334 112715  000005          1$:	MOVB #5.,(R5)
    2130 024340 105065  000001          	CLRB 1.(R5)
    2131 024344 016700  006060'         	MOV AMMOS,R0
    2132 024350 110065  000002          	MOVB R0,2.(R5)
    2133 024354 004767  024070'         	CALL SETIPS
    2134 024360 112762  000377  016220  	MOVB #255.,MAP(R2)
    2135 024366 062705  000014          	ADD #MNRS,R5
    2136 024372 022705  026752          	CMP #MNBFE,R5
    2137 024376 001356                  	BNE 1$
    2138                                	RET
       1 024400 000207                  	RETURN
    2139 024402 012705  016220          CLTMRK:	MOV #MAP,R5
    2140 024406 012704  000400          	MOV #256.,R4
    2141 024412 121527  000377          1$:	CMPB (R5),#255.
    2142 024416 001001                  	BNE 2$
    2143 024420 105015                  	CLRB (R5)
    2144 024422 005205                  2$:	INC R5
    2145 024424 077406                  	SOB R4,1$
    2146                                	RET
       1 024426 000207                  	RETURN
    2147 024430 004767  021526'         MNSET:	CALL MSKSIN
    2148 024434 004767  024052'         	CALL CLMNBF
    2149 024440 004767  024256'         	CALL SETHNT
    2150 024444 004767  024330'         	CALL SETAMM
    2151 024450 004767  024402'         	CALL CLTMRK
    2152                                	RET
       1 024454 000207                  	RETURN
    2153 024456 036727  001220' 000003  NEXTFR:	BIT SKIP,#3.
    2154 024464 001010                  	BNE 1$
    2155 024466 105265  000001          	INCB 1.(R5)
    2156 024472 126565  000001  000002  	CMPB 1.(R5),2.(R5)
    2157 024500 001002                  	BNE 1$
    2158 024502 105065  000001          	CLRB 1.(R5)
    2159                                1$:	RET
       1 024506 000207                  	RETURN
    2160 024510 016500  000010          MHNTR:	MOV 8.(R5),R0
    2161 024514 004767  007666'         	CALL GSNCS
    2162 024520 006200                  	ASR R0
    2163 024522 006201                  	ASR R1
    2164 024524 066500  000004          	ADD 4.(R5),R0
    2165 024530 066501  000006          	ADD 6.(R5),R1
    2166 024534 004767  011102'         	CALL CHECK
    2167 024540 001011                  	BNE 1$
    2168 024542 010065  000004          	MOV R0,4.(R5)
    2169 024546 010165  000006          	MOV R1,6.(R5)
    2170 024552 004767  011054'         	CALL CHECKP
    2171 024556 110265  000003          	MOVB R2,3.(R5)
    2172 024562 000421                  	BR 2$
    2173 024564 004767  011220'         1$:	CALL FRN
    2174 024570 016702  011222'         	MOV RAN,R2
    2175 024574 042702  177000          	BIC #177000,R2
    2176 024600 010265  000010          	MOV R2,8.(R5)
    2177 024604 026727  001362' 000010  	CMP GSTATE,#GSHTWN
    2178 024612 001005                  	BNE 2$
    2179 024614 020527  026202          	CMP R5,#MNBF
    2180 024620 001002                  	BNE 2$
    2181 024622 004767  011702'         	CALL CORRA
    2182 024626 004767  024456'         2$:	CALL NEXTFR
    2183                                	RET
       1 024632 000207                  	RETURN
    2184 024634 004767  024456'         MHIT:	CALL NEXTFR
    2185 024640 001001                  	BNE 1$
    2186 024642 105015                  	CLRB (R5)
    2187                                1$:	RET
       1 024644 000207                  	RETURN
    2188 024646 005002                  HPCHK:	CLR R2
    2189 024650 026727  001362' 000001  	CMP GSTATE,#GSGAME
    2190 024656 001053                  	BNE 5$
    2191 024660 010046                  	MOV R0,-(SP)
    2192 024662 010146                  	MOV R1,-(SP)
    2193 024664 166700  001376'         	SUB PLX,R0
    2194 024670 100001                  	BPL 1$
    2195 024672 005400                  	NEG R0
    2196 024674 166701  001400'         1$:	SUB PLY,R1
    2197 024700 100001                  	BPL 2$
    2198 024702 005401                  	NEG R1
    2199 024704 020027  000023          2$:	CMP R0,#HITRAD
    2200 024710 101034                  	BHI 4$
    2201 024712 020127  000023          	CMP R1,#HITRAD
    2202 024716 101031                  	BHI 4$
    2203 024720 116700  001370'         	MOVB SCORE,R0
    2204 024724 105200                  	INCB R0
    2205 024726 120027  000031          	CMPB R0,#SCLIM
    2206 024732 103420                  	BLO 3$
    2207 024734 012767  000010  001362' 	MOV #GSHTWN,GSTATE
    2208 024742 010046                  	MOV R0,-(SP)
    2209 024744 010246                  	MOV R2,-(SP)
    2210 024746 010346                  	MOV R3,-(SP)
    2211 024750 010546                  	MOV R5,-(SP)
    2212 024752 052767  000020  001364' 	BIS #16.,BITFLD
    2213 024760 004767  011702'         	CALL CORRA
    2214 024764 012605                  	MOV (SP)+,R5
    2215 024766 012603                  	MOV (SP)+,R3
    2216 024770 012602                  	MOV (SP)+,R2
    2217 024772 012600                  	MOV (SP)+,R0
    2218 024774 110067  001370'         3$:	MOVB R0,SCORE
    2219 025000 005202                  	INC R2
    2220 025002 012601                  4$:	MOV (SP)+,R1
    2221 025004 012600                  	MOV (SP)+,R0
    2222                                5$:	RET
       1 025006 000207                  	RETURN
    2223 025010 012705  026202          DALL:	MOV #MNBF,R5
    2224 025014 105715                  1$:	TSTB (R5)
    2225 025016 001414                  	BEQ 2$
    2226 025020 112715  000002          	MOVB #2.,(R5)
    2227 025024 105065  000001          	CLRB 1.(R5)
    2228 025030 016700  006050'         	MOV HITS,R0
    2229 025034 110065  000002          	MOVB R0,2.(R5)
    2230 025040 012700  000002          	MOV #H_SND,R0
    2231 025044 004767  001246'         	CALL SCH2
    2232 025050 062705  000014          2$:	ADD #MNRS,R5
    2233 025054 022705  026276          	CMP #MNBFS,R5
    2234 025060 001355                  	BNE 1$
    2235                                	RET
       1 025062 000207                  	RETURN
    2236 025064 005002                  PHCHK:	CLR R2
    2237 025066 026727  001362' 000001  	CMP GSTATE,#GSGAME
    2238 025074 001070                  	BNE 7$
    2239 025076 010046                  	MOV R0,-(SP)
    2240 025100 010146                  	MOV R1,-(SP)
    2241 025102 010546                  	MOV R5,-(SP)
    2242 025104 012705  026202          	MOV #MNBF,R5
    2243 025110 105715                  1$:	TSTB (R5)
    2244 025112 001451                  	BEQ 2$
    2245 025114 016600  000004          	MOV 4(SP),R0
    2246 025120 016601  000002          	MOV 2(SP),R1
    2247 025124 166500  000004          	SUB 4(R5),R0
    2248 025130 100001                  	BPL 3$
    2249 025132 005400                  	NEG R0
    2250 025134 166501  000006          3$:	SUB 6(R5),R1
    2251 025140 100001                  	BPL 4$
    2252 025142 005401                  	NEG R1
    2253 025144 020027  000023          4$:	CMP R0,#HITRAD
    2254 025150 101032                  	BHI 2$
    2255 025152 020127  000023          	CMP R1,#HITRAD
    2256 025156 101027                  	BHI 2$
    2257 025160 116700  001371'         	MOVB SCORE+1,R0
    2258 025164 105200                  	INCB R0
    2259 025166 120027  000031          	CMPB R0,#SCLIM
    2260 025172 103415                  	BLO 5$
    2261 025174 012767  000004  001362' 	MOV #GSPLWN,GSTATE
    2262 025202 010046                  	MOV R0,-(SP)
    2263 025204 010346                  	MOV R3,-(SP)
    2264 025206 052767  000040  001364' 	BIS #32.,BITFLD
    2265 025214 004767  025010'         	CALL DALL
    2266 025220 012603                  	MOV (SP)+,R3
    2267 025222 012600                  	MOV (SP)+,R0
    2268 025224 005005                  	CLR R5
    2269 025226 110067  001371'         5$:	MOVB R0,SCORE+1
    2270 025232 010502                  	MOV R5,R2
    2271 025234 000405                  	BR 6$
    2272 025236 062705  000014          2$:	ADD #MNRS,R5
    2273 025242 022705  026276          	CMP #MNBFS,R5
    2274 025246 001320                  	BNE 1$
    2275 025250 012605                  6$:	MOV (SP)+,R5
    2276 025252 012601                  	MOV (SP)+,R1
    2277 025254 012600                  	MOV (SP)+,R0
    2278                                7$:	RET
       1 025256 000207                  	RETURN
    2279 025260 016500  000010          MPROJ1:	MOV 8.(R5),R0
    2280 025264 004767  007674'         	CALL GSNCS2
    2281 025270 066500  000004          	ADD 4.(R5),R0
    2282 025274 066501  000006          	ADD 6.(R5),R1
    2283 025300 121527  000004          	CMPB (R5),#4.
    2284 025304 001013                  	BNE 4$
    2285 025306 004767  024646'         	CALL HPCHK
    2286 025312 005702                  	TST R2
    2287 025314 001427                  	BEQ 5$
    2288 025316 016500  000010          	MOV 8.(R5),R0
    2289 025322 004767  007666'         	CALL GSNCS
    2290 025326 004767  003460'         	CALL DUP2
    2291 025332 000434                  	BR 1$
    2292 025334 004767  025064'         4$:	CALL PHCHK
    2293 025340 005702                  	TST R2
    2294 025342 001414                  	BEQ 5$
    2295 025344 016265  000004  000004  	MOV 4.(R2),4.(R5)
    2296 025352 016265  000006  000006  	MOV 6.(R2),6.(R5)
    2297 025360 010546                  	MOV R5,-(SP)
    2298 025362 010205                  	MOV R2,R5
    2299 025364 004767  024070'         	CALL SETIPS
    2300 025370 012605                  	MOV (SP)+,R5
    2301 025372 000414                  	BR 1$
    2302 025374 004767  011102'         5$:	CALL CHECK
    2303 025400 001011                  	BNE 1$
    2304 025402 010065  000004          	MOV R0,4.(R5)
    2305 025406 010165  000006          	MOV R1,6.(R5)
    2306 025412 004767  011054'         	CALL CHECKP
    2307 025416 110265  000003          	MOVB R2,3.(R5)
    2308 025422 000415                  	BR 2$
    2309 025424 112715  000002          1$:	MOVB #2.,(R5)
    2310 025430 105065  000001          	CLRB 1.(R5)
    2311 025434 016700  006050'         	MOV HITS,R0
    2312 025440 110065  000002          	MOVB R0,2.(R5)
    2313 025444 012700  000002          	MOV #H_SND,R0
    2314 025450 004767  001246'         	CALL SCH2
    2315 025454 000402                  	BR 3$
    2316 025456 004767  024456'         2$:	CALL NEXTFR
    2317                                3$:	RET
       1 025462 000207                  	RETURN
    2318 025464 000167  025260'         MPROJ2:	JMP MPROJ1
    2319 025470 126727  001366' 000036  MAMMO:	CMPB AMMO,#30.
    2320 025476 103043                  	BHIS 3$
    2321 025500 016700  001376'         	MOV PLX,R0
    2322 025504 016701  001400'         	MOV PLY,R1
    2323 025510 166500  000004          	SUB 4.(R5),R0
    2324 025514 100001                  	BPL 1$
    2325 025516 005400                  	NEG R0
    2326 025520 166501  000006          1$:	SUB 6.(R5),R1
    2327 025524 100001                  	BPL 2$
    2328 025526 005401                  	NEG R1
    2329 025530 020027  000023          2$:	CMP R0,#HITRAD
    2330 025534 101024                  	BHI 3$
    2331 025536 020127  000023          	CMP R1,#HITRAD
    2332 025542 101021                  	BHI 3$
    2333 025544 116700  001366'         	MOVB AMMO,R0
    2334 025550 062700  000005          	ADD #5.,R0
    2335 025554 020027  000036          	CMP R0,#30.
    2336 025560 101402                  	BLOS 4$
    2337 025562 012700  000036          	MOV #30.,R0
    2338 025566 110067  001366'         4$:	MOVB R0,AMMO
    2339 025572 004767  024070'         	CALL SETIPS
    2340 025576 012700  000003          	MOV #A_SND,R0
    2341 025602 004767  001246'         	CALL SCH2
    2342 025606 000167  024456'         3$:	JMP NEXTFR
    2343 025612 012705  026202          MNMOV:	MOV #MNBF,R5
    2344 025616 111500                  1$:	MOVB (R5),R0
    2345 025620 001403                  	BEQ 2$
    2346 025622 006300                  	ASL R0
    2347 025624 004770  024036          	CALL @MNPRCS-2(R0)
    2348 025630 062705  000014          2$:	ADD #MNRS,R5
    2349 025634 022705  026752          	CMP #MNBFE,R5
    2350 025640 001366                  	BNE 1$
    2351                                	RET
       1 025642 000207                  	RETURN
    2352 025644 026727  001362' 000010  DPROJ1:	CMP GSTATE,#GSHTWN
    2353 025652 001446                  	BEQ 3$
    2354 025654 105767  001366'         	TSTB AMMO
    2355 025660 001443                  	BEQ 3$
    2356 025662 105367  001366'         	DECB AMMO
    2357 025666 012705  026276          	MOV #MNBFS,R5
    2358 025672 105715                  1$:	TSTB (R5)
    2359 025674 001030                  	BNE 2$
    2360 025676 112715  000003          	MOVB #3.,(R5)
    2361 025702 105065  000001          	CLRB 1.(R5)
    2362 025706 016700  001376'         	MOV PLX,R0
    2363 025712 016701  001400'         	MOV PLY,R1
    2364 025716 010065  000004          	MOV R0,4.(R5)
    2365 025722 010165  000006          	MOV R1,6.(R5)
    2366 025726 016765  001402' 000010  	MOV PLA,8.(R5)
    2367 025734 004767  011054'         	CALL CHECKP
    2368 025740 110265  000003          	MOVB R2,3.(R5)
    2369 025744 012700  000004          	MOV #F_SND,R0
    2370 025750 004767  001246'         	CALL SCH2
    2371 025754 000405                  	BR 3$
    2372 025756 062705  000014          2$:	ADD #MNRS,R5
    2373 025762 022705  026562          	CMP #MNBFX,R5
    2374 025766 001341                  	BNE 1$
    2375                                3$:	RET
       1 025770 000207                  	RETURN
    2376 025772 122715  000001          DPROJ2:	CMPB #1.,(R5)
    2377 025776 001062                  	BNE 3$
    2378 026000 026727  001362' 000010  	CMP GSTATE,#GSHTWN
    2379 026006 001456                  	BEQ 3$
    2380 026010 004767  011220'         	CALL FRN
    2381 026014 026727  011222' 006654  	CMP RAN,#3500.
    2382 026022 101050                  	BHI 3$
    2383 026024 010046                  	MOV R0,-(SP)
    2384 026026 010146                  	MOV R1,-(SP)
    2385 026030 010246                  	MOV R2,-(SP)
    2386 026032 010446                  	MOV R4,-(SP)
    2387 026034 012704  026276          	MOV #MNBFS,R4
    2388 026040 105714                  1$:	TSTB (R4)
    2389 026042 001027                  	BNE 2$
    2390 026044 112714  000004          	MOVB #4.,(R4)
    2391 026050 105064  000001          	CLRB 1.(R4)
    2392 026054 016500  000004          	MOV 4.(R5),R0
    2393 026060 016501  000006          	MOV 6.(R5),R1
    2394 026064 010064  000004          	MOV R0,4.(R4)
    2395 026070 010164  000006          	MOV R1,6.(R4)
    2396 026074 004767  011054'         	CALL CHECKP
    2397 026100 110264  000003          	MOVB R2,3.(R4)
    2398 026104 004767  007200'         	CALL GETANG
    2399 026110 012700  000004          	MOV #F_SND,R0
    2400 026114 004767  001246'         	CALL SCH2
    2401 026120 000405                  	BR 4$
    2402 026122 062704  000014          2$:	ADD #MNRS,R4
    2403 026126 022704  026562          	CMP #MNBFX,R4
    2404 026132 001342                  	BNE 1$
    2405 026134 012604                  4$:	MOV (SP)+,R4
    2406 026136 012602                  	MOV (SP)+,R2
    2407 026140 012601                  	MOV (SP)+,R1
    2408 026142 012600                  	MOV (SP)+,R0
    2409                                3$:	RET
       1 026144 000207                  	RETURN
    2410 026146 012700  026202          MNSYNC:	MOV #MNBF,R0
    2411 026152 012701  026752          	MOV #SMNBF,R1
    2412 026156 012021                  1$:	MOV (R0)+,(R1)+
    2413 026160 012021                  	MOV (R0)+,(R1)+
    2414 026162 012021                  	MOV (R0)+,(R1)+
    2415 026164 012021                  	MOV (R0)+,(R1)+
    2416 026166 012021                  	MOV (R0)+,(R1)+
    2417 026170 012021                  	MOV (R0)+,(R1)+
    2418 026172 020027  026752          	CMP R0,#MNBFE
    2419 026176 001367                  	BNE 1$
    2420                                	RET
       1 026200 000207                  	RETURN
    2421 026202                         MNBF:	.BLKB 60.
    2422 026276                         MNBFS:	.BLKB 180.
    2423 026562                         MNBFX:	.BLKB 120.
    2424                                MNBFE:
    2425 026752                         SMNBF:	.BLKB 60.+180.+120.
    2426 027522 000240                  SMNBFE:	NOP
    2427                                
    2428 027524 012727  000005          GOTIT:	MOV #5,(PC)+
    2429 027530 000000                  MNUITM:	.WORD 0
    2430 027532 012727  177777          	MOV #-1,(PC)+
    2431 027536 000000                  OLDITM:	.WORD 0
    2432 027540 004767  001334'         	CALL CLVRAM
    2433 027544 012700  000001          	MOV #V_SC1,R0
    2434 027550 004767  001246'         	CALL SCH2
    2435 027554 012700  040000          	MOV #40000,R0
    2436 027560 005020                  	CLR (R0)+
    2437 027562 005700                  	TST R0
    2438 027564 100375                  	BPL .-4
    2439 027566 012700  032770          	MOV #TITDAT,R0
    2440 027572 012701  041400          	MOV #41400,R1
    2441 027576 004767  032100'         	CALL UNPK
    2442 027602 004767  032336'         	CALL CONVSC
    2443 027606 004767  030632'         	CALL PRVER
    2444 027612 012705  030654          	MOV #TX1,R5
    2445 027616 004767  030236'         	CALL DRTEXT
    2446 027622 004767  030214'         	CALL KEYRST
    2447 027626 004767  030476'         MNULP2:	CALL PRNUM
    2448 027632 004767  030544'         	CALL PRPAL
    2449 027636 004767  030406'         MNULP:	CALL DRMENU
    2450 027642 004767  011220'         	CALL FRN
    2451 027646 016701  027530'         	MOV MNUITM,R1
    2452 027652 005767  035432'         	TST KeyUp
    2453 027656 001411                  	BEQ 1$
    2454 027660 005067  035432'         	CLR KeyUp
    2455 027664 020127  000005          	CMP R1,#5
    2456 027670 001762                  	BEQ MNULP
    2457 027672 005201                  	INC R1
    2458 027674 010167  027530'         	MOV R1,MNUITM
    2459 027700 000756                  	BR MNULP
    2460 027702 005767  035430'         1$:	TST KeyDown
    2461 027706 001411                  	BEQ 2$
    2462 027710 005067  035430'         	CLR KeyDown
    2463 027714 020127  000001          	CMP R1,#1
    2464 027720 001746                  	BEQ MNULP
    2465 027722 005301                  	DEC R1
    2466 027724 010167  027530'         	MOV R1,MNUITM
    2467 027730 000742                  	BR MNULP
    2468 027732 005767  035420'         2$:	TST KeyEnter
    2469 027736 001737                  	BEQ MNULP
    2470 027740 005067  035420'         	CLR KeyEnter
    2471 027744 005301                  	DEC R1
    2472 027746 001447                  	BEQ 5$
    2473 027750 005301                  	DEC R1
    2474 027752 001500                  	BEQ 6$
    2475 027754 005301                  	DEC R1
    2476 027756 001413                  	BEQ 3$
    2477 027760 005301                  	DEC R1
    2478 027762 001427                  	BEQ 4$
    2479 027764 004767  001320'         	CALL CLWHLE
    2480 027770 012700  000000          	MOV #V_SC0,R0
    2481 027774 004767  001246'         	CALL SCH2
    2482 030000 004767  002602'         	CALL GO
    2483 030004 000647                  	BR GOTIT
    2484 030006 012705  030756          3$:	MOV #TX2,R5
    2485 030012 004767  030264'         	CALL DRINFO
    2486 030016 012705  031274          	MOV #TX3,R5
    2487 030022 004767  030264'         	CALL DRINFO
    2488 030026 012705  031604          	MOV #TX4,R5
    2489 030032 004767  030264'         	CALL DRINFO
    2490 030036 000167  027524'         	JMP GOTIT
    2491 030042 005267  004070'         4$:	INC AMAP
    2492 030046 026727  004070' 000005  	CMP AMAP,#5
    2493 030054 103664                  	BLO MNULP2
    2494 030056 005067  004070'         	CLR AMAP
    2495 030062 000167  027626'         	JMP MNULP2
    2496 030066 004767  001334'         5$:	CALL CLVRAM
    2497 030072 004767  007132'         	CALL CLMAPS
    2498 030076 012700  000006          	MOV #F_EXIT,R0
    2499 030102 004767  001246'         	CALL SCH2
    2500 030106 005737  035450          	TST @#PpuComm
    2501 030112 001375                  	BNE .-4
    2502 030114 016737  001060' 000100  	MOV OLDTMI,@#100
    2503 030122 016737  001066' 000102  	MOV OLDTMM,@#102
    2504 030130 004767  035666'         	CALL PPFREE
    2505 030134 105737  177564          	TSTB @#177564
    2506 030140 100375                  	BPL .-4
    2507 030142 012737  000014  177566  	MOV #14,@#177566
    2508 030150 104350                  	EMT 350
    2509 030152 000000                  	HALT
    2510 030154 005267  035454'         6$:	INC APAL
    2511 030160 026727  035454' 000004  	CMP APAL,#4
    2512 030166 103617                  	BLO MNULP2
    2513 030170 005067  035454'         	CLR APAL
    2514 030174 000167  027626'         	JMP MNULP2
    2515 030200 005067  035434'         ANYKEY:	CLR KeyAny
    2516 030204 016700  035434'         	MOV KeyAny,R0
    2517 030210 001775                  	BEQ .-4
    2518                                	RET
       1 030212 000207                  	RETURN
    2519 030214 005067  035434'         KEYRST:	CLR KeyAny
    2520 030220 005067  035420'         	CLR KeyEnter
    2521 030224 005067  035432'         	CLR KeyUp
    2522 030230 005067  035430'         	CLR KeyDown
    2523                                	RET
       1 030234 000207                  	RETURN
    2524 030236 010500                  DRTEXT:	MOV R5,R0
    2525 030240 004767  032714'         	CALL TXPS
    2526 030244 022525                  	CMP (R5)+,(R5)+
    2527 030246 010501                  	MOV R5,R1
    2528 030250 005721                  	TST (R1)+
    2529 030252 012505                  	MOV (R5)+,R5
    2530 030254 004767  032562'         1$:	CALL TXST
    2531 030260 077503                  	SOB R5,1$
    2532                                	RET
       1 030262 000207                  	RETURN
    2533 030264 004767  001334'         DRINFO:	CALL CLVRAM
    2534 030270 004767  030236'         	CALL DRTEXT
    2535 030274 004767  030200'         	CALL ANYKEY
    2536                                	RET
       1 030300 000207                  	RETURN
    2537 030302 012700  030654          INVSTR:	MOV #TX1,R0
    2538 030306 004767  032714'         	CALL TXPS
    2539 030312 162700  000002          	SUB #2,R0
    2540 030316 006305                  	ASL R5
    2541 030320 066500  030372          	ADD MNUADR-2(R5),R0
    2542 030324 010037  176640          	MOV R0,@#176640
    2543 030330 012704  000014          	MOV #14,R4
    2544 030334 012703  000022          2$:	MOV #22,R3
    2545 030340 005137  176642          1$:	COM @#176642
    2546 030344 005237  176640          	INC @#176640
    2547 030350 005137  176642          	COM @#176642
    2548 030354 005237  176640          	INC @#176640
    2549 030360 077311                  	SOB R3,1$
    2550 030362 062737  000054  176640  	ADD #C_SCRWIH-44,@#176640
    2551 030370 077417                  	SOB R4,2$
    2552                                	RET
       1 030372 000207                  	RETURN
    2553 030374 015460  012120  006560  MNUADR:	.WORD 7040.-80.,5280.-80.,3520.-80.,1760.-80.,-80.
         030402 003220  177660          
    2554 030406 026767  027536' 027530' DRMENU:	CMP OLDITM,MNUITM
    2555 030414 001411                  	BEQ 1$
    2556 030416 016705  027536'         	MOV OLDITM,R5
    2557 030422 100402                  	BMI 2$
    2558 030424 004767  030302'         	CALL INVSTR
    2559 030430 016705  027530'         2$:	MOV MNUITM,R5
    2560 030434 004767  030302'         	CALL INVSTR
    2561 030440 016767  027530' 027536' 1$:	MOV MNUITM,OLDITM
    2562                                	RET
       1 030446 000207                  	RETURN
    2563 030450 016705  027530'         BEFUPD:	MOV MNUITM,R5
    2564 030454 020527  000004          	CMP R5,#4
    2565 030460 001403                  	BEQ 1$
    2566 030462 020527  000002          	CMP R5,#2
    2567 030466 001002                  	BNE 2$
    2568 030470 004767  030302'         1$:	CALL INVSTR
    2569                                2$:	RET
       1 030474 000207                  	RETURN
    2570 030476 004767  030450'         PRNUM:	CALL BEFUPD
    2571 030502 012700  032022          	MOV #STRNP,R0
    2572 030506 004767  032714'         	CALL TXPS
    2573 030512 016701  004070'         	MOV AMAP,R1
    2574 030516 062701  000061          	ADD #61,R1
    2575 030522 110167  032026'         	MOVB R1,STRN
    2576 030526 012701  032026          	MOV #STRN,R1
    2577 030532 004767  032562'         	CALL TXST
    2578 030536 004767  030450'         	CALL BEFUPD
    2579                                	RET
       1 030542 000207                  	RETURN
    2580 030544 004767  030450'         PRPAL:	CALL BEFUPD
    2581 030550 012700  032030          	MOV #STRPL,R0
    2582 030554 004767  032714'         	CALL TXPS
    2583 030560 016701  035454'         	MOV APAL,R1
    2584 030564 006301                  	ASL R1
    2585 030566 016101  030622          	MOV STRPLO(R1),R1
    2586 030572 004767  032562'         	CALL TXST
    2587 030576 004767  030450'         	CALL BEFUPD
    2588 030602 012700  000014          	MOV #12.,R0
    2589 030606 004767  001246'         	CALL SCH2
    2590 030612 005737  035450          	TST @#PpuComm
    2591 030616 001375                  	BNE .-4
    2592                                	RET
       1 030620 000207                  	RETURN
    2593 030622 032034  032040  032044  STRPLO:	.WORD STRPP1,STRPP2,STRPP3,STRPP4
         030630 032050                  
    2594 030632 012700  032054          PRVER:	MOV #STRVP,R0
    2595 030636 004767  032714'         	CALL TXPS
    2596 030642 012701  032060          	MOV #STRV,R1
    2597 030646 004767  032562'         	CALL TXST
    2598                                	RET
       1 030652 000207                  	RETURN
    2599 030654 000010  000012  000005  TX1:	.WORD 8.,10.,5.
    2600 030662    123     124     101  	.ASCII"START GAME"<12><12><0>
         030665    122     124     040  
         030670    107     101     115  
         030673    105     012     012  
         030676    000                  
    2601 030677    123     105     114  	.ASCII"SELECTED ARENA"<12><12><0>
         030702    105     103     124  
         030705    105     104     040  
         030710    101     122     105  
         030713    116     101     012  
         030716    012     000          
    2602 030720    111     116     106  	.ASCII"INFORMATION"<12><12><0>
         030723    117     122     115  
         030726    101     124     111  
         030731    117     116     012  
         030734    012     000          
    2603 030736    120     101     114  	.ASCII"PALETTE"<12><12><0>
         030741    105     124     124  
         030744    105     012     012  
         030747    000                  
    2604 030750    105     130     111  	.ASCII"EXIT"<0>
         030753    124     000          
    2605 030755    000                  	.EVEN
    2606 030756 000004  000003  000011  TX2:	.WORD 4.,3.,9.
    2607 030764    237     114     105  	.ASCII<237>"LEGEND"<237><12><12><0>
         030767    107     105     116  
         030772    104     237     012  
         030775    012     000          
    2608 030777    115     117     116  	.ASCII"MONSTERS FROM THE PAST"<12><0>
         031002    123     124     105  
         031005    122     123     040  
         031010    106     122     117  
         031013    115     040     124  
         031016    110     105     040  
         031021    120     101     123  
         031024    124     012     000  
    2609 031027    106     117     125  	.ASCII"FOUND MAGIC PORTAL ON"<12><0>
         031032    116     104     040  
         031035    115     101     107  
         031040    111     103     040  
         031043    120     117     122  
         031046    124     101     114  
         031051    040     117     116  
         031054    012     000          
    2610 031056    125     113     116  	.ASCII"UKNC SCHOOL COMPUTERS!"<12><12><0>
         031061    103     040     123  
         031064    103     110     117  
         031067    117     114     040  
         031072    103     117     115  
         031075    120     125     124  
         031100    105     122     123  
         031103    041     012     012  
         031106    000                  
    2611 031107    131     117     125  	.ASCII"YOU ARE OUR LAST HOPE!"<12><12><0>
         031112    040     101     122  
         031115    105     040     117  
         031120    125     122     040  
         031123    114     101     123  
         031126    124     040     110  
         031131    117     120     105  
         031134    041     012     012  
         031137    000                  
    2612 031140    106     111     107  	.ASCII"FIGHT THIS EVIL AND MAY"<12><0>
         031143    110     124     040  
         031146    124     110     111  
         031151    123     040     105  
         031154    126     111     114  
         031157    040     101     116  
         031162    104     040     115  
         031165    101     131     012  
         031170    000                  
    2613 031171    124     110     105  	.ASCII"THE FORCE BE WITH YOU!"<12><12><0>
         031174    040     106     117  
         031177    122     103     105  
         031202    040     102     105  
         031205    040     127     111  
         031210    124     110     040  
         031213    131     117     125  
         031216    041     012     012  
         031221    000                  
    2614 031222    131     117     125  	.ASCII"YOUR TASK IS TO SCORE"<12><0>
         031225    122     040     124  
         031230    101     123     113  
         031233    040     111     123  
         031236    040     124     117  
         031241    040     123     103  
         031244    117     122     105  
         031247    012     000          
    2615 031251    062     065     040  	.ASCII"25 POINTS TO WIN!"<0>
         031254    120     117     111  
         031257    116     124     123  
         031262    040     124     117  
         031265    040     127     111  
         031270    116     041     000  
    2616 031273    000                  	.EVEN
    2617 031274 000004  000002  000013  TX3:	.WORD 4.,2.,11.
    2618 031302    237     103     117  	.ASCII<237>"CONTROLS"<237><12><12><0>
         031305    116     124     122  
         031310    117     114     123  
         031313    237     012     012  
         031316    000                  
    2619 031317    123     120     101  	.ASCII"SPACE - FIRE"<12><0>
         031322    103     105     040  
         031325    055     040     106  
         031330    111     122     105  
         031333    012     000          
    2620 031335    101     122     122  	.ASCII"ARROWS - TURN LEFT, RIGHT"<12><0>
         031340    117     127     123  
         031343    040     055     040  
         031346    124     125     122  
         031351    116     040     114  
         031354    105     106     124  
         031357    054     040     122  
         031362    111     107     110  
         031365    124     012     000  
    2621 031370    101     122     122  	.ASCII"ARROWS, C, Y - MOVE"<12><0>
         031373    117     127     123  
         031376    054     040     103  
         031401    054     040     131  
         031404    040     055     040  
         031407    115     117     126  
         031412    105     012     000  
    2622 031415    123     110     111  	.ASCII"SHIFT, F, W - SLIDE"<12><12><0>
         031420    106     124     054  
         031423    040     106     054  
         031426    040     127     040  
         031431    055     040     123  
         031434    114     111     104  
         031437    105     012     012  
         031442    000                  
    2623 031443    105     116     124  	.ASCII"ENTER - RESTART"<12><12><0>
         031446    105     122     040  
         031451    055     040     122  
         031454    105     123     124  
         031457    101     122     124  
         031462    012     012     000  
    2624 031465    113     061     040  	.ASCII"K1 - MAP"<12><0>
         031470    055     040     115  
         031473    101     120     012  
         031476    000                  
    2625 031477    113     062     040  	.ASCII"K2 - PAUSE"<12><0>
         031502    055     040     120  
         031505    101     125     123  
         031510    105     012     000  
    2626 031513    113     063     054  	.ASCII"K3, J - TURN AROUND"<12><0>
         031516    040     112     040  
         031521    055     040     124  
         031524    125     122     116  
         031527    040     101     122  
         031532    117     125     116  
         031535    104     012     000  
    2627 031540    113     065     040  	.ASCII"K5 - EXIT"<12><12><0>
         031543    055     040     105  
         031546    130     111     124  
         031551    012     012     000  
    2628 031554    101     114     123  	.ASCII"ALSO YOU CAN USE MOUSE"<12><0>
         031557    117     040     131  
         031562    117     125     040  
         031565    103     101     116  
         031570    040     125     123  
         031573    105     040     115  
         031576    117     125     123  
         031601    105     012     000  
    2629                                	.EVEN
    2630 031604 000004  000003  000011  TX4:	.WORD 4.,3.,9.
    2631 031612    237     124     105  	.ASCII<237>"TEAM"<237><12><12><0>
         031615    101     115     237  
         031620    012     012     000  
    2632 031623    107     101     115  	.ASCII"GAME:"<12><0>
         031626    105     072     012  
         031631    000                  
    2633 031632    101     120     122  	.ASCII"APRAKSIN DMITRY (ADW2RU)"<12><12><0>
         031635    101     113     123  
         031640    111     116     040  
         031643    104     115     111  
         031646    124     122     131  
         031651    040     050     101  
         031654    104     127     062  
         031657    122     125     051  
         031662    012     012     000  
    2634 031665    124     111     124  	.ASCII"TITLE:"<12><0>
         031670    114     105     072  
         031673    012     000          
    2635 031675    114     101     123  	.ASCII"LASHIN URY (iNoArt Studio)"<12><12><0>
         031700    110     111     116  
         031703    040     125     122  
         031706    131     040     050  
         031711    151     116     157  
         031714    101     162     164  
         031717    040     123     164  
         031722    165     144     151  
         031725    157     051     012  
         031730    012     000          
    2636 031732    103     117     115  	.ASCII"COMMUNITY:"<12><0>
         031735    115     125     116  
         031740    111     124     131  
         031743    072     012     000  
    2637 031746    164     056     155  	.ASCII"t.me"<57>"MC0511UKNC"<12><0>
         031751    145     057     115  
         031754    103     060     065  
         031757    061     061     125  
         031762    113     116     103  
         031765    012     000          
    2638 031767    164     056     155  	.ASCII"t.me"<57>"bk0010_11m"<12><12><0>
         031772    145     057     142  
         031775    153     060     060  
         032000    061     060     137  
         032003    061     061     155  
         032006    012     012     000  
    2639 032011    062     066     056  	.ASCII"26.01.26"<0>
         032014    060     061     056  
         032017    062     066     000  
    2640                                	.EVEN
    2641 032022 000027  000014          STRNP:	.WORD 23.,12.
    2642 032026    000     000          STRN:	.ASCII<0><0>
    2643                                	.EVEN
    2644 032030 000020  000020          STRPL:	.WORD 16.,16.
    2645 032034    107     122     102  STRPP1:	.ASCII"GRB"<0>
         032037    000                  
    2646 032040    122     107     102  STRPP2:	.ASCII"RGB"<0>
         032043    000                  
    2647 032044    102     127     061  STRPP3:	.ASCII"BW1"<0>
         032047    000                  
    2648 032050    102     127     062  STRPP4:	.ASCII"BW2"<0>
         032053    000                  
    2649                                	.EVEN
    2650 032054 000023  000024          STRVP:	.WORD 19.,20.
    2651 032060    223     060     056  STRV:	.ASCII<223>"0.9 BETA UKNC"<221><0>
         032063    071     040     102  
         032066    105     124     101  
         032071    040     125     113  
         032074    116     103     221  
         032077    000                  
    2652                                	.EVEN
    2653 032100 012704  177777          UNPK:	MOV #-1,R4
    2654 032104 074202                  	XOR R2,R2
    2655 032106 000401                  	BR DCL
    2656                                
    2657 032110 112021                  NXDC:	MOVB (R0)+,(R1)+
    2658 032112 004767  032156'         DCL:	CALL RB
    2659 032116 103774                  	BCS NXDC
    2660                                
    2661 032120 012703  000001          	MOV #1,R3
    2662 032124 060303                  OFN:	ADD R3,R3
    2663 032126 004767  032156'         	CALL RB
    2664 032132 005503                  	ADC R3
    2665 032134 004767  032156'         	CALL RB
    2666 032140 103421                  	BCS OFE
    2667 032142 005303                  	DEC R3
    2668 032144 060303                  	ADD R3,R3
    2669 032146 004767  032156'         	CALL RB
    2670 032152 005503                  	ADC R3
    2671 032154 000763                  	BR OFN
    2672                                
    2673 032156 060202                  RB:	ADD R2,R2
    2674 032160 001401                  	BEQ RBZ
    2675                                	RET
       1 032162 000207                  	RETURN
    2676 032164 112002                  RBZ:	MOVB (R0)+,R2
    2677 032166 000302                  	SWAB R2
    2678 032170 042702  000177          	BIC #177,R2
    2679 032174 052702  000200          	BIS #200,R2
    2680 032200 060202                  	ADD R2,R2
    2681                                	RET
       1 032202 000207                  	RETURN
    2682                                
    2683 032204 162703  000003          OFE:	SUB #3,R3
    2684 032210 103006                  	BCC OF2
    2685                                
    2686 032212 010403                  	MOV R4,R3
    2687 032214 074505                  	XOR R5,R5
    2688 032216 004767  032156'         	CALL RB
    2689 032222 005505                  	ADC R5
    2690 032224 000414                  	BR OF3
    2691                                
    2692 032226 000303                  OF2:	SWAB R3
    2693 032230 112005                  	MOVB (R0)+,R5
    2694 032232 042705  177400          	BIC #177400,R5
    2695 032236 050503                  	BIS R5,R3
    2696 032240 005103                  	COM R3
    2697 032242 001434                  	BEQ BRK
    2698 032244 074505                  	XOR R5,R5
    2699 032246 000261                  	SEC
    2700 032250 006003                  	ROR R3
    2701 032252 005505                  	ADC R5
    2702 032254 010304                  	MOV R3,R4
    2703                                
    2704 032256 060505                  OF3:	ADD R5,R5
    2705 032260 004767  032156'         	CALL RB
    2706 032264 005505                  	ADC R5
    2707 032266 001012                  	BNE LF1
    2708                                
    2709 032270 005205                  	INC R5
    2710 032272 060505                  NXLF:	ADD R5,R5
    2711 032274 004767  032156'         	CALL RB
    2712 032300 005505                  	ADC R5
    2713 032302 004767  032156'         	CALL RB
    2714 032306 103371                  	BCC NXLF
    2715 032310 062705  000002          	ADD #2,R5
    2716                                
    2717 032314 020327  175400          LF1:	CMP R3,#175400
    2718 032320 005505                  	ADC R5
    2719 032322 005205                  	INC R5
    2720                                
    2721 032324 060103                  	ADD R1,R3
    2722 032326 112321                  NXMV:	MOVB (R3)+,(R1)+
    2723 032330 077502                  	SOB R5,NXMV
    2724 032332 000667                  	BR DCL
    2725                                
    2726                                BRK:	RET
       1 032334 000207                  	RETURN
    2727 032336 012700  040000          CONVSC:	MOV #40000,R0
    2728 032342 012701  100010          	MOV #C_TADDR,R1
    2729                                
    2730 032346 012746  000226          	MOV #150.,-(SP)
    2731                                
    2732 032352 012702  000100          2$:	MOV #100,R2
    2733                                
    2734 032356 112003                  1$:	MOVB (R0)+,R3
    2735                                
    2736 032360 005004                  	CLR R4
    2737 032362 005005                  	CLR R5
    2738                                
    2739 032364 006203                  	ASR R3
    2740 032366 006005                  	ROR R5
    2741 032370 006005                  	ROR R5
    2742                                
    2743 032372 006203                  	ASR R3
    2744 032374 006004                  	ROR R4
    2745 032376 006004                  	ROR R4
    2746                                
    2747 032400 006203                  	ASR R3
    2748 032402 006005                  	ROR R5
    2749 032404 006005                  	ROR R5
    2750                                
    2751 032406 006203                  	ASR R3
    2752 032410 006004                  	ROR R4
    2753 032412 006004                  	ROR R4
    2754                                
    2755 032414 006203                  	ASR R3
    2756 032416 006005                  	ROR R5
    2757 032420 006005                  	ROR R5
    2758                                
    2759 032422 006203                  	ASR R3
    2760 032424 006004                  	ROR R4
    2761 032426 006004                  	ROR R4
    2762                                
    2763 032430 006203                  	ASR R3
    2764 032432 006005                  	ROR R5
    2765 032434 006005                  	ROR R5
    2766                                
    2767 032436 006203                  	ASR R3
    2768 032440 006004                  	ROR R4
    2769 032442 006004                  	ROR R4
    2770                                
    2771 032444 000305                  	SWAB R5
    2772 032446 050405                  	BIS R4,R5
    2773                                
    2774 032450 010504                  	MOV R5,R4
    2775 032452 006304                  	ASL R4
    2776 032454 050405                  	BIS R4,R5
    2777                                
    2778 032456 010137  176640          	MOV R1,@#176640
    2779 032462 005201                  	INC R1
    2780 032464 010537  176642          	MOV R5,@#176642
    2781                                
    2782 032470 077246                  	SOB R2,1$
    2783                                
    2784 032472 062701  000020          	ADD #20,R1
    2785                                
    2786 032476 005316                  	DEC (SP)
    2787 032500 001324                  	BNE 2$
    2788 032502 005726                  	TST (SP)+
    2789                                
    2790                                	RET
       1 032504 000207                  	RETURN
    2791 032506 010067  035440'         TXCH:	MOV R0,PPUV1
    2792 032512 010267  035442'         	MOV R2,PPUV2
    2793 032516 016767  032556' 035444' 	MOV CHMSK,PPUV3
    2794 032524 016767  032560' 035446' 	MOV CHUND,PPUV4
    2795 032532 012700  000007          	MOV #F_PCHR,R0
    2796 032536 004767  001246'         	CALL SCH2
    2797 032542 005737  035450          	TST @#PpuComm
    2798 032546 001375                  	BNE .-4
    2799 032550 016700  035440'         	MOV PPUV1,R0
    2800                                	RET
       1 032554 000207                  	RETURN
    2801 032556 000000                  CHMSK:	.WORD 0
    2802 032560 000000                  CHUND:	.WORD 0
    2803 032562 010003                  TXST:	MOV R0,R3
    2804 032564 005002                  1$:	CLR R2
    2805 032566 152102                  	BISB (R1)+,R2
    2806 032570 001426                  	BEQ 2$
    2807 032572 120227  000012          	CMPB R2,#12
    2808 032576 001424                  	BEQ 3$
    2809 032600 120227  000221          	CMPB R2,#221
    2810 032604 001425                  	BEQ 4$
    2811 032606 120227  000222          	CMPB R2,#222
    2812 032612 001425                  	BEQ 5$
    2813 032614 120227  000223          	CMPB R2,#223
    2814 032620 001426                  	BEQ 6$
    2815 032622 120227  000237          	CMPB R2,#237
    2816 032626 001427                  	BEQ 7$
    2817 032630 105702                  	TSTB R2
    2818 032632 100002                  	BPL 8$
    2819 032634 162702  000040          	SUB #32.,R2
    2820 032640 004767  032506'         8$:	CALL TXCH
    2821 032644 000747                  	BR 1$
    2822                                2$:	RET
       1 032646 000207                  	RETURN
    2823 032650 062703  001560          3$:	ADD #880.,R3
    2824 032654 010300                  	MOV R3,R0
    2825 032656 000742                  	BR 1$
    2826 032660 005067  032556'         4$:	CLR CHMSK
    2827 032664 000737                  	BR 1$
    2828 032666 012767  000377  032556' 5$:	MOV #^B0000000011111111,CHMSK
    2829 032674 000733                  	BR 1$
    2830 032676 012767  177400  032556' 6$:	MOV #^B1111111100000000,CHMSK
    2831 032704 000727                  	BR 1$
    2832 032706 005167  032560'         7$:	COM CHUND
    2833 032712 000724                  	BR 1$
    2834 032714 012046                  TXPS:	MOV (R0)+,-(SP)
    2835 032716 006316                  	ASL (SP)
    2836 032720 012000                  	MOV (R0)+,R0
    2837 032722 010046                  	MOV R0,-(SP)
    2838 032724 006300                  	ASL R0
    2839 032726 010046                  	MOV R0,-(SP)
    2840 032730 006300                  	ASL R0
    2841 032732 006300                  	ASL R0
    2842 032734 062600                  	ADD (SP)+,R0
    2843 032736 062600                  	ADD (SP)+,R0
    2844 032740 006300                  	ASL R0
    2845 032742 006300                  	ASL R0
    2846 032744 006300                  	ASL R0
    2847 032746 006300                  	ASL R0
    2848 032750 010046                  	MOV R0,-(SP)
    2849 032752 006300                  	ASL R0
    2850 032754 006300                  	ASL R0
    2851 032756 062600                  	ADD (SP)+,R0
    2852 032760 062600                  	ADD (SP)+,R0
    2853 032762 062700  102410          	ADD #C_TADDR+2400,R0
    2854                                	RET
       1 032766 000207                  	RETURN
    2855                                
    2856 032770    220     000     053  TITDAT:	.BYTE 220,0,53,366,240,252,252,2
         032773    366     240     252  
         032776    252     002          
    2857 033000    103     213     262  	.BYTE 103,213,262,252,1,326,110,200
         033003    252     001     326  
         033006    110     200          
    2858 033010    015     357     250  	.BYTE 15,357,250,13,52,157,63,20
         033013    013     052     157  
         033016    063     020          
    2859 033020    220     177     025  	.BYTE 220,177,25,372,377,377,253,264
         033023    372     377     377  
         033026    253     264          
    2860 033030    000     001     103  	.BYTE 0,1,103,25,310,100,377,332
         033033    025     310     100  
         033036    377     332          
    2861 033040    005     177     041  	.BYTE 5,177,41,220,6,140,127,200
         033043    220     006     140  
         033046    127     200          
    2862 033050    177     034     252  	.BYTE 177,34,252,2,206,326,12,12
         033053    002     206     326  
         033056    012     012          
    2863 033060    061     173     200  	.BYTE 61,173,200,137,101,177,173,137
         033063    137     101     177  
         033066    173     137          
    2864 033070    001     375     101  	.BYTE 1,375,101,76,200,377,101,365
         033073    076     200     377  
         033076    101     365          
    2865 033100    012     201     203  	.BYTE 12,201,203,174,177,1,364,234
         033103    174     177     001  
         033106    364     234          
    2866 033110    027     020     177  	.BYTE 27,20,177,3,12,40,202,213
         033113    003     012     040  
         033116    202     213          
    2867 033120    026     177     162  	.BYTE 26,177,162,7,366,166,37,377
         033123    007     366     166  
         033126    037     377          
    2868 033130    210     160     007  	.BYTE 210,160,7,375,302,1,321,177
         033133    375     302     001  
         033136    321     177          
    2869 033140    114     365     216  	.BYTE 114,365,216,177,1,12,177,256
         033143    177     001     012  
         033146    177     256          
    2870 033150    052     010     163  	.BYTE 52,10,163,154,240,12,303,63
         033153    154     240     012  
         033156    303     063          
    2871 033160    376     355     007  	.BYTE 376,355,7,365,375,177,126,305
         033163    365     375     177  
         033166    126     305          
    2872 033170    001     176     350  	.BYTE 1,176,350,7,164,375,52,1
         033173    007     164     375  
         033176    052     001          
    2873 033200    203     375     340  	.BYTE 203,375,340,27,366,177,77,300
         033203    027     366     177  
         033206    077     300          
    2874 033210    250     177     301  	.BYTE 250,177,301,177,14,252,202,70
         033213    177     014     252  
         033216    202     070          
    2875 033220    175     101     210  	.BYTE 175,101,210,377,340,37,125,327
         033223    377     340     037  
         033226    125     327          
    2876 033230    017     000     374  	.BYTE 17,0,374,153,176,25,365,24
         033233    153     176     025  
         033236    365     024          
    2877 033240    167     250     147  	.BYTE 167,250,147,25,240,37,336,140
         033243    025     240     037  
         033246    336     140          
    2878 033250    365     177     360  	.BYTE 365,177,360,72,1,214,60,365
         033253    072     001     214  
         033256    060     365          
    2879 033260    034     376     133  	.BYTE 34,376,133,150,177,315,200,300
         033263    150     177     315  
         033266    200     300          
    2880 033270    115     003     102  	.BYTE 115,3,102,10,177,260,134,211
         033273    010     177     260  
         033276    134     211          
    2881 033300    350     022     351  	.BYTE 350,22,351,322,176,375,143,212
         033303    322     176     375  
         033306    143     212          
    2882 033310    001     066     374  	.BYTE 1,66,374,34,352,236,201,140
         033313    034     352     236  
         033316    201     140          
    2883 033320    322     176     000  	.BYTE 322,176,0,25,171,200,377,76
         033323    025     171     200  
         033326    377     076          
    2884 033330    177     132     365  	.BYTE 177,132,365,101,202,1,177,211
         033333    101     202     001  
         033336    177     211          
    2885 033340    311     012     200  	.BYTE 311,12,200,61,240,364,222,340
         033343    061     240     364  
         033346    222     340          
    2886 033350    133     153     177  	.BYTE 133,153,177,346,125,325,216,374
         033353    346     125     325  
         033356    216     374          
    2887 033360    201     052     143  	.BYTE 201,52,143,370,277,153,201,367
         033363    370     277     153  
         033366    201     367          
    2888 033370    325     137     152  	.BYTE 325,137,152,177,47,377,367,311
         033373    177     047     377  
         033376    367     311          
    2889 033400    377     015     122  	.BYTE 377,15,122,16,176,240,212,377
         033403    016     176     240  
         033406    212     377          
    2890 033410    143     250     355  	.BYTE 143,250,355,174,376,177,155,377
         033413    174     376     177  
         033416    155     377          
    2891 033420    004     273     176  	.BYTE 4,273,176,165,355,377,207,177
         033423    165     355     377  
         033426    207     177          
    2892 033430    315     340     005  	.BYTE 315,340,5,41,127,177,64,377
         033433    041     127     177  
         033436    064     377          
    2893 033440    203     377     044  	.BYTE 203,377,44,10,65,176,323,363
         033443    010     065     176  
         033446    323     363          
    2894 033450    242     124     173  	.BYTE 242,124,173,276,176,137,377,100
         033453    276     176     137  
         033456    377     100          
    2895 033460    205     210     377  	.BYTE 205,210,377,166,137,335,177,212
         033463    166     137     335  
         033466    177     212          
    2896 033470    361     372     017  	.BYTE 361,372,17,170,3,177,325,42
         033473    170     003     177  
         033476    325     042          
    2897 033500    177     047     052  	.BYTE 177,47,52,0,40,73,370,3
         033503    000     040     073  
         033506    370     003          
    2898 033510    147     217     167  	.BYTE 147,217,167,264,137,377,123,370
         033513    264     137     377  
         033516    123     370          
    2899 033520    104     202     216  	.BYTE 104,202,216,367,325,303,177,200
         033523    367     325     303  
         033526    177     200          
    2900 033530    134     001     124  	.BYTE 134,1,124,331,40,146,123,366
         033533    331     040     146  
         033536    123     366          
    2901 033540    177     003     027  	.BYTE 177,3,27,15,377,122,5,377
         033543    015     377     122  
         033546    005     377          
    2902 033550    060     202     050  	.BYTE 60,202,50,373,165,376,27,154
         033553    373     165     376  
         033556    027     154          
    2903 033560    167     177     005  	.BYTE 167,177,5,212,5,41,151,176
         033563    212     005     041  
         033566    151     176          
    2904 033570    201     050     074  	.BYTE 201,50,74,25,140,201,10,41
         033573    025     140     201  
         033576    010     041          
    2905 033600    177     242     252  	.BYTE 177,242,252,377,5,275,0,176
         033603    377     005     275  
         033606    000     176          
    2906 033610    125     140     377  	.BYTE 125,140,377,250,377,77,176,137
         033613    250     377     077  
         033616    176     137          
    2907 033620    130     177     265  	.BYTE 130,177,265,200,177,3,336,310
         033623    200     177     003  
         033626    336     310          
    2908 033630    177     324     034  	.BYTE 177,324,34,7,25,177,134,2
         033633    007     025     177  
         033636    134     002          
    2909 033640    206     041     372  	.BYTE 206,41,372,373,376,37,374,37
         033643    373     376     037  
         033646    374     037          
    2910 033650    177     002     021  	.BYTE 177,2,21,1,24,176,376,7
         033653    001     024     176  
         033656    376     007          
    2911 033660    336     007     327  	.BYTE 336,7,327,177,177,220,0,251
         033663    177     177     220  
         033666    000     251          
    2912 033670    220     001     070  	.BYTE 220,1,70,37,25,377,23,12
         033673    037     025     377  
         033676    023     012          
    2913 033700    001     217     211  	.BYTE 1,217,211,2,240,34,201,141
         033703    002     240     034  
         033706    201     141          
    2914 033710    173     373     177  	.BYTE 173,373,177,134,17,46,171,52
         033713    134     017     046  
         033716    171     052          
    2915 033720    355     377     377  	.BYTE 355,377,377,173,375,7,177,25
         033723    173     375     007  
         033726    177     025          
    2916 033730    162     370     007  	.BYTE 162,370,7,1,202,50,177,241
         033733    001     202     050  
         033736    177     241          
    2917 033740    220     250     334  	.BYTE 220,250,334,10,163,200,37,256
         033743    010     163     200  
         033746    037     256          
    2918 033750    206     261     203  	.BYTE 206,261,203,177,360,135,200,26
         033753    177     360     135  
         033756    200     026          
    2919 033760    212     201     001  	.BYTE 212,201,1,261,17,177,360,15
         033763    261     017     177  
         033766    360     015          
    2920 033770    140     025     212  	.BYTE 140,25,212,201,1,261,137,177
         033773    201     001     261  
         033776    137     177          
    2921 034000    344     037     100  	.BYTE 344,37,100,201,34,177,160,12
         034003    201     034     177  
         034006    160     012          
    2922 034010    270     177     307  	.BYTE 270,177,307,201,342,350,127,25
         034013    201     342     350  
         034016    127     025          
    2923 034020    362     177     207  	.BYTE 362,177,207,177,337,37,303,6
         034023    177     337     037  
         034026    303     006          
    2924 034030    024     171     024  	.BYTE 24,171,24,73,127,126,176,311
         034033    073     127     126  
         034036    176     311          
    2925 034040    360     362     137  	.BYTE 360,362,137,17,126,24,170,5
         034043    017     126     024  
         034046    170     005          
    2926 034050    126     073     200  	.BYTE 126,73,200,363,177,176,177,5
         034053    363     177     176  
         034056    177     005          
    2927 034060    036     004     010  	.BYTE 36,4,10,177,51,25,22,252
         034063    177     051     025  
         034066    022     252          
    2928 034070    174     177     001  	.BYTE 174,177,1,330,201,375,1,76
         034073    330     201     375  
         034076    001     076          
    2929 034100    005     020     021  	.BYTE 5,20,21,266,1,377,2,355
         034103    266     001     377  
         034106    002     355          
    2930 034110    170     177     301  	.BYTE 170,177,301,317,177,17,0,76
         034113    317     177     017  
         034116    000     076          
    2931 034120    005     041     027  	.BYTE 5,41,27,170,274,5,176,77
         034123    170     274     005  
         034126    176     077          
    2932 034130    234     340     240  	.BYTE 234,340,240,33,33,375,16,21
         034133    033     033     375  
         034136    016     021          
    2933 034140    001     252     177  	.BYTE 1,252,177,204,117,376,366,2
         034143    204     117     376  
         034146    366     002          
    2934 034150    370     247     326  	.BYTE 370,247,326,377,277,340,127,201
         034153    377     277     340  
         034156    127     201          
    2935 034160    375     041     103  	.BYTE 375,41,103,340,330,125,125,177
         034163    340     330     125  
         034166    125     177          
    2936 034170    036     125     151  	.BYTE 36,125,151,377,320,377,54,177
         034173    377     320     377  
         034176    054     177          
    2937 034200    023     375     236  	.BYTE 23,375,236,177,77,117,177,125
         034203    177     077     117  
         034206    177     125          
    2938 034210    303     177     001  	.BYTE 303,177,1,377,124,306,52,253
         034213    377     124     306  
         034216    052     253          
    2939 034220    377     336     012  	.BYTE 377,336,12,140,161,375,326,177
         034223    140     161     375  
         034226    326     177          
    2940 034230    216     017     175  	.BYTE 216,17,175,314,363,20,120,1
         034233    314     363     020  
         034236    120     001          
    2941 034240    123     300     332  	.BYTE 123,300,332,3,340,377,377,370
         034243    003     340     377  
         034246    377     370          
    2942 034250    337     377     167  	.BYTE 337,377,167,1,0,30,212,3
         034253    001     000     030  
         034256    212     003          
    2943 034260    266     177     364  	.BYTE 266,177,364,21,371,100,22,230
         034263    021     371     100  
         034266    022     230          
    2944 034270    361     020     150  	.BYTE 361,20,150,377,70,2,40,177
         034273    377     070     002  
         034276    040     177          
    2945 034300    152     052     205  	.BYTE 152,52,205,3,204,377,170,217
         034303    003     204     377  
         034306    170     217          
    2946 034310    334     001     125  	.BYTE 334,1,125,333,370,177,273,37
         034313    333     370     177  
         034316    273     037          
    2947 034320    345     223     340  	.BYTE 345,223,340,337,177,221,357,301
         034323    337     177     221  
         034326    357     301          
    2948 034330    377     130     334  	.BYTE 377,130,334,170,322,377,370,177
         034333    170     322     377  
         034336    370     177          
    2949 034340    077     134     015  	.BYTE 77,134,15,177,26,11,143,103
         034343    177     026     011  
         034346    143     103          
    2950 034350    246     177     252  	.BYTE 246,177,252,1,377,66,337,377
         034353    001     377     066  
         034356    337     377          
    2951 034360    355     221     220  	.BYTE 355,221,220,120,301,21,0,375
         034363    120     301     021  
         034366    000     375          
    2952 034370    021     216     005  	.BYTE 21,216,5,51,207,367,153,145
         034373    051     207     367  
         034376    153     145          
    2953 034400    377     172     226  	.BYTE 377,172,226,5,171,0,366,327
         034403    005     171     000  
         034406    366     327          
    2954 034410    337     337     176  	.BYTE 337,337,176,346,77,0,341,330
         034413    346     077     000  
         034416    341     330          
    2955 034420    023     001     375  	.BYTE 23,1,375,243,35,152,125,336
         034423    243     035     152  
         034426    125     336          
    2956 034430    365     077     364  	.BYTE 365,77,364,372,326,10,1,377
         034433    372     326     010  
         034436    001     377          
    2957 034440    200     173     177  	.BYTE 200,173,177,225,325,176,344,252
         034443    225     325     176  
         034446    344     252          
    2958 034450    377     020     305  	.BYTE 377,20,305,373,61,360,210,304
         034453    373     061     360  
         034456    210     304          
    2959 034460    030     317     056  	.BYTE 30,317,56,326,360,3,300,16
         034463    326     360     003  
         034466    300     016          
    2960 034470    137     074     307  	.BYTE 137,74,307,177,5,235,332,12
         034473    177     005     235  
         034476    332     012          
    2961 034500    377     251     332  	.BYTE 377,251,332,374,3,176,77,153
         034503    374     003     176  
         034506    077     153          
    2962 034510    077     023     373  	.BYTE 77,23,373,360,77,0,377,177
         034513    360     077     000  
         034516    377     177          
    2963 034520    032     373     207  	.BYTE 32,373,207,317,177,2,50,371
         034523    317     177     002  
         034526    050     371          
    2964 034530    257     374     017  	.BYTE 257,374,17,151,177,236,17,3
         034533    151     177     236  
         034536    017     003          
    2965 034540    010     377     132  	.BYTE 10,377,132,177,320,50,175,226
         034543    177     320     050  
         034546    175     226          
    2966 034550    177     154     377  	.BYTE 177,154,377,156,362,177,77,137
         034553    156     362     177  
         034556    077     137          
    2967 034560    170     125     011  	.BYTE 170,125,11,220,326,341,127,266
         034563    220     326     341  
         034566    127     266          
    2968 034570    373     177     043  	.BYTE 373,177,43,175,147,360,17,301
         034573    175     147     360  
         034576    017     301          
    2969 034600    177     171     337  	.BYTE 177,171,337,74,173,300,17,204
         034603    074     173     300  
         034606    017     204          
    2970 034610    000     337     331  	.BYTE 0,337,331,370,127,200,261,125
         034613    370     127     200  
         034616    261     125          
    2971 034620    177     332     025  	.BYTE 177,332,25,377,55,217,177,60
         034623    377     055     217  
         034626    177     060          
    2972 034630    360     220     377  	.BYTE 360,220,377,37,27,0,366,363
         034633    037     027     000  
         034636    366     363          
    2973 034640    004     375     061  	.BYTE 4,375,61,5,121,371,54,177
         034643    005     121     371  
         034646    054     177          
    2974 034650    171     063     000  	.BYTE 171,63,0,3,222,376,324,50
         034653    003     222     376  
         034656    324     050          
    2975 034660    377     260     155  	.BYTE 377,260,155,371,177,315,363,303
         034663    371     177     315  
         034666    363     303          
    2976 034670    064     077     046  	.BYTE 64,77,46,3,101,177,340,365
         034673    003     101     177  
         034676    340     365          
    2977 034700    360     214     375  	.BYTE 360,214,375,164,367,115,317,201
         034703    164     367     115  
         034706    317     201          
    2978 034710    177     362     317  	.BYTE 177,362,317,17,300,363,324,250
         034713    017     300     363  
         034716    324     250          
    2979 034720    367     357     353  	.BYTE 367,357,353,340,142,375,374,260
         034723    340     142     375  
         034726    374     260          
    2980 034730    175     232     371  	.BYTE 175,232,371,55,362,176,377,77
         034733    055     362     176  
         034736    377     077          
    2981 034740    162     377     072  	.BYTE 162,377,72,352,52,57,152,127
         034743    352     052     057  
         034746    152     127          
    2982 034750    121     377     124  	.BYTE 121,377,124,243,125,207,175,45
         034753    243     125     207  
         034756    175     045          
    2983 034760    125     005     024  	.BYTE 125,5,24,363,135,3,305,176
         034763    363     135     003  
         034766    305     176          
    2984 034770    206     267     177  	.BYTE 206,267,177,300,56,376,277,27
         034773    300     056     376  
         034776    277     027          
    2985 035000    175     366     177  	.BYTE 175,366,177,301,177,176,171,0
         035003    301     177     176  
         035006    171     000          
    2986 035010    000     042     336  	.BYTE 0,42,336,177,3,102,140,377
         035013    177     003     102  
         035016    140     377          
    2987 035020    022     367     370  	.BYTE 22,367,370,177,303,77,24,352
         035023    177     303     077  
         035026    024     352          
    2988 035030    341     175     024  	.BYTE 341,175,24,357,134,300,120,162
         035033    357     134     300  
         035036    120     162          
    2989 035040    045     177     245  	.BYTE 45,177,245,176,363,313,60,0
         035043    176     363     313  
         035046    060     000          
    2990 035050    377     043     017  	.BYTE 377,43,17,30,200,151,235,300
         035053    030     200     151  
         035056    235     300          
    2991 035060    377     240     376  	.BYTE 377,240,376,317,272,377,303,153
         035063    317     272     377  
         035066    303     153          
    2992 035070    206     377     177  	.BYTE 206,377,177,10,160,227,70,351
         035073    010     160     227  
         035076    070     351          
    2993 035100    355     021     177  	.BYTE 355,21,177,103,17,14,377,166
         035103    103     017     014  
         035106    377     166          
    2994 035110    003     177     144  	.BYTE 3,177,144,203,366,103,5,377
         035113    203     366     103  
         035116    005     377          
    2995 035120    010     333     177  	.BYTE 10,333,177,310,63,300,135,121
         035123    310     063     300  
         035126    135     121          
    2996 035130    200     373     076  	.BYTE 200,373,76,0,0,360,306,177
         035133    000     000     360  
         035136    306     177          
    2997 035140    015     213     323  	.BYTE 15,213,323,177,227,330,374,177
         035143    177     227     330  
         035146    374     177          
    2998 035150    365     177     121  	.BYTE 365,177,121,300,321,130,173,141
         035153    300     321     130  
         035156    173     141          
    2999 035160    360     177     007  	.BYTE 360,177,7,14,146,20,177,341
         035163    014     146     020  
         035166    177     341          
    3000 035170    020     020     337  	.BYTE 20,20,337,22,322,176,77,273
         035173    022     322     176  
         035176    077     273          
    3001 035200    151     177     063  	.BYTE 151,177,63,360,353,17,374,21
         035203    360     353     017  
         035206    374     021          
    3002 035210    351     003     374  	.BYTE 351,3,374,25,162,374,124,364
         035213    025     162     374  
         035216    124     364          
    3003 035220    056     013     374  	.BYTE 56,13,374,272,176,17,273,0
         035223    272     176     017  
         035226    273     000          
    3004 035230    077     120     130  	.BYTE 77,120,130,241,354,25,60,335
         035233    241     354     025  
         035236    060     335          
    3005 035240    027     377     143  	.BYTE 27,377,143,177,167,1,177,317
         035243    177     167     001  
         035246    177     317          
    3006 035250    300     317     100  	.BYTE 300,317,100,321,125,375,175,211
         035253    321     125     375  
         035256    175     211          
    3007 035260    301     345     013  	.BYTE 301,345,13,177,130,5,176,0
         035263    177     130     005  
         035266    176     000          
    3008 035270    147     177     000  	.BYTE 147,177,0,124,342,125,125,125
         035273    124     342     125  
         035276    125     125          
    3009 035300    060     335     103  	.BYTE 60,335,103,77,4,377,206,202
         035303    077     004     377  
         035306    206     202          
    3010 035310    160     157     157  	.BYTE 160,157,157,377,177,17,0,357
         035313    377     177     017  
         035316    000     357          
    3011 035320    236     000     175  	.BYTE 236,0,175,5,265,0,1,2
         035323    005     265     000  
         035326    001     002          
    3012 035330    041     331     020  	.BYTE 41,331,20,154,1,100,66,20
         035333    154     001     100  
         035336    066     020          
    3013 035340    373     213     011  	.BYTE 373,213,11,52,377
         035343    052     377          
    3014 035345    000                  	.EVEN
    3015                                
    3016 035346 000000                  KeyJ:		.WORD 0
    3017 035350 000000                  KeyC:		.WORD 0
    3018 035352 000000                  KeyF:		.WORD 0
    3019 035354 000000                  KeyY:		.WORD 0
    3020 035356 000000                  KeyW:		.WORD 0
    3021 035360 000000                  Key8:		.WORD 0
    3022 035362 000000                  Key7:		.WORD 0
    3023 035364 000000                  Key6:		.WORD 0
    3024 035366 000000                  Key5:		.WORD 0
    3025 035370 000000                  Key4:		.WORD 0
    3026 035372 000000                  Key3:		.WORD 0
    3027 035374 000000                  Key2:		.WORD 0
    3028 035376 000000                  Key1:		.WORD 0
    3029 035400 000000                  KeyK5:		.WORD 0
    3030 035402 000000                  KeyK4:		.WORD 0
    3031 035404 000000                  KeyK3:		.WORD 0
    3032 035406 000000                  KeyK2:		.WORD 0
    3033 035410 000000                  KeyK1:		.WORD 0
    3034 035412 000000                  KeyStop:	.WORD 0
    3035 035414 000000                  KeyUst:		.WORD 0
    3036 035416 000000                  KeyShift:	.WORD 0
    3037 035420 000000                  KeyEnter:	.WORD 0
    3038 035422 000000                  KeySpace:	.WORD 0
    3039 035424 000000                  KeyRight:	.WORD 0
    3040 035426 000000                  KeyLeft:	.WORD 0
    3041 035430 000000                  KeyDown:	.WORD 0
    3042 035432 000000                  KeyUp:		.WORD 0
    3043 035434 000000                  KeyAny:		.WORD 0
    3044 035436 000000                  KeyCurrent:	.WORD 0
    3045 035440 000000                  PPUV1:		.WORD 0
    3046 035442 000000                  PPUV2:		.WORD 0
    3047 035444 000000                  PPUV3:		.WORD 0
    3048 035446 000000                  PPUV4:		.WORD 0
    3049 035450 000000                  PpuComm:	.WORD 0
    3050 035452 000000                  MSST:		.WORD 0
    3051 035454 000000                  APAL:		.WORD 0
    3052                                
    3053 035456    077     040     165  NOMEM:	.ASCIZ"? unable to allocate memory in PPU"
         035461    156     141     142  
         035464    154     145     040  
         035467    164     157     040  
         035472    141     154     154  
         035475    157     143     141  
         035500    164     145     040  
         035503    155     145     155  
         035506    157     162     171  
         035511    040     151     156  
         035514    040     120     120  
         035517    125     000          
    3054 035521    000                  	.EVEN
    3055                                
    3056 035522 035526                  PPMSG:	.WORD PPARR
    3057 035524 000401                          .WORD 401
    3058                                
    3059 035526    000                  PPARR:	.BYTE 0
    3060 035527    000                  PPCMD:	.BYTE 0
    3061 035530 000032                  	.WORD 32
    3062 035532 000000                  PPAPP:	.WORD 0
    3063 035534 000000                  PPACP:	.WORD 0
    3064 035536 000000                  PPLEN:	.WORD 0
    3065                                
    3066 035540 012700  035522          PPSEN:	MOV #PPMSG,R0
    3067 035544 012701  000005          	MOV #5,R1
    3068 035550 000402                  	BR 1$
    3069 035552 112037  176676          2$:	MOVB (R0)+,@#176676
    3070 035556 105737  176674          1$:	TSTB @#176674
    3071 035562 100375                  	BPL 1$
    3072 035564 077106                  	SOB R1,2$
    3073 035566 000207                  	RETURN
    3074                                
    3075 035570 112767  000001  035527' PPRUN:	MOVB #1,PPCMD
    3076 035576 010567  035534'         	MOV R5,PPACP
    3077 035602 004767  035540'         	CALL PPSEN
    3078 035606 105767  035526'         	TSTB PPARR
    3079 035612 001406                  	BEQ 10$
    3080 035614 106427  000000          	MTPS #0
    3081 035620 012700  035456          	MOV #NOMEM,R0
    3082 035624 104351                  	EMT #351
    3083 035626 104350                  	EMT #350
    3084 035630 112767  000020  035527' 10$:	MOVB #20,PPCMD
    3085 035636 010567  035536'         	MOV R5,PPLEN
    3086 035642 010467  035534'         	MOV R4,PPACP
    3087 035646 004767  035540'         	CALL PPSEN
    3088 035652 112767  000030  035527' 	MOVB #30,PPCMD
    3089 035660 004767  035540'         	CALL PPSEN
    3090 035664 000207                  	RETURN
    3091                                
    3092 035666 112767  000002  035527' PPFREE:	MOVB #2,PPCMD
    3093 035674 012767  006462  035534' 	MOV #PPUEND-PPUBEG/2,PPACP	; BUG FIX
    3094 035702 004767  035540'         	CALL PPSEN
    3095 035706 000207                  	RETURN
    3096                                
    3097                                PPUBEG:
    3098                                
    3099 010000                         	VDTBSZ=4096.
    3100 035710 106427  000200          	MTPS #200
    3101 035714 004767  036776'         	CALL IVTS
    3102 035720 004767  036462'         	CALL SAVE
    3103 035724 010746                  	MOV PC,-(SP)
    3104 035726 062716  003432          	ADD #KINT-.,(SP)
    3105 035732 012637  000300          	MOV (SP)+,@#300
    3106 035736 052737  000100  177700  	BIS #100,@#177700
    3107 035744 012737  007774  007214  	MOV #7774,@#7214
    3108 035752 005067  036150'         	CLR NOMSE
    3109 035756 010746                  	MOV PC,-(SP)
    3110 035760 062716  000164          	ADD #I004-.,(SP)
    3111 035764 012637  000004          	MOV (SP)+,@#4
    3112 035770 013737  100601  177400  	MOV @#100601,@#177400
    3113 035776 012737  016625  177010  	MOV #MSST/2,@#177010
    3114 036004 005037  177014          	CLR @#177014
    3115 036010 012767  000401  041332' 	MOV #256.+1.,PMSST
    3116 036016 010746                  	MOV PC,-(SP)
    3117 036020 062716  002366          	ADD #CH2PLI-.,(SP)
    3118 036024 012637  000340          	MOV (SP)+,@#340
    3119 036030 012737  000200  000342  	MOV #200,@#342
    3120 036036 052737  000002  177066  	BIS #2,@#177066
    3121 036044 052737  001400  177054  	BIS #^B0000001100000000,@#177054
    3122 036052 042737  017600  177716  	BIC #^B0001111110000000,@#177716
    3123 036060 004767  041334'         	CALL TINIT
    3124 036064 010746                  	MOV PC,-(SP)
    3125 036066 062716  002756          	ADD #POP-.,(SP)
    3126 036072 012637  000304          	MOV (SP)+,@#304
    3127 036076 010746                  	MOV PC,-(SP)
    3128 036100 062716  002714          	ADD #POPT-.,(SP)
    3129 036104 012637  000100          	MOV (SP)+,@#100
    3130 036110 012767  000200  041102' 	MOV #128.,TON+2
    3131 036116 052737  000107  177710  	BIS #107,@#177710
    3132 036124 042737  000400  177054  	BIC #^B0000000100000000,@#177054
    3133 036132 004767  036222'         	CALL READY
    3134 036136 106427  000000          	MTPS #0
    3135 036142 000207                  	RETURN
    3136                                
    3137 036144 012727  000001          I004:	MOV #1,(PC)+
    3138 036150 000000                  NOMSE:	.WORD 0
    3139 036152 013746  177010          	MOV @#177010,-(SP)
    3140 036156 010046                  	MOV R0,-(SP)
    3141 036160 012700                  	MOV (PC)+,R0
    3142 036162 000000                  FLGC:	.WORD 0
    3143 036164 005267  036162'         	INC FLGC
    3144 036170 042767  177700  036162' 	BIC #177700,FLGC
    3145 036176 062700  051010          	ADD #51010,R0
    3146 036202 010037  177010          	MOV R0,@#177010
    3147 036206 005137  177014          	COM @#177014
    3148 036212 012600                  	MOV (SP)+,R0
    3149 036214 012637  177010          	MOV (SP)+,@#177010
    3150 036220 000002                  	RTI
    3151                                
    3152                                READY:
    3153 036222 013746  177010          	MOV @#177010,-(SP)
    3154 036226 012737  016624  177010  	MOV #PpuComm/2,@#177010
    3155 036234 005037  177014          	CLR @#177014
    3156 036240 012637  177010          	MOV (SP)+,@#177010
    3157                                	RET
       1 036244 000207                  	RETURN
    3158                                
    3159 036246 013746  177010          SAVEM:	MOV @#177010,-(SP)
    3160 036252 012700  020000          	MOV #40000/2,R0		; FROM
    3161 036256 012701  100000          	MOV #100000,R1
    3162 036262 012702  036120          	MOV #30880./2,R2	; HOW MANY
    3163 036266 010037  177010          1$:	MOV R0,@#177010
    3164 036272 005200                  	INC R0
    3165 036274 013703  177014          	MOV @#177014,R3
    3166 036300 010137  177010          	MOV R1,@#177010
    3167 036304 005201                  	INC R1
    3168 036306 010337  177012          	MOV R3,@#177012
    3169 036312 000303                  	SWAB R3
    3170 036314 010137  177010          	MOV R1,@#177010
    3171 036320 005201                  	INC R1
    3172 036322 010337  177012          	MOV R3,@#177012
    3173 036326 077221                  	SOB R2,1$
    3174 036330 012637  177010          	MOV (SP)+,@#177010
    3175                                	RET
       1 036334 000207                  	RETURN
    3176                                
    3177 036336 013746  177010          RESTM:	MOV @#177010,-(SP)
    3178 036342 012700  020000          	MOV #40000/2,R0		; INTO
    3179 036346 012701  100000          	MOV #100000,R1
    3180 036352 012702  036120          	MOV #30880./2,R2	; HOW MANY
    3181 036356 010137  177010          1$:	MOV R1,@#177010
    3182 036362 005201                  	INC R1
    3183 036364 013703  177012          	MOV @#177012,R3
    3184 036370 000303                  	SWAB R3
    3185 036372 010137  177010          	MOV R1,@#177010
    3186 036376 005201                  	INC R1
    3187 036400 053703  177012          	BIS @#177012,R3
    3188 036404 010037  177010          	MOV R0,@#177010
    3189 036410 005200                  	INC R0
    3190 036412 000303                  	SWAB R3
    3191 036414 010337  177014          	MOV R3,@#177014
    3192 036420 077222                  	SOB R2,1$
    3193 036422 012637  177010          	MOV (SP)+,@#177010
    3194                                	RET
       1 036426 000207                  	RETURN
    3195                                
    3196 036430 000000                  OLD004:	.WORD 0
    3197 036432 000000                  OLD272:	.WORD 0
    3198 036434 000000                  OLD100:	.WORD 0
    3199 036436 000000                  OLD304:	.WORD 0
    3200 036440 000000                  OLD340:	.WORD 0
    3201 036442 000000                  OLD342:	.WORD 0
    3202 036444 000000                  OLD300:	.WORD 0
    3203 036446 000000                  OL7214:	.WORD 0
    3204 036450 000000                  OLD010: .WORD 0
    3205 036452 000000                  OLDX00: .WORD 0
    3206 036454 000000                  OLDX66: .WORD 0
    3207 036456 000000                  OLDX16: .WORD 0
    3208 036460 000000                  OLDX54:	.WORD 0
    3209                                
    3210 036462 013767  000004  036430' SAVE:	MOV @#4,OLD004
    3211 036470 013767  000272  036432'         MOV @#272,OLD272
    3212 036476 013767  000100  036434' 	MOV @#100,OLD100
    3213 036504 013767  000304  036436' 	MOV @#304,OLD304
    3214 036512 013767  000340  036440' 	MOV @#340,OLD340
    3215 036520 013767  000342  036442' 	MOV @#342,OLD342
    3216 036526 013767  000300  036444' 	MOV @#300,OLD300
    3217 036534 013767  007214  036446' 	MOV @#7214,OL7214
    3218 036542 013767  177010  036450' 	MOV @#177010,OLD010
    3219 036550 013767  177700  036452' 	MOV @#177700,OLDX00
    3220 036556 013767  177066  036454' 	MOV @#177066,OLDX66
    3221 036564 013767  177716  036456' 	MOV @#177716,OLDX16
    3222 036572 013767  177054  036460' 	MOV @#177054,OLDX54
    3223 036600 016746  036766'         	MOV VT0A,-(SP)
    3224 036604 052716  000006          	BIS #6,(SP)
    3225 036610 012637  000272          	MOV (SP)+,@#272
    3226 036614 004767  036246'         	CALL SAVEM
    3227 036620 000207                  	RETURN
    3228                                
    3229                                REST:
    3230 036622 016746  036766'         	MOV VT0A,-(SP)
    3231 036626 052716  000006          	BIS #6,(SP)
    3232 036632 012637  000272          	MOV (SP)+,@#272
    3233 036636 004767  036336'         	CALL RESTM
    3234 036642 016737  036460' 177054  	MOV OLDX54,@#177054
    3235 036650 016737  036456' 177716  	MOV OLDX16,@#177716
    3236 036656 016737  036454' 177066  	MOV OLDX66,@#177066
    3237 036664 016737  036452' 177700  	MOV OLDX00,@#177700
    3238 036672 005037  177712          	CLR @#177712
    3239 036676 016737  036450' 177010  	MOV OLD010,@#177010
    3240 036704 016737  036446' 007214  	MOV OL7214,@#7214
    3241 036712 016737  036444' 000300  	MOV OLD300,@#300
    3242 036720 016737  036440' 000340  	MOV OLD340,@#340
    3243 036726 016737  036442' 000342  	MOV OLD342,@#342
    3244 036734 016737  036436' 000304  	MOV OLD304,@#304
    3245 036742 016737  036434' 000100  	MOV OLD100,@#100
    3246 036750 016737  036432' 000272  	MOV OLD272,@#272
    3247 036756 016737  036430' 000004  	MOV OLD004,@#4
    3248 036764 000207                  	RETURN
    3249 036766 000000                  VT0A:	.WORD 0
    3250 036770 000000                  VT1A:	.WORD 0
    3251 036772 000000                  VT2A:	.WORD 0
    3252 036774 000000                  VT3A:	.WORD 0
    3253 036776 010700                  IVTS:	MOV PC,R0
    3254 037000 062700  004052          	ADD #VTABS-.,R0
    3255 037004 062700  000007          	ADD #7,R0
    3256 037010 042700  000007          	BIC #7,R0
    3257 037014 010067  036770'         	MOV R0,VT1A
    3258 037020 012720  114610          	MOV #114610,(R0)+
    3259 037024 012720  125314          	MOV #125314,(R0)+
    3260 037030 005020                  	CLR (R0)+
    3261 037032 010010                  	MOV R0,(R0)
    3262 037034 062710  000002          	ADD #2,(R0)
    3263 037040 052720  000002          	BIS #2,(R0)+
    3264 037044 012720  024237          	MOV #24237,(R0)+
    3265 037050 012720  000007          	MOV #7,(R0)+
    3266 037054 005020                  	CLR (R0)+
    3267 037056 010010                  	MOV R0,(R0)
    3268 037060 062720  000002          	ADD #2,(R0)+
    3269 037064 012701  000020          	MOV #16.,R1
    3270 037070 005020                  1$:     CLR (R0)+
    3271 037072 010010                  	MOV R0,(R0)
    3272 037074 062720  000002          	ADD #2,(R0)+
    3273 037100 077105                  	SOB R1,1$
    3274 037102 012701  000020          	MOV #16.,R1
    3275 037106 012720  051000          2$:     MOV #51000,(R0)+
    3276 037112 010010                  	MOV R0,(R0)
    3277 037114 062720  000002          	ADD #2,(R0)+
    3278 037120 077106                  	SOB R1,2$
    3279 037122 012702  020000          	MOV #20000,R2
    3280 037126 012703  100000          	MOV #100000,R3
    3281 037132 012701  000100          	MOV #64.,R1
    3282 037136 010220                  3$:     MOV R2,(R0)+
    3283 037140 010010                  	MOV R0,(R0)
    3284 037142 062720  000002          	ADD #2,(R0)+
    3285 037146 062702  000120          	ADD #80.,R2
    3286 037152 010320                  	MOV R3,(R0)+
    3287 037154 010010                  	MOV R0,(R0)
    3288 037156 062720  000002          	ADD #2,(R0)+
    3289 037162 062703  000120          	ADD #80.,R3
    3290 037166 077115                  	SOB R1,3$
    3291 037170 012703  044000          	MOV #44000,R3
    3292 037174 010220                  	MOV R2,(R0)+
    3293 037176 010010                  	MOV R0,(R0)
    3294 037200 062720  000002          	ADD #2,(R0)+
    3295 037204 062702  000120          	ADD #80.,R2
    3296 037210 010320                  	MOV R3,(R0)+
    3297 037212 010010                  	MOV R0,(R0)
    3298 037214 062720  000002          	ADD #2,(R0)+
    3299 037220 010220                  	MOV R2,(R0)+
    3300 037222 010010                  	MOV R0,(R0)
    3301 037224 062720  000002          	ADD #2,(R0)+
    3302 037230 062702  000120          	ADD #80.,R2
    3303 037234 052760  000001  177776  	BIS #1,-2(R0)
    3304 037242 010320                  	MOV R3,(R0)+
    3305 037244 010010                  	MOV R0,(R0)
    3306 037246 062720  000002          	ADD #2,(R0)+
    3307 037252 062703  000120          	ADD #80.,R3
    3308 037256 052760  000002  177776  	BIS #2,-2(R0)
    3309 037264 012720  024017          	MOV #24017,(R0)+
    3310 037270 012720  000007          	MOV #7,(R0)+
    3311 037274 010220                  	MOV R2,(R0)+
    3312 037276 010010                  	MOV R0,(R0)
    3313 037300 062720  000002          	ADD #2,(R0)+
    3314 037304 062702  000120          	ADD #80.,R2
    3315 037310 052760  000002  177776  	BIS #2,-2(R0)
    3316 037316 012720  024237          	MOV #24237,(R0)+
    3317 037322 012720  000007          	MOV #7,(R0)+
    3318 037326 010320                  	MOV R3,(R0)+
    3319 037330 010010                  	MOV R0,(R0)
    3320 037332 062720  000002          	ADD #2,(R0)+
    3321 037336 010220                  	MOV R2,(R0)+
    3322 037340 010010                  	MOV R0,(R0)
    3323 037342 062720  000002          	ADD #2,(R0)+
    3324 037346 062702  000120          	ADD #80.,R2
    3325 037352 010320                  	MOV R3,(R0)+
    3326 037354 010010                  	MOV R0,(R0)
    3327 037356 062720  000002          	ADD #2,(R0)+
    3328 037362 062703  000120          	ADD #80.,R3
    3329 037366 052760  000001  177776  	BIS #1,-2(R0)
    3330 037374 012701  000074          	MOV #64.-4.,R1
    3331 037400 010220                  4$:     MOV R2,(R0)+
    3332 037402 010010                  	MOV R0,(R0)
    3333 037404 062720  000002          	ADD #2,(R0)+
    3334 037410 062702  000120          	ADD #80.,R2
    3335 037414 010320                  	MOV R3,(R0)+
    3336 037416 010010                  	MOV R0,(R0)
    3337 037420 062720  000002          	ADD #2,(R0)+
    3338 037424 030127  000001          	BIT R1,#1
    3339 037430 001402                  	BEQ 40$
    3340 037432 062703  000120          	ADD #80.,R3
    3341                                40$:
    3342 037436 077120                  	SOB R1,4$
    3343 037440 012720  051000          	MOV #51000,(R0)+
    3344 037444 010010                  	MOV R0,(R0)
    3345 037446 162720  000002          	SUB #2,(R0)+
    3346 037452 062700  000007          	ADD #7,R0
    3347 037456 042700  000007          	BIC #7,R0
    3348 037462 010067  036772'         	MOV R0,VT2A
    3349 037466 012720  114610          	MOV #114610,(R0)+
    3350 037472 012720  125314          	MOV #125314,(R0)+
    3351 037476 005020                  	CLR (R0)+
    3352 037500 010010                  	MOV R0,(R0)
    3353 037502 062710  000002          	ADD #2,(R0)
    3354 037506 052720  000002          	BIS #2,(R0)+
    3355 037512 012720  000020          	MOV #20,(R0)+
    3356 037516 012720  000007          	MOV #7,(R0)+
    3357 037522 005020                  	CLR (R0)+
    3358 037524 010010                  	MOV R0,(R0)
    3359 037526 062720  000002          	ADD #2,(R0)+
    3360 037532 012701  000020          	MOV #16.,R1
    3361 037536 005020                  5$:     CLR (R0)+
    3362 037540 010010                  	MOV R0,(R0)
    3363 037542 062720  000002          	ADD #2,(R0)+
    3364 037546 077105                  	SOB R1,5$
    3365 037550 012701  000020          	MOV #16.,R1
    3366 037554 012720  051000          6$:     MOV #51000,(R0)+
    3367 037560 010010                  	MOV R0,(R0)
    3368 037562 062720  000002          	ADD #2,(R0)+
    3369 037566 077106                  	SOB R1,6$
    3370 037570 012701  000400          	MOV #256.,R1
    3371 037574 012702  100000          	MOV #100000,R2
    3372 037600 010220                  7$:	MOV R2,(R0)+
    3373 037602 010010                  	MOV R0,(R0)
    3374 037604 062720  000002          	ADD #2,(R0)+
    3375 037610 062702  000120          	ADD #80.,R2
    3376 037614 077107                  	SOB R1,7$
    3377 037616 012720  051000          	MOV #51000,(R0)+
    3378 037622 010010                  	MOV R0,(R0)
    3379 037624 162720  000002          	SUB #2,(R0)+
    3380 037630 062700  000007          	ADD #7,R0
    3381 037634 042700  000007          	BIC #7,R0
    3382 037640 010067  036774'         	MOV R0,VT3A
    3383 037644 012720  114610          	MOV #114610,(R0)+
    3384 037650 012720  125314          	MOV #125314,(R0)+
    3385 037654 005020                  	CLR (R0)+
    3386 037656 010010                  	MOV R0,(R0)
    3387 037660 062710  000002          	ADD #2,(R0)
    3388 037664 052720  000002          	BIS #2,(R0)+
    3389 037670 012720  024237          	MOV #24237,(R0)+
    3390 037674 012720  000007          	MOV #7,(R0)+
    3391 037700 005020                  	CLR (R0)+
    3392 037702 010010                  	MOV R0,(R0)
    3393 037704 062720  000002          	ADD #2,(R0)+
    3394 037710 012701  000020          	MOV #16.,R1
    3395 037714 005020                  8$:     CLR (R0)+
    3396 037716 010010                  	MOV R0,(R0)
    3397 037720 062720  000002          	ADD #2,(R0)+
    3398 037724 077105                  	SOB R1,8$
    3399 037726 012701  000020          	MOV #16.,R1
    3400 037732 012720  051000          9$:     MOV #51000,(R0)+
    3401 037736 010010                  	MOV R0,(R0)
    3402 037740 062720  000002          	ADD #2,(R0)+
    3403 037744 077106                  	SOB R1,9$
    3404 037746 012702  020000          	MOV #20000,R2
    3405 037752 012703  100000          	MOV #100000,R3
    3406 037756 012701  000100          	MOV #64.,R1
    3407 037762 010220                  10$:	MOV R2,(R0)+
    3408 037764 010010                  	MOV R0,(R0)
    3409 037766 062720  000002          	ADD #2,(R0)+
    3410 037772 062702  000120          	ADD #80.,R2
    3411 037776 010320                  	MOV R3,(R0)+
    3412 040000 010010                  	MOV R0,(R0)
    3413 040002 062720  000002          	ADD #2,(R0)+
    3414 040006 062703  000120          	ADD #80.,R3
    3415 040012 077115                  	SOB R1,10$
    3416 040014 012703  051120          	MOV #51120,R3
    3417 040020 010220                  	MOV R2,(R0)+
    3418 040022 010010                  	MOV R0,(R0)
    3419 040024 062720  000002          	ADD #2,(R0)+
    3420 040030 062702  000120          	ADD #80.,R2
    3421 040034 010320                  	MOV R3,(R0)+
    3422 040036 010010                  	MOV R0,(R0)
    3423 040040 062720  000002          	ADD #2,(R0)+
    3424 040044 010220                  	MOV R2,(R0)+
    3425 040046 010010                  	MOV R0,(R0)
    3426 040050 062720  000002          	ADD #2,(R0)+
    3427 040054 062702  000120          	ADD #80.,R2
    3428 040060 052760  000001  177776  	BIS #1,-2(R0)
    3429 040066 010320                  	MOV R3,(R0)+
    3430 040070 010010                  	MOV R0,(R0)
    3431 040072 062720  000002          	ADD #2,(R0)+
    3432 040076 062703  000120          	ADD #80.,R3
    3433 040102 052760  000002  177776  	BIS #2,-2(R0)
    3434 040110 012720  024017          	MOV #24017,(R0)+
    3435 040114 012720  000007          	MOV #7,(R0)+
    3436 040120 010220                  	MOV R2,(R0)+
    3437 040122 010010                  	MOV R0,(R0)
    3438 040124 062720  000002          	ADD #2,(R0)+
    3439 040130 062702  000120          	ADD #80.,R2
    3440 040134 052760  000002  177776  	BIS #2,-2(R0)
    3441 040142 012720  024237          	MOV #24237,(R0)+
    3442 040146 012720  000007          	MOV #7,(R0)+
    3443 040152 010320                  	MOV R3,(R0)+
    3444 040154 010010                  	MOV R0,(R0)
    3445 040156 062720  000002          	ADD #2,(R0)+
    3446 040162 010220                  	MOV R2,(R0)+
    3447 040164 010010                  	MOV R0,(R0)
    3448 040166 062720  000002          	ADD #2,(R0)+
    3449 040172 062702  000120          	ADD #80.,R2
    3450 040176 010320                  	MOV R3,(R0)+
    3451 040200 010010                  	MOV R0,(R0)
    3452 040202 062720  000002          	ADD #2,(R0)+
    3453 040206 062703  000120          	ADD #80.,R3
    3454 040212 052760  000001  177776  	BIS #1,-2(R0)
    3455 040220 012701  000074          	MOV #64.-4.,R1
    3456 040224 010220                  11$:	MOV R2,(R0)+
    3457 040226 010010                  	MOV R0,(R0)
    3458 040230 062720  000002          	ADD #2,(R0)+
    3459 040234 062702  000120          	ADD #80.,R2
    3460 040240 010320                  	MOV R3,(R0)+
    3461 040242 010010                  	MOV R0,(R0)
    3462 040244 062720  000002          	ADD #2,(R0)+
    3463 040250 030127  000001          	BIT R1,#1
    3464 040254 001402                  	BEQ 110$
    3465 040256 062703  000120          	ADD #80.,R3
    3466                                110$:
    3467 040262 077120                  	SOB R1,11$
    3468 040264 012720  051000          	MOV #51000,(R0)+
    3469 040270 010010                  	MOV R0,(R0)
    3470 040272 162720  000002          	SUB #2,(R0)+
    3471 040276 062700  000007          	ADD #7,R0
    3472 040302 042700  000007          	BIC #7,R0
    3473 040306 010067  036766'         	MOV R0,VT0A
    3474 040312 062700  000007          	ADD #7,R0
    3475 040316 042700  000007          	BIC #7,R0
    3476 040322 010067  036766'         	MOV R0,VT0A
    3477 040326 012720  114610          	MOV #114610,(R0)+
    3478 040332 012720  125314          	MOV #125314,(R0)+
    3479 040336 005020                  	CLR (R0)+
    3480 040340 010010                  	MOV R0,(R0)
    3481 040342 062710  000002          	ADD #2,(R0)
    3482 040346 052720  000002          	BIS #2,(R0)+
    3483 040352 012720  024237          	MOV #24237,(R0)+
    3484 040356 012720  000007          	MOV #7,(R0)+
    3485 040362 005020                  	CLR (R0)+
    3486 040364 010010                  	MOV R0,(R0)
    3487 040366 062720  000002          	ADD #2,(R0)+
    3488 040372 012720  007110          	MOV #MAP/2,(R0)+	; 2 Some empty buffer
    3489 040376 010010                  	MOV R0,(R0)
    3490 040400 162720  000002          	SUB #2,(R0)+
    3491 040404 000207                  	RETURN
    3492                                
    3493 040406 010046                  CH2PLI:	MOV R0,-(SP)
    3494 040410 010146                  	MOV R1,-(SP)
    3495 040412 010246                  	MOV R2,-(SP)
    3496 040414 010346                  	MOV R3,-(SP)
    3497 040416 010446                  	MOV R4,-(SP)
    3498 040420 010546                  	MOV R5,-(SP)
    3499 040422 113700  177064          	MOVB @#177064,R0
    3500 040426 006300                  	ASL R0
    3501 040430 060007                  	ADD R0,PC
    3502 040432 000425                  	BR CH2P0
    3503 040434 000433                  	BR CH2P1
    3504 040436 000441                  	BR CH2P2
    3505 040440 000447                  	BR CH2P3
    3506 040442 000455                  	BR CH2P4
    3507 040444 000463                  	BR CH2P5
    3508 040446 000465                  	BR CH2P6
    3509 040450 000467                  	BR CH2P7
    3510 040452 000471                  	BR CH2P8
    3511 040454 000473                  	BR CH2P9
    3512 040456 000476                  	BR CH2P10
    3513 040460 000504                  	BR CH2P11
    3514 040462 000506                  	BR CH2P12
    3515 040464 004767  036222'         EXP:	CALL READY
    3516 040470 012605                  	MOV (SP)+,R5
    3517 040472 012604                  	MOV (SP)+,R4
    3518 040474 012603                  	MOV (SP)+,R3
    3519 040476 012602                  	MOV (SP)+,R2
    3520 040500 012601                  	MOV (SP)+,R1
    3521 040502 012600                  	MOV (SP)+,R0
    3522 040504 000002                  	RTI
    3523                                
    3524                                CH2P0:
    3525 040506 016746  036770'         	MOV VT1A,-(SP)
    3526 040512 052716  000006          	BIS #6,(SP)
    3527 040516 012637  000272          	MOV (SP)+,@#272
    3528 040522 000760                  	BR EXP
    3529                                CH2P1:
    3530 040524 016746  036772'         	MOV VT2A,-(SP)
    3531 040530 052716  000006          	BIS #6,(SP)
    3532 040534 012637  000272          	MOV (SP)+,@#272
    3533 040540 000751                  	BR EXP
    3534                                CH2P2:
    3535 040542 012767  000736  041102' 	MOV #478.,TON+2
    3536 040550 012767  000005  041016' 	MOV #5.,COUNT
    3537 040556 000742                  	BR EXP
    3538                                CH2P3:
    3539 040560 012767  000573  041102' 	MOV #379.,TON+2
    3540 040566 012767  000005  041016' 	MOV #5.,COUNT
    3541 040574 000733                  	BR EXP
    3542                                CH2P4:
    3543 040576 012767  000357  041102' 	MOV #239.,TON+2
    3544 040604 012767  000005  041016' 	MOV #5.,COUNT
    3545 040612 000724                  	BR EXP
    3546 040614 004767  036776'         CH2P5:	CALL IVTS
    3547 040620 000721                  	BR EXP
    3548 040622 004767  036622'         CH2P6:	CALL REST
    3549 040626 000716                  	BR EXP
    3550 040630 004767  042264'         CH2P7:  CALL XTXCH
    3551 040634 000713                  	BR EXP
    3552 040636 004767  042612'         CH2P8:  CALL XPRCH
    3553 040642 000710                  	BR EXP
    3554 040644 042737  001000  177054  CH2P9:	BIC #^B0000001000000000,@#177054
    3555 040652 000704                  	BR EXP
    3556 040654 016746  036774'         CH2P10:	MOV VT3A,-(SP)
    3557 040660 052716  000006          	BIS #6,(SP)
    3558 040664 012637  000272          	MOV (SP)+,@#272
    3559 040670 000675                  	BR EXP
    3560 040672 004767  041110'         CH2P11:	CALL MSSPR
    3561 040676 000672                  	BR EXP
    3562 040700 013746  177010          CH2P12: MOV @#177010,-(SP)
    3563 040704 012737  016626  177010  	MOV #APAL/2,@#177010
    3564 040712 013700  177014          	MOV @#177014,R0
    3565 040716 006300                  	ASL R0
    3566 040720 006300                  	ASL R0
    3567 040722 010701                  	MOV PC,R1
    3568 040724 062701  000050          	ADD #PALTAB-.,R1
    3569 040730 060001                  	ADD R0,R1
    3570 040732 012100                  	MOV (R1)+,R0
    3571 040734 011101                  	MOV (R1),R1
    3572 040736 016702  036770'         	MOV VT1A,R2
    3573 040742 010022                  	MOV R0,(R2)+
    3574 040744 010112                  	MOV R1,(R2)
    3575 040746 016702  036772'         	MOV VT2A,R2
    3576 040752 010022                  	MOV R0,(R2)+
    3577 040754 010112                  	MOV R1,(R2)
    3578 040756 016702  036774'         	MOV VT3A,R2
    3579 040762 010022                  	MOV R0,(R2)+
    3580 040764 010112                  	MOV R1,(R2)
    3581 040766 012637  177010          	MOV (SP)+,@#177010
    3582 040772 000634                  	BR EXP
    3583 040774 114610  125314          PALTAB:	.WORD 114610,125314
    3584 041000 114610  146252          	.WORD 114610,146252
    3585 041004 135610  177756          	.WORD 135610,177756
    3586 041010 156610  177756          	.WORD 156610,177756
    3587                                
    3588 041014 005327                  POPT:	DEC (PC)+
    3589 041016 000005                  COUNT:	.WORD 5.
    3590 041020 001006                  	BNE 1$
    3591 041022 012767  000200  041102' 	MOV #128.,TON+2
    3592 041030 012767  000005  041016' 	MOV #5.,COUNT
    3593 041036 004767  041110'         1$:	CALL MSSPR
    3594 041042 000002                  	RTI
    3595                                
    3596 041044 005737  177714          POP:	TST @#177714
    3597 041050 005737  177714          	TST @#177714
    3598 041054 026727  041102' 000200  	CMP TON+2,#128.
    3599 041062 001406                  	BEQ TON
    3600 041064 010046                  	MOV R0,-(SP)
    3601 041066 012700  000200          	MOV #200,R0
    3602 041072 074037  177716          	XOR R0,@#177716
    3603 041076 012600                  	MOV (SP)+,R0
    3604 041100 012737  000000  177712  TON:	MOV #0,@#177712
    3605 041106 000002                  	RTI
    3606                                
    3607 041110 005767  036150'         MSSPR:	TST NOMSE
    3608 041114 001105                  	BNE 1$
    3609 041116 010046                  	MOV R0,-(SP)
    3610 041120 013700  177400          	MOV @#177400,R0
    3611 041124 013746  177010          	MOV @#177010,-(SP)
    3612 041130 012737  016625  177010  	MOV #MSST/2,@#177010
    3613 041136 005767  036150'         	TST NOMSE
    3614 041142 001403                  	BEQ 6$
    3615 041144 005067  036150'         	CLR NOMSE
    3616 041150 005000                  	CLR R0
    3617 041152 020027  100601          6$:	CMP R0,#100601
    3618 041156 001001                  	BNE 7$
    3619 041160 005000                  	CLR R0
    3620 041162 010037  177014          7$:	MOV R0,@#177014
    3621 041166 030027  000001          	BIT R0,#1.
    3622 041172 001412                  	BEQ 2$
    3623 041174 036727  041332' 000001  	BIT PMSST,#1.
    3624 041202 001017                  	BNE 4$
    3625 041204 012737  016607  177010  	MOV #KeyShift/2,@#177010
    3626 041212 005237  177014          	INC @#177014
    3627 041216 000411                  	BR 4$
    3628 041220 036727  041332' 000001  2$:	BIT PMSST,#1.
    3629 041226 001405                  	BEQ 4$
    3630 041230 012737  016607  177010  	MOV #KeyShift/2,@#177010
    3631 041236 005037  177014          	CLR @#177014
    3632 041242 030027  000400          4$:	BIT R0,#256.
    3633 041246 001412                  	BEQ 3$
    3634 041250 036727  041332' 000400  	BIT PMSST,#256.
    3635 041256 001017                  	BNE 5$
    3636 041260 012737  016611  177010  	MOV #KeySpace/2,@#177010
    3637 041266 005237  177014          	INC @#177014
    3638 041272 000411                  	BR 5$
    3639 041274 036727  041332' 000400  3$:	BIT PMSST,#256.
    3640 041302 001405                  	BEQ 5$
    3641 041304 012737  016611  177010  	MOV #KeySpace/2,@#177010
    3642 041312 005037  177014          	CLR @#177014
    3643 041316 010067  041332'         5$:	MOV R0,PMSST
    3644 041322 012637  177010          	MOV (SP)+,@#177010
    3645 041326 012600                  	MOV (SP)+,R0
    3646                                1$:	RET
       1 041330 000207                  	RETURN
    3647                                
    3648 041332 000000                  PMSST:	.WORD 0
    3649                                
    3650 041334 005037  177710          TINIT:	CLR @#177710
    3651 041340 005737  177714          	TST @#177714
    3652 041344 005737  177714          	TST @#177714
    3653 041350 005737  177710          	TST @#177710
    3654 041354 001367                  	BNE TINIT
    3655 041356 000207                  	RETURN
    3656                                
    3657 041360 010046                  KINT:	MOV R0,-(SP)
    3658 041362 013700  177702          	MOV @#177702,R0
    3659 041366 010146                  	MOV R1,-(SP)
    3660 041370 010246                  	MOV R2,-(SP)
    3661 041372 010346                  	MOV R3,-(SP)
    3662 041374 010446                  	MOV R4,-(SP)
    3663 041376 010546                  	MOV R5,-(SP)
    3664 041400 012704  177010          	MOV #177010,R4
    3665 041404 012705  177014          	MOV #177014,R5
    3666 041410 011446                  	MOV (R4),-(SP)
    3667 041412 012714  016617          	MOV #KeyCurrent/2,(R4)
    3668 041416 010015                  	MOV R0,(R5)
    3669 041420 032700  000200          	BIT #^B10000000,R0
    3670 041424 001023                  	BNE 50$
    3671 041426 012714  016616          	MOV #KeyAny/2,(R4)	; 'anykey' is also pressed
    3672 041432 005215                  	INC (R5)
    3673 041434 010701                  	MOV PC,R1
    3674 041436 062701  000362          	ADD #KDN-.,R1
    3675 041442 005711                  10$:	TST (R1)
    3676 041444 001555                  	BEQ 90$
    3677 041446 020021                  	CMP R0,(R1)+
    3678 041450 001403                  	BEQ 20$
    3679 041452 062701  000004          	ADD #4,R1
    3680 041456 000771                  	BR 10$
    3681                                20$:
    3682 041460 012114                  	MOV (R1)+,(R4)
    3683 041462 005215                  	INC (R5)
    3684 041464 012114                  	MOV (R1)+,(R4)
    3685 041466 001544                  	BEQ 90$
    3686 041470 005015                  	CLR (R5)
    3687 041472 000542                  	BR 90$
    3688                                50$:
    3689 041474 042700  177760          	BIC #^B1111111111110000,R0
    3690 041500 006300                  	ASL R0
    3691 041502 060007                  	ADD R0,PC
    3692 041504 000535                  	BR 90$
    3693 041506 000534                  	BR 90$
    3694 041510 000533                  	BR 90$
    3695 041512 000532                  	BR 90$
    3696 041514 000413                  	BR 104$
    3697 041516 000415                  	BR 105$
    3698 041520 000527                  	BR 90$
    3699 041522 000416                  	BR 107$
    3700 041524 000423                  	BR 108$
    3701 041526 000436                  	BR 109$
    3702 041530 000446                  	BR 110$
    3703 041532 000456                  	BR 111$
    3704 041534 000466                  	BR 112$
    3705 041536 000501                  	BR 113$
    3706 041540 000506                  	BR 114$
    3707 041542 000513                  	BR 115$
    3708 041544 012714  016605          104$:	MOV #KeyStop/2,(R4)
    3709 041550 000512                  	BR 91$
    3710 041552 012714  016607          105$:   MOV #KeyShift/2,(R4)
    3711 041556 000507                  	BR 91$
    3712 041560 012714  016563          107$:	MOV #KeyJ/2,(R4)
    3713 041564 005015                  	CLR (R5)
    3714 041566 012714  016565          	MOV #KeyF/2,(R4)
    3715 041572 000501                  	BR 91$
    3716 041574 012714  016564          108$:   MOV #KeyC/2,(R4)
    3717 041600 005015                  	CLR (R5)
    3718 041602 012714  016566          	MOV #KeyY/2,(R4)
    3719 041606 005015                  	CLR (R5)
    3720 041610 012714  016577          	MOV #Key1/2,(R4)
    3721 041614 005015                  	CLR (R5)
    3722 041616 012714  016604          	MOV #KeyK1/2,(R4)
    3723 041622 000465                  	BR 91$
    3724 041624 012714  016567          109$:   MOV #KeyW/2,(R4)
    3725 041630 005015                  	CLR (R5)
    3726 041632 012714  016576          	MOV #Key2/2,(R4)
    3727 041636 005015                  	CLR (R5)
    3728 041640 012714  016603          	MOV #KeyK2/2,(R4)
    3729 041644 000454                  	BR 91$
    3730 041646 012714  016575          110$:   MOV #Key3/2,(R4)
    3731 041652 005015                  	CLR (R5)
    3732 041654 012714  016606          	MOV #KeyUst/2,(R4)
    3733 041660 005015                  	CLR (R5)
    3734 041662 012714  016602          	MOV #KeyK3/2,(R4)
    3735 041666 000443                  	BR 91$
    3736 041670 012714  016574          111$:   MOV #Key4/2,(R4)
    3737 041674 005015                  	CLR (R5)
    3738 041676 012714  016611          	MOV #KeySpace/2,(R4)
    3739 041702 005015                  	CLR (R5)
    3740 041704 012714  016612          	MOV #KeyRight/2,(R4)
    3741 041710 000432                  	BR 91$
    3742 041712 012714  016573          112$:   MOV #Key5/2,(R4)
    3743 041716 005015                  	CLR (R5)
    3744 041720 012714  016614          	MOV #KeyDown/2,(R4)
    3745 041724 005015                  	CLR (R5)
    3746 041726 012714  016615          	MOV #KeyUp/2,(R4)
    3747 041732 005015                  	CLR (R5)
    3748 041734 012714  016601          	MOV #KeyK4/2,(R4)
    3749 041740 000416                  	BR 91$
    3750 041742 012714  016572          113$:   MOV #Key6/2,(R4)
    3751 041746 005015                  	CLR (R5)
    3752 041750 012714  016600          	MOV #KeyK5/2,(R4)
    3753 041754 000410                  	BR 91$
    3754 041756 012714  016571          114$:   MOV #Key7/2,(R4)
    3755 041762 005015                  	CLR (R5)
    3756 041764 012714  016613          	MOV #KeyLeft/2,(R4)
    3757 041770 000402                  	BR 91$
    3758 041772 012714  016570          115$:   MOV #Key8/2,(R4)
    3759 041776 005015                  91$:	CLR (R5)
    3760 042000 012614                  90$:	MOV (SP)+,(R4)
    3761 042002 012605                  	MOV (SP)+,R5
    3762 042004 012604                  	MOV (SP)+,R4
    3763 042006 012603                  	MOV (SP)+,R3
    3764 042010 012602                  	MOV (SP)+,R2
    3765 042012 012601                  	MOV (SP)+,R1
    3766 042014 012600                  	MOV (SP)+,R0
    3767 042016 000002                  	RTI
    3768 042020 000004  016605  000000  KDN:	.WORD ^B00000100,KeyStop/2,0
    3769 042026 000152  016606  000000  	.WORD ^B01101010,KeyUst/2,0
    3770 042034 000153  016610  000000  	.WORD ^B01101011,KeyEnter/2,0
    3771 042042 000030  016577  000000  	.WORD ^B00011000,Key1/2,0
    3772 042050 000031  016576  000000  	.WORD ^B00011001,Key2/2,0
    3773 042056 000032  016575  000000  	.WORD ^B00011010,Key3/2,0
    3774 042064 000013  016574  000000  	.WORD ^B00001011,Key4/2,0
    3775 042072 000034  016573  000000  	.WORD ^B00011100,Key5/2,0
    3776 042100 000035  016572  000000  	.WORD ^B00011101,Key6/2,0
    3777 042106 000016  016571  000000  	.WORD ^B00001110,Key7/2,0
    3778 042114 000017  016570  000000  	.WORD ^B00001111,Key8/2,0
    3779 042122 000113  016611  000000  	.WORD ^B01001011,KeySpace/2,0
    3780 042130 000134  016614  016615  	.WORD ^B01011100,KeyDown/2,KeyUp/2
    3781 042136 000154  016615  016614  	.WORD ^B01101100,KeyUp/2,KeyDown/2
    3782 042144 000116  016613  016612  	.WORD ^B01001110,KeyLeft/2,KeyRight/2
    3783 042152 000133  016612  016613  	.WORD ^B01011011,KeyRight/2,KeyLeft/2
    3784 042160 000010  016604  000000  	.WORD ^B00001000,KeyK1/2,0
    3785 042166 000011  016603  000000  	.WORD ^B00001001,KeyK2/2,0
    3786 042174 000012  016602  000000  	.WORD ^B00001010,KeyK3/2,0
    3787 042202 000014  016601  000000  	.WORD ^B00001100,KeyK4/2,0
    3788 042210 000015  016600  000000  	.WORD ^B00001101,KeyK5/2,0
    3789 042216 000105  016607  000000  	.WORD ^B01000101,KeyShift/2,0
    3790 042224 000027  016563  016602  	.WORD ^B00010111,KeyJ/2,KeyK3/2
    3791 042232 000050  016564  016614  	.WORD ^B00101000,KeyC/2,KeyDown/2
    3792 042240 000047  016565  016567  	.WORD ^B00100111,KeyF/2,KeyW/2
    3793 042246 000070  016566  016615  	.WORD ^B00111000,KeyY/2,KeyUp/2
    3794 042254 000071  016567  016565  	.WORD ^B00111001,KeyW/2,KeyF/2
    3795 042262 000000                  	.WORD 0
    3796                                
    3797 042264 013746  177010          XTXCH:	MOV @#177010,-(SP)
    3798 042270 012737  016620  177010  	MOV #PPUV1/2,@#177010
    3799 042276 013700  177014          	MOV @#177014,R0
    3800 042302 012737  016621  177010  	MOV #PPUV2/2,@#177010
    3801 042310 013702  177014          	MOV @#177014,R2
    3802 042314 012737  016622  177010  	MOV #PPUV3/2,@#177010
    3803 042322 013767  177014  042606' 	MOV @#177014,XCHMSK
    3804 042330 012737  016623  177010  	MOV #PPUV4/2,@#177010
    3805 042336 013767  177014  042610' 	MOV @#177014,XCHUND
    3806 042344 010246                  	MOV R2,-(SP)
    3807 042346 006302                  	ASL R2
    3808 042350 010246                  	MOV R2,-(SP)
    3809 042352 006302                  	ASL R2
    3810 042354 006302                  	ASL R2
    3811 042356 062602                  	ADD (SP)+,R2
    3812 042360 062602                  	ADD (SP)+,R2
    3813 042362 062702  117430          	ADD #FNT,R2
    3814 042366 012701  000013          	MOV #11.,R1
    3815 042372 112203                  1$:	MOVB (R2)+,R3
    3816 042374 005004                  	CLR R4
    3817 042376 005005                  	CLR R5
    3818 042400 106003                  	RORB R3
    3819 042402 103002                  	BCC 2$
    3820 042404 052704  001403          	BIS #^B0000001100000011,R4
    3821 042410 106003                  2$:	RORB R3
    3822 042412 103002                  	BCC 3$
    3823 042414 052704  006014          	BIS #^B0000110000001100,R4
    3824 042420 106003                  3$:	RORB R3
    3825 042422 103002                  	BCC 4$
    3826 042424 052704  030060          	BIS #^B0011000000110000,R4
    3827 042430 106003                  4$:	RORB R3
    3828 042432 103002                  	BCC 5$
    3829 042434 052704  140300          	BIS #^B1100000011000000,R4
    3830 042440 106003                  5$:	RORB R3
    3831 042442 103002                  	BCC 6$
    3832 042444 052705  001403          	BIS #^B0000001100000011,R5
    3833 042450 106003                  6$:	RORB R3
    3834 042452 103002                  	BCC 7$
    3835 042454 052705  006014          	BIS #^B0000110000001100,R5
    3836 042460 106003                  7$:	RORB R3
    3837 042462 103002                  	BCC 8$
    3838 042464 052705  030060          	BIS #^B0011000000110000,R5
    3839 042470 106003                  8$:	RORB R3
    3840 042472 103002                  	BCC 9$
    3841 042474 052705  140300          	BIS #^B1100000011000000,R5
    3842                                9$:
    3843 042500 046704  042606'         	BIC XCHMSK,R4
    3844 042504 046705  042606'         	BIC XCHMSK,R5
    3845 042510 010037  177010          	MOV R0,@#177010
    3846 042514 010437  177014          	MOV R4,@#177014
    3847                                
    3848 042520 005237  177010          	INC @#177010
    3849 042524 010537  177014          	MOV R5,@#177014
    3850                                
    3851 042530 062700  000120          	ADD #C_SCRWIH,R0
    3852 042534 077162                  	SOB R1,1$
    3853 042536 005337  177010          	DEC @#177010
    3854 042542 056737  042610' 177014  	BIS XCHUND,@#177014
    3855 042550 005237  177010          	INC @#177010
    3856 042554 056737  042610' 177014  	BIS XCHUND,@#177014
    3857 042562 162700  001556          	SUB #880.-2.,R0
    3858 042566 012737  016620  177010  	MOV #PPUV1/2,@#177010
    3859 042574 010037  177014          	MOV R0,@#177014
    3860 042600 012637  177010          	MOV (SP)+,@#177010
    3861                                	RET
       1 042604 000207                  	RETURN
    3862 042606 000000                  XCHMSK:	.WORD 0
    3863 042610 000000                  XCHUND:	.WORD 0
    3864 042612 013746  177010          XPRCH:	MOV @#177010,-(SP)
    3865 042616 012737  016620  177010  	MOV #PPUV1/2,@#177010
    3866 042624 013700  177014          	MOV @#177014,R0
    3867 042630 012737  016621  177010  	MOV #PPUV2/2,@#177010
    3868 042636 013701  177014          	MOV @#177014,R1
    3869 042642 010146                  	MOV R1,-(SP)
    3870 042644 010046                  	MOV R0,-(SP)
    3871 042646 006300                  	ASL R0
    3872 042650 010046                  	MOV R0,-(SP)
    3873 042652 006300                  	ASL R0
    3874 042654 006300                  	ASL R0
    3875 042656 062600                  	ADD (SP)+,R0
    3876 042660 062600                  	ADD (SP)+,R0
    3877 042662 062700  117430          	ADD #FNT,R0
    3878 042666 012746  000013          	MOV #11.,-(SP)
    3879 042672 012702  000004          1$:	MOV #4.,R2
    3880 042676 112003                  	MOVB (R0)+,R3
    3881 042700 010137  177010          2$:	MOV R1,@#177010
    3882 042704 005037  177014          	CLR @#177014
    3883 042710 062737  000120  177010  	ADD #C_SCRWIH,@#177010
    3884 042716 005037  177014          	CLR @#177014
    3885 042722 106003                  	RORB R3
    3886 042724 103013                  	BCC 3$
    3887 042726 010137  177010          	MOV R1,@#177010
    3888 042732 052737  007417  177014  	BIS #7417,@#177014
    3889 042740 062737  000120  177010  	ADD #C_SCRWIH,@#177010
    3890 042746 052737  007417  177014  	BIS #7417,@#177014
    3891 042754 106003                  3$:	RORB R3
    3892 042756 103013                  	BCC 4$
    3893 042760 010137  177010          	MOV R1,@#177010
    3894 042764 052737  170360  177014  	BIS #170360,@#177014
    3895 042772 062737  000120  177010  	ADD #C_SCRWIH,@#177010
    3896 043000 052737  170360  177014  	BIS #170360,@#177014
    3897 043006 005201                  4$:	INC R1
    3898 043010 077245                  	SOB R2,2$
    3899 043012 062701  000234          	ADD #C_SCRWIH+C_SCRWIH-4,R1
    3900 043016 005316                  	DEC (SP)
    3901 043020 001324                  	BNE 1$
    3902 043022 005726                  	TST (SP)+
    3903 043024 012601                  	MOV (SP)+,R1
    3904 043026 062701  000004          	ADD #4.,R1
    3905 043032 012737  016621  177010  	MOV #PPUV2/2,@#177010
    3906 043040 010137  177014          	MOV R1,@#177014
    3907 043044 012637  177010          	MOV (SP)+,@#177010
    3908                                	RET
       1 043050 000207                  	RETURN
    3909                                
    3910 043052                         VTABS:	.BLKB VDTBSZ
    3911 053052 000240                  	NOP
    3912                                
    3913                                PPUEND:
    3914                                
    3915                                	.END START
    3916                                
    3916                                
